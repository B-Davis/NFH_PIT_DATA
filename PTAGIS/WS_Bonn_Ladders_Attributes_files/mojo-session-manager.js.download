(function(){mstrmojo.boxmodel=mstrmojo.provide("mstrmojo.boxmodel",{rangeIntersect:function E(J,H,I,G){if(J<I){return I<=H;}if(J>I){return J<=G;}return true;},px2Inches:function C(H,G){G=parseInt(G,10);return mstrmojo.NumberFormat.format(parseFloat((G/H.zf/H.dpi).toFixed(4)));},offset:function F(I,H){var L=I,G=0,K=0;while(I){G+=(I.className==="mstrd-Page")?0:I.offsetLeft;K+=I.offsetTop;I=I.offsetParent;if(I===H){break;}}var J;for(J=L&&L.parentNode;J&&J!==H;J=J.parentNode){if(J.scrollTop){K-=J.scrollTop;}if(J.scrollLeft){G-=J.scrollLeft;}}return{left:G,top:K};},convert2px:function D(K,I){if(!/px$/.test(I)){var H=document.createElement("img"),G=H.style,J;G.zIndex=-1;G.left=I;K.appendChild(H);J=G.pixelLeft;K.removeChild(H);return J+"px";}return I;},getEdgeQuadrantByPoint:function B(I,H){var G=H.x-I.x,M=H.y-I.y,J=I.w,L=I.h,K=[["Left","Bottom"],["Top","Right"]];if(M>L/J*G){K=K[0];}else{K=K[1];}return(M<-L/J*G+L)?K[0]:K[1];},isPtInPolygon:function A(I,K){var G=I.x,J=I.y,H=false;K.forEach(function(N,L){var M=K[L-1]||K[K.length-1];if((N.y>=J)!==(M.y>=J)){if((G<(M.x-N.x)*(J-N.y)/(M.y-N.y)+N.x)){H=!H;}}});return H;}});}());mstrmojo.EnumAuthenticationModes={DEFAULT:0,STANDARD:1,NTCREDENTIAL:2,PASSTHRU:4,ANONYMOUS:8,LDAP:16,DATABASE:32,PLUGIN:64,INTEGRATED:128,USHER:256};(function(){mstrmojo.vi.ui.theme=mstrmojo.provide("mstrmojo.vi.ui.theme",{getThemeClass:function A(){var D=this.parent||this.opener,C="",B;while(D){var E=D.themeClassName;if(E){C=E;break;}B=D.parent||D.opener;if(B===D){break;}D=B;}return C;}});}());(function(){if(!mstrmojo.LoadedExternalJSURLs){mstrmojo.LoadedExternalJSURLs={};}var LOADING_STATUS={LOADING:0,LOADED:1};function getUrl4AllPlatform(url){if(url.substr(0,7)==="file://"){url=url.substr(7);}else{if(mstrApp.isSingleTier&&url.substr(0,4)!=="http"){url="http:"+url;}}return url;}window.LoadScriptsExternalJSCallback=function(){mstrmojo.LoadedExternalJSURLs[mstrmojo._LoadsScript.esScripts.splice(0,1)[0].url]={status:LOADING_STATUS.LOADED};mstrmojo._LoadsScript.requiresExternalScripts(mstrmojo._LoadsScript.esScripts,mstrmojo._LoadsScript.callback,mstrmojo._LoadsScript.esScritsContext);mstrmojo._LoadsScript.ExternalJSCallbackIsBusy=false;};if(!mstrmojo._LoadsScript){mstrmojo._LoadsScript=mstrmojo.provide("mstrmojo._LoadsScript",{_meta_usesSuper:false,requiresMethod:function requiresMethod(n){if(!n){return false;}if(typeof this[n]==="function"){return true;}var fqcn=this[n]||(this.methods&&(this.methods[n]||this.methods["*"]));if(typeof fqcn==="string"){this.requiresCls(fqcn);return typeof this[n]==="function";}return false;},requiresCls:function req(mixins,callback){if(mixins){if(typeof mixins==="string"){mixins=[mixins];}mstrmojo.requiresCls.apply(mstrmojo,mixins);var p=this.constructor.prototype,pm=p.mixins;if(!pm){p.mixins={};pm=p.mixins;}var mx=mstrmojo.mixin,i,len;for(i=0,len=mixins.length;i<len;i++){var fqcn=mixins[i];if(!pm[fqcn]){var m=eval(mixins[i]);mx(m,p);pm[fqcn]=true;if(m.__onmixin__){m.__onmixin__.apply(this,[]);}}}if(callback){callback.apply(this,[]);}}},requiresContrib:function reqCb(propName,bForceStartup){var fqcn=this[propName];if(fqcn){var c,firstTime=false;if(typeof fqcn==="string"){c=mstrmojo.registry.ref(fqcn);this[propName]=c;firstTime=true;}else{c=fqcn;}if(c&&(firstTime||bForceStartup)){c.parent=this;if(c.startup){c.startup();}}return c;}return null;},requiresExternalScripts:function requiresExternalScripts(esScripts,callback,context){if(esScripts&&esScripts instanceof Array){if(esScripts.length===0){if(callback){callback.call(context);}return false;}var nextScriptConfig=esScripts[0],originalUrl=nextScriptConfig&&nextScriptConfig.url,scriptLoadedInfo=mstrmojo.LoadedExternalJSURLs[originalUrl],onScriptLoaded=function(){esScripts.splice(0,1);return this.requiresExternalScripts(esScripts,callback,context);}.bind(this);if(nextScriptConfig&&nextScriptConfig.forceReload===false&&scriptLoadedInfo){if(scriptLoadedInfo.status===LOADING_STATUS.LOADED){return onScriptLoaded();}else{return scriptLoadedInfo.onLoadedCallbacks.push(onScriptLoaded);}}var script=document.createElement("script"),isIE=!!document.all,onError=nextScriptConfig.onError;script.type="text/javascript";script.src=getUrl4AllPlatform(originalUrl);if(onError){script.onerror=function(){if(onError&&onError.callback&&context){onError.callback.call(context,onError.params);}};}var callbackParamName=nextScriptConfig.callbackParamName;if(!callbackParamName){var onScriptFirstLoaded=function(){var loadedInfo=mstrmojo.LoadedExternalJSURLs[nextScriptConfig.url],onLoadedCallbacks=loadedInfo&&loadedInfo.onLoadedCallbacks;loadedInfo.status=LOADING_STATUS.LOADED;onScriptLoaded();if(loadedInfo&&onLoadedCallbacks.length>0){var i=0;for(;i<onLoadedCallbacks.length;i++){onLoadedCallbacks[i]();}loadedInfo.onLoadedCallbacks=[];}};if(isIE){script.onreadystatechange=function(){if(script.readyState==="loaded"||script.readyState==="complete"){script.onreadystatechange=null;script.onerror=null;onScriptFirstLoaded();}};}else{script.onload=function(){script.error=null;script.onload=null;onScriptFirstLoaded();};}}else{if(callbackParamName.length!==0){if(mstrmojo._LoadsScript.ExternalJSCallbackIsBusy&&mstrmojo._LoadsScript.ExternalJSCallbackIsBusy===true){var that=this;window.setTimeout(function(){that.requiresExternalScripts(esScripts,callback,context);},500);return ;}mstrmojo._LoadsScript.ExternalJSCallbackIsBusy=true;script.src+="&"+callbackParamName+"=LoadScriptsExternalJSCallback";mstrmojo._LoadsScript.esScripts=esScripts;mstrmojo._LoadsScript.callback=callback;mstrmojo._LoadsScript.esScritsContext=context;}}mstrmojo.LoadedExternalJSURLs[originalUrl]={status:LOADING_STATUS.LOADING,onLoadedCallbacks:[]};document.getElementsByTagName("head")[0].appendChild(script);}}});}}());(function(){mstrmojo.url=mstrmojo.provide("mstrmojo.url",{isAbsoluteURL:function J(K){return(/^(http|https|ftp|file):\/\//i.test(K));},isHttpsAbsoluteURL:function G(K){return(/^https:\/\//i.test(K));},isImageDataURL:function I(K){return(K.indexOf("data:image/")===0);},isQueryURL:function A(K){return(K.indexOf("?")!==-1);},isRelativeStaticImageURL:function C(K){return !(this.isImageDataURL(K)||this.isAbsoluteURL(K)||this.isQueryURL(K));},getAbsoluteURL:function E(K,L){if(this.isAbsoluteURL(K)){return K;}if(L){return L+(/\/$/.test(L)?"":"/")+K;}return"http://"+K;},getRealURL:function F(L){var K=L;if(mstrApp.getWSLiveMode&&mstrApp.getWSLiveMode()){K=this.getAbsoluteURL(L,this.getWebServerUrl());}return K;},getWebServerUrl:function B(O){var S=null;if(O){if(mstrApp!==undefined&&mstrApp.getConfiguration){S=mstrApp.getConfiguration().getCurrentProjectWebServerUrl();}}else{if(mstrApp.getWSLiveMode&&mstrApp.getWSLiveMode()){S=mstrApp.env.getDossierServerURL();}else{var M=document.location&&document.location.href;if(M){var N=M.toLowerCase();var L="/app/",U="/servlet/",T="/asp/";var K=N.indexOf(L),Q=N.indexOf(U),R=N.indexOf(T);if(K>=0){S=M.substr(0,K+1);}else{if(Q>=0){if(R<0){S=M.substr(0,Q+1);}else{if(R>=0){var P=(Q>R)?R:Q;S=M.substr(0,P+1);}}}else{if(Q<0){if(R>=0){S=M.substr(0,R+1);}}}}}}}return S;},getFullPath:function H(T){var O=T,L=/^[A-z]:\/\//,S=mstrApp&&mstrApp.getWSLiveMode&&mstrApp.getWSLiveMode(),R,M;if(!(mstrApp&&mstrApp.isDossier||S)||!T||T.indexOf("data:image")===0){return T;}if(L.test(T)){O=T;}else{var Q=/^(\.\.\/|\.\.\\)/;var P=/^(\.\/|\.\\)/;var N=/^(\/|\\)/;T=T.replace(Q,"");T=T.replace(P,"");T=T.replace(N,"");if(mstrApp&&mstrApp.getConfiguration){var K=S?mstrApp.env.getDossierServerURL():this.getWebServerUrl(this.isTablet);if(!K){O=T;}else{O=this.getAbsoluteURL(T,K);}}}return O;},getPlaceholderImageURL:function D(){return mstrmojo.getJsRoot()+"../images/1ptrans.gif";}});}());(function(){mstrmojo.cookies={};var C="%26",E="%3D",B=mstrmojo.cookies,D=function(){var F=document.cookie;if(!F||!(typeof F==="string")||F.indexOf("bSet")<0){return false;}return true;},A=function(){var F=document.cookie;F=F.split(";");for(s in F){if(F[s].indexOf("bSet")>=0){return F[s];}}return null;};mstrmojo.cookies.updateCookieSetting=function(H,N,J){try{if(!D()&&!J){return ;}var K=document.cookie,M=H+E+N+C;if(K.indexOf(H)>=0){var F=H+E,G=F+(B.getCookieSetting(H)||0),I=F+N;if(I!=G){document.cookie=K.replace(G,I);}}else{if(K.indexOf("bSet")>=0){document.cookie=K.replace("bSet=","bSet="+M);}else{if(J){document.cookie="bSet="+M+";"+K;}}}}catch(L){mstrmojo.alert(L);return ;}};mstrmojo.cookies.getCookieSetting=function(F){try{return B.getCookieList()[F];}catch(G){mstrmojo.alert(G);return ;}};mstrmojo.cookies.getCookieList=function(){try{if(!D()){return[];}var G=A(),F={},H=null;G=G.replace("bSet=","").split(C);for(H in G){H=G[H].split(E);F[H[0]]=H[1];}return F;}catch(I){mstrmojo.alert(I);return ;}};mstrmojo.cookies.enabledCookieOnBrowser=function(){var F=document.cookie;if(!F||!(typeof F==="string")){return false;}return true;};})();(function(){mstrmojo._HasPopup=mstrmojo.provide("mstrmojo._HasPopup",{_mixinName:"mstrmojo._HasPopup",_lastOpened:null,openPopup:function A(G,E){var C=!!G&&(typeof G==="string")&&!G.match(/\./)&&!!this[G],D=mstrmojo.registry.ref(C?this[G]:G);if(D&&D.open){if(C){this[G]=D;}if(D.disposable!==false){this.addDisposable(D);}var J=D.slot&&this[D.slot];if(J){if(D.parent!==this){if(this.addChildren){this.addChildren([D]);}else{var I=false,F=D.domNode||D.placeholder;if(F&&typeof F==="string"){F=document.getElementById(F);}if(!F){I=true;F=document.createElement("span");D.placeholder=F;}if(I||(F.parentNode!==J)){J.appendChild(F);}}}}try{D.open(this,E);}catch(H){console.log("Error opening popup: "+H);}this._lastOpened=D;}},closePopup:function B(){var C=this._lastOpened;if(C&&C.visible&&C.close){C.close();delete this._lastOpened;}}});}());(function(){mstrmojo.requiresDescs(9380,9381,9382,9383,9384,9385,9379,15106,15107,10639,10159,9705,9704);mstrmojo.DI.DIConstants=mstrmojo.provide("mstrmojo.DI.DIConstants",{invalidObjectNameChars:'\\"[]',invalidObjectNameCharsRegex:/[\\"\[\]]/,acceptFileTypes:".xls,.xlsx,.csv,.txt,.tsv,.prn,.json,.sas7bdat,.geojson,.kml",acceptFileTypesMatcher:/(\.xls|\.xlsx|\.csv|\.txt|\.tsv|\.prn|\.json|\.sas7bdat|\.geojson|\.kml)$/i,sourceItemLinkType:{dbList:0,oauthPara:1},setDefaultOAuthParamCMD:"MSTR_DEFAULT_OAUTH_PARAMS",actions:{none:0,importSource:1,editImport:2,transform:3,changeSheet:4,publish:5,changeMappings:6,refine:7,quickPreview:8,savePublish:9,getFlatPreview:10,refreshData:11,mergeCube:12,newDatasetImportSource:13,newDatasetRefreshData:14},ccActions:{data:1,logout:2},localStorageKey:{HGOSFileTypeTooltipPop:"HGOSFileTypeTooltipPop"},requestFlag:{mapping:1,preview:2,sourceInfo:4,refineSourceInfo:8,sheets:16,crb:32,transformations:64,transformedPreview:128,relationship:256,stateInfo:512,anyState:268435456,fullData:1024,refineInnerData:2048},formMappingFlag:{formMappingFlagReserved:0,formMappingFlagRemoveGeoRole:1,formMappingFlagRemoveTimeRole:2,formMappingFlagRemoveDeriveFlags:4},browseFlag:{reportBindingTable:1,dataPreview:4,publish:16,cubeConfig:68,reportLevelProperty:256},importBehaviorFlag:{reserved:0,newColumnsSilent:1,dataTypeSilent:2},saveAsFlags:{saveAsOverWrite:32,saveAsManaged:524288,saveAsDDA:33554432,saveAsInMemory:67108864,saveAsWithPrompts:4096,saveAsWithAnswers:4},connectLiveSupport:{connectLiveSupportUnknown:0,connectLiveSupportDDAOrInMemory:1,connectLiveSupportInMemoryOnly:2,connectLiveSupportDDAOnly:3},xdaType:{excel:272,text:288,refine:384,salesforce:337,querybuilder:352,ffsql:304,mdx:2,customFreeFormSQL:3,googleAnalytics:390,googleBigQuery:341,googleBigQueryFFSQL:342,googleBigQuerySingleTable:345,qbSingleTable:368,twitter:343,facebook:344,dataImport:256,projectsImport:400,sparkDataset:416,cloudConnector:600,kafka:500,dataImportFileExcel:16|256,dataImportFileText:32|256,dataImportCustomSQL:48|256,dataImportTable:64|256,dataImportOAuth:80|256,dataImportBISource:144|256,dataImportOAuthSalesforce:1|336,dataImportOAuthGDocs:2|336,dataImportOAuthGDrive:2|336,dataImportOAuthDropbox:3|336,dataImportOAuthGAnalytics:4|336,dataImportOAuthGBigQuery:5|336,dataImportOAuthGBigQueryFFSQL:6|336,dataImportOAuthGBigQuerySingleTable:9|336,spark:160|256},fileTypes:[{n:"CSV/TXT",v:"CSV"},{n:"PARQUET",v:"PARQUET"},{n:"AVRO",v:"AVRO"},{n:"ORC",v:"ORC"},{n:"JSON",v:"JSON"},{n:"PARQ",v:"PARQUET",visible:false},{n:"DATA_LAKE_DELTA",v:"DELTA"}],sourceInfoDesc:{json:"DB_FILE_TYPE_JSON"},sourceType:{file:1,salesforce:2,dropbox:3,googleDrive:4,googleAnalytics:5,googleBigQuery:6,querybuilder:7,mstrFile:8,mdx:9,hadoop:10,twitter:11,facebook:12,bisource:13,remoteProject:14,importfromcube:15,dataFromPushApi:16,newConnector:17,cloudElement:18,dbRoleOAuth:19,ccOAuth:20},sourceSubtype:{localFile:1,url:2,salesforce:3,dropbox:4,googleDrive:5,googleAnalytics:6,googleBigQuery:7,querybuilder:8,samplefile:9,clipboard:10,googleBigQueryFFSQL:11,searchOnSource:12,mdx:13,hadoop:14,twitter:15,facebook:16,bisource:17,remoteProject:18,googleBigQuerySingleTable:19,hanaSingleTable:20,publicData:21,importfromcube:22,dataFromPushApi:23,cloudElement:24,mstrConnector:25,dbRoleOAuth:26,s4hana:27,amazonS3:28,azureDataLake:29,ccOAuth:30,googleCloudStorage:31,bw4hana:32,sapBW:33,sapECC:34,salesforceSandbox:35,python:36,kafka:37},backendSourceSubtype:{localFile:65537,url:65539,samplefile:65540,clipboard:65538,newConnector:65544,cloudElement:65552,hadoopFileBrowser:65541,customSQL:131073,customSQLWizard:131074,singleTable:131075,bISources:131076,searchAsASource:131078,salesforce:196609,dropbox:196610,facebook:196611,twitter:196612,googleDrive:196613,googleAnalytics:196614,googleBigQuery:196615,googleBigQueryFFSQLModel:196616,googleBigQuerySingleTable:196617,OLAPSources:327681,publicData:65542,dataFromPushApi:65543,dataFromPushApiV2:65545,s4hana:393217,bw4hana:393218,sapBW:393219,sapECC:393220,python:458753},sourceItemType:{file:0,url:1,database:2,hadoop:3,olap:4,publicData:5,salesforce:6,googleAnalytics:7,googleBigQuery:8,googleDrive:9,dropbox:10,searchAsASource:11,clipboard:12,bISources:13,facebook:14,twitter:15,samplefile:16,importFromCube:17,addNewConnector:18,newConnector:19,cloudElement:20,mstrConnector:21,s4hana:22,amazonS3:23,azureDataLake:24,googleCloudStorage:25,bw4hana:26,sapBW:27,sapECC:28,financialforce:29,veevacrm:30,servicemax:31,nativeSDKConnector:32,unknow:-1},columnState:{reserved:0,unchanged:1,newColumn:2,missing:4,changed:8},operationMode:{create:0,edit:1,refresh:2,subscribe:3,enterCredentials:4,oauth:5,pickTable:6,hadoopPickTable:7,ffsql:8,hadoopFFsql:9},statusCode:{obtainSource:-2147071874,xformsError:-2147071872,mappingError:-2147071871,edit:1,republish:2,schedule:3,enterCredentials:4,pickTable:5,hadoopPickTable:6,ffsql:7,hadoopFFsql:8},pageType:{intro:0,file:1,database:2,emmaPreview:3,redirect:4,analytics:5,dataSelection:6,suggestNewSource:7,sourceIntro:8,sourceObjects:10,sampleFiles:11,dataset:12,externalPage:13,preview:14,clipboard:15,refine:16,parse:17,mstrFile:18,allProjectSource:19,hadoop:20,twitter:21,facebook:22,sourceObjectsDnD:23,schedule:24,publicData:25,republish:26,sourceAdmin:27,importFromCube:28,addNewConnector:29,newConnector:30,addConnectorList:31,cloudElement:32,s4hana:33,cloudConnector:34,python:35,dbToolbar:36,dbTables:37,dbFFSQL:38,main:39},dbRoleType:{DssDBRoleReserved:0,DssDBRoleNormal:1,DssDBRoleDataImport:2,DssDBRoleDataImportPrimary:3,DssDBRoleOAuth:4,DssDBRoleRemoteDataSource:5,DssDBRoleURLAuth:6,DssDBRoleGenericDataConnector:7,DssDBRoleDataImportServer:8,DssDBRoleCloudElement:9,DssDBRoleScript:10},backendError:{overwriteObject:-2147212339,noPermission:-2147214579,invalidObjectName:-2147213715,unexpectedDataType:-2147212539,noExternalSession:-2147071844,noPrivilege:-2147212082,salesforceUnsavedReport:-2147212081,salesforceObsoleteReport:-2147212080,maxSizeExceeded:-2147212076,maxSizeExceededURL:-2147212121,salesforceUnresolvedFilter:-2147212074,incrementalRefresh:-2147212287,invalidUrl:-2147212062,fileVersionError:-2147212064,emptySheet:-2147212144,refreshTokenUnavailable:-2147202875,cubeQuotaExceeded:-2147071825,notEnoughSpace:-2147071811,importedURLInvalid:-2147212122,unsupportedFileFormat:-2147212063,objectNameTooLong:-2147217407,noExternalSourceInfo:-2147215346,memoryConsumptionExceeded:-2147215346,cubeQuotaReached:-2147071870,switchingFileType:-2147212140,memoryGovernSizeExceeded:-2147181051,stringTooLong:-2147213718,missingColumn:-2147071871,dataDiscoveryError:-2147211998,refineApplyError:-2147202299,serverOutOfMemory:-2147212055,columnCountMatchError:-2147467259,incompatibleDataTypeError:-2147211983,reportTimeout:-2147212335,requestTimeout:-2147206497,databaseCredentialsNotAvailable:-2147212037,ddasupportIncompatible:-2147215326,mergeInvalidXdatype:-2147215325,notFullyControl:-2147214579,shouldBeIgnored:-2147212123,CECredentialNotAvailable:-2147215317,AuthenticationError:-2147215346,queryEngineGeneralError:-2147212544,objectNotFound:-2147216373,clientSecretNotFound:-2147180962,retrieveRefreshTokenFailed:-2147202857,cancelPublishFailed:-2147463843,invalidArgumentError:-2147024809},transformation:{xtab:1,delimiter:2},application:{platform:"Platform",cloudPersonal:"Personal",cloudProfessional:"Professional"},refreshOptions:{replace:1,append:2,update:4},cubeRefreshType:{dummy:-1,reserved:0,add:1,remove:2,update:3,upsert:4,addNewTable:5,deleteTable:6,replaceTable:7,preserve:8},tableStatsExecutionAction:{reserved:0,forceExecution:1,ignore:4,requireFreshData:268435456},sourcesInfoFlags:{none:0,getReports:1,getUserName:2,getTokensInfo:4,revokeSession:8,getGAnalyticsAccount:64},queryBuilderType:{individualTable:1,multipleTables:2,queryScript:3},relationshipEditType:{create:1,changeERType:2,remove:3,flip:8001},ERType:{reserved:0,ERType11:1,ERType1M:2,ERTypeM1:3,ERTypeMM:4,ERTypeParallel:5,ERTypePerpendicular:6},RSType:{reserved:0,auto:1,geo:2,defined:3},tableStates:{newly:1,old:2},behaviorChangeFlag:{multiSheet:4,remapping:8,refreshData:16},menuItems:{SEPARATOR:-1,NONE:0,TABLE_RENAME:1,DO_NOT_IMPORT:2,FLIP_ORDER:3,DELETE:4,RELATIONSHIP_TYPE:5,ONE_TO_ONE:6,ONE_TO_MANY:7,MANY_TO_ONE:8,MANY_TO_MANY:9,REMOVE:10,REFRESH_DATA:11,REFINE:12,CANCEL_REFINE:13,UNLINK:14,CHANGE_DATA_TYPE:15,MARK_GEO_ROLES:16,CREATE_TIME_ATTRIBUTES:17,TO_METRIC:18,TO_ATTRIBUTE:19,MAP_TO_PROJECT_ATTRIBUTE:20,UNMAP:21,MODIFY_ATTRIBUTE_GROUP:22,CREATE_ATTRIBUTE_GROUP:23,HIDE_ALL_ATTRIBUTE_FORMS:24,DEFINE_RELATIONSHIPS:25,LINK:26,ITEM_RENAME:27,CREATE_MULTIFORM_ATTRIBUTE:28,EDIT_MULTIFORM_ATTRIBUTE:29,ADDTO_MULTIFORM_ATTRIBUTE:30,SHOW_ALL_ATTRIBUTE_FORMS:31,SHOW_ALL_COLUMNS:32,PARTITION:33,REFINE_RENAME:34,REFINE_DELETE:35,REFINE_DELETE_ALL:36,REFINE_RESET:37,REFINE_RESET_ALL:38,PARSE:39,IMPORT:40,UNLINK_ALL:41,CREATE_HIERARCHY_ATTRIBUTE:42,EDIT_HIERARCHY_ATTRIBUTE:43,RESET_HIERARCHY_ATTRIBUTE:44,DESCRIPTION:45,EDIT_PROJECT_ATTRIBUTE:46},dataTypeMenuItems:{DATE_TIME:"1",NUMBER:"2",TEXT:"3",URL:"5",EMAIL:"6",HTML_TAG:"7",DATE:"8",TIME:"9",SYMBOL:"10",BIG_DECIMAL:"11",PHONE_NUMBER:"12"},columnDataTypes:{reserved:0,integer:1,unsigned:2,numeric:3,decimal:4,real:5,dtdouble:6,dtfloat:7,dtchar:8,varChar:9,longVarChar:10,binary:11,varBin:12,longVarBin:13,date:14,dttime:15,timeStamp:16,nChar:17,nVarChar:18,nlong:22,bigDecimal:30,cellFormatData:31,utf8Char:33,int64:34},formsOptions:{CREATE_MULTIFORM_ATTRIBUTE:1,EDIT_MULTIFORM_ATTRIBUTE:2,ADDTO_MULTIFORM_ATTRIBUTE:3},hierarchyOptions:{CREATE_HIERARCHY_ATTRIBUTE:1,EDIT_HIERARCHY_ATTRIBUTE:2,RESET_HIERARCHY_ATTRIBUTE:3},rdcsFlag:{ID:1,JOIN_ID:2,FILTER_ID:3,DISTANCE:4},timeRoles:{NONE:0,DATE:1,DATE_TIME:2,TIME:3,SECOND:4,MINUTE:5,HOUR:6,DAY:7,WEEK:8,MONTH:9,QUARTER:10,YEAR:11},contextMenuType:{ITEM_MENU:0,TABLE_MENU:1,PREVIEW_ITEM_MENU:2,LINK_MENU:3},dialogType:{fixRefreshErrorDialog:1,allObjectsViewDialog:2,missingColumnsDialog:3,diPageDialog:4,refreshHistoryDialog:5,alternateSourceValidateDialog:6,ddaConfirmDialog:7,publishStatusDialog:8,saveAsDialog:9,cubesList:10,refinePage:11,multiFormEditor:12,sheetsSelectionDialog:13,partitionGroupDialog:14,parseDataDialog:15,errorDialog:16,warningDialog:17,relationDefineDialog:18,qbImportOptionDialog:19,previewRenameDialog:20,mapProjectsAttributeDialog:21,setOAuthParaDialog:22,objectPicker:23,refineClusteringPage:24,refineExtractDialog:25,refineImportDialog:26,twitterAdvOptDialog:27,credentialsDialog:28,mapProjectsAttributeDialog2:29,setWhiteListDialog:30,binaryUploadDialog:31,authenticationDialog:32,sharingDialog:33,hadoopGatewayManagerDialog:34,hadoopGatewayDialog:35,addConnectorDialog:36,hierarchyAttributeDialog:37,hierarchyAttributeResetDialog:38,objectDescDialog:39,mstrConnectorConfigDialog:40,nativeSDKConnectorOAuthConfigDialog:41,sharepointFilesConfigDialog:42,salesforceEnvironmentDialog:43,workdayConfigDialog:44,},dataEvents:{DATA_PREVIEW_EVENT:"dataReturned",NO_DATA_RETURNED_EVENT:"noDataReturned"},cubeSchedStatus:{unexecuted:1,successful:2,unscheduled:3,failed:4},privilegeType:{accessDatabase:1,accessFile:2,accessCloud:3},displayOption:{relational:1,mdx:2,SearchEngine:4,webServices:8,bigData:16,hadoop:32},dbType:{MS_ACCESS:100,ORACLE:200,SQL_SERVER:300,INFORMIX:400,SYBASE:500,REDBRICK:600,DB2:700,TANDEM:800,TERADATA:900,UNKNOWN:1000,GENERIC:1100,SAP:1200,NETEZZA:1300,EXCEL:1400,MSFT_AS:1500,ESSBASE:1600,MYSQL:1700,POSTGRESQL:1800,HPNEOVIEW:1900,METAMATRIX:2000,DATALLEGRO:2100,COMPOSITE:2200,ASTER:2300,VERTICA:2400,OPENACCESS:2500,SYBASE_SQL_ANY:2600,SYBASE_IQ:2700,PARACCEL:2800,TM1:2900,XQUERY:3000,HIVE:3100,SAND:3200,SALESFORCE:3300,HIVETHRIFT:3400,VECTORWISE:3500,ENTERPRISEDB:3600,KOGNITIOWX2:3700,EXASOLUTION:3800,INFORMATICA:3900,SAPHANA:4000,IMPALA:4100,AMAZON_REDSHIFT:4200,DENODO:4300,GOOGLE_DRIVE:4400,DROPBOX:4500,GOOGLE_ANALYTICS:4600,GOOGLE_BIGQUERY:4700,CONNECTION_CLOUD:4800,GOOGLE_BIG_QUERY_FFSQL_MODEL:4900,PARSTREAM:5100,MONGODB:5200,MARKLOGIC:5300,BIG_DATA_ENGINE:5400,SEARCH_ENGINE_SOLR:5500,SPLUNK:5600,TWITTER:5700,FACEBOOK:5800,PIG:6400,MEMSQL:6700,URL:7700,newConnector:7900,LOCALFILE:8200,SAPHANAMDX:18300,SNOWFLAKE:7600,SAPS4HANA:11300,SAPBW4HANA:11500,SAPBW:13700,SAPECC:13800,MicrosoftDynamics365:13900,CLOUD_GATEWAY_S3:18500,CLOUD_GATEWAY_ADLS2:18600,CLOUD_GATEWAY_GCS:18700,KYVOSMDX:18800,KYLIGENCEMDX:18900,KAFKA:19100},getCubeQuotaAndInfosOptions:{GetCubeQuotaAndInfosReserved:0,GetCubeQuotaAndInfosDefault:1,GetCubeQuotaAndInfosQuotaOnly:2,GetCubeQuotaAndInfosAll:3,GetCubeQuotaAndInfosVI:4},homepageViewMode:{GRID_VIEW:0,LIST_VIEW:1},datasetServeMode:{inMemory:1,dda:2,unknow:3},cubePollStatus:{msgID:0,result:1,prompt:2,error:3,xmlResult:21},ibmDb2Versions:[17,18,21,22,23,24,25,37,45,46,47,48,63,66,74,89,92,101,103,105,123,134,157,172,202,232,268],hadoopDbTypes:[3100,1100,700,4100,7300,6800,6400,8100],formCategory:{longitude:"2345134F4F5E261C3BB902A874467080",latitude:"B191051C48221A6AE44CA2B65B1B65E3"},formCategoryName:{ID:"ID",DESC:"DESC",GEOMETRY:"Geometry"},urlAuthDBRoles:{anonymous:"CB1CB472A07E41D5AE038232839F2064",windows:"95A5ACC02FE94CBABCB65E4F2D2415B2",kerberos:"317D6F016D784836A724AD4D739E1E9C",integrated:"E966E1A0A4C949108287B2E5086B68EB"},urlAuthDBMSId:"497F2406FA154B86810C71EA3D401D6D",newConnectorDBMSId:"565D5DC3A1124726B85FE53EF992472A",s4AuthDBMSId:"E4A10C0974334E5F985F941A78E43987",bw4AuthDBMSId:"CAEDBBE4FF43473A932592DD58034DF7",sapBWAuthDBMSId:"F51360595B6A4A49A3576479BC358E58",sapECCAuthDBMSId:"4E9D233B34134347A5C61AC5D1CBBE91",dbms:{cloudGatewayS3:"CD24C7F473194C5984A0B2F8AEF688F7",cloudGatewayGCS:"0ED3A7C42FF3452ABB22F0E18297E98C",cloudGatewayADLS2:"D649DA37F4514289AA44D93B128F3BD5",SQLDataBaseforWindowsAzure:"68CD44338CF911D5801122C04F780609",Azure_DW:"19AF6FB465F04552A872D7FB5CC79952"},hadoopGateWay:{HGoS_CONFIG_HAS_EXIT:1510,CONNOT_AUTHENTICATE:1511,SPACE_OVER:1512,FAIL_COPY_TO_HOST:1513,INSUFFICIENT:1514,DIRECTORY_NO_EXIST:1515,HGOS_DEPLOYED:1518,HGOS_DEPLOYING:1519,CONNOT_AUTHENTICATE2:1520,HGOS_RUNNING:1521,HGOS_STOPPED:1522,HGOS_NOT_DEPLOYING:1523,HGOST_TAR_NOT_EXIST:1524,HGOS_CONF_NOT_EXIST:1530},workstation:{filerBreakLine:new RegExp("[\r\n]","g"),utils:{shouldShowTitleBar:function(){var A=mstrApp.getRootController().rootView.inPageDialog;return !!mstrApp.isWorkstation&&(!!mstrApp.isPopup||!!A);},shouldHideTitleBar:function(){var A=mstrApp.getRootController().rootView.inPageDialog;return !!mstrApp.isWorkstation&&!mstrApp.isPopup&&!A;},setNativeWindow:function(C,F){var B=1010,E=552,D=parseInt(C,10),A=parseInt(F,10);if(C.match(/%$/)&&F.match(/%$/)){window.FormWrapper.setWindowContentSize(1200,680);}else{D=D<B?B:D;A=A<E?E:A;window.FormWrapper.setWindowContentSize(D,A);}},lockResize:function(){if(!window.FormWrapper||!window.FormWrapper.lockResize){return ;}window.FormWrapper.lockResize();},unlockResize:function(){if(!window.FormWrapper||!window.FormWrapper.unlockResize){return ;}window.FormWrapper.unlockResize();}}},authMode:{ANONYMOUS:0,UNAME:1,OAUTH:2,CC:3},authModePrefix:{ANONYMOUS:"AuthMode=Anonymous;URL=",UNAME:"AuthMode=Basic;URL=",OAUTH:"AuthMode=OAuth;URL=",CC:"AuthMode=CC;URL="},sdkUrl:{MARKPLACE_URL:"https://community.microstrategy.com/s/gallery?tabset-89baf=202df",QUICK_START_URL:"https://lw.microstrategy.com/msdz/MSDL/GARelease_Current/docs/projects/DataConnectorSDK/Content/topics/Quick_Start_Guide.htm"},originalConnector:{elastic:"DE4A8E15405A36D80BF1E1A2BA6F9B66",tapClicks:"1E8ADD3975DA4609B8D00E6211ACAB6A"},googleAnalyticsUrl:{queryExplorer:"https://ga-dev-tools.appspot.com/query-explorer/"},weekDay:[{n:mstrmojo.desc(9380,"Monday"),v:0},{n:mstrmojo.desc(9381,"Tuesday"),v:1},{n:mstrmojo.desc(9382,"Wednesday"),v:2},{n:mstrmojo.desc(9383,"Thursday"),v:3},{n:mstrmojo.desc(9384,"Friday"),v:4},{n:mstrmojo.desc(9385,"Saturday"),v:5},{n:mstrmojo.desc(9379,"Sunday"),v:6}],dateMon:[{n:mstrmojo.desc(15106,"1st day"),v:"1"},{n:mstrmojo.desc(15107,"15th day"),v:"15"}],timeOfDay:[{n:"12:00AM",v:"12:00AM"},{n:"1:00AM",v:"1:00AM"},{n:"2:00AM",v:"2:00AM"},{n:"3:00AM",v:"3:00AM"},{n:"4:00AM",v:"4:00AM"},{n:"5:00AM",v:"5:00AM"},{n:"6:00AM",v:"6:00AM"},{n:"7:00AM",v:"7:00AM"},{n:"8:00AM",v:"8:00AM"},{n:"9:00AM",v:"9:00AM"},{n:"10:00AM",v:"10:00AM"},{n:"11:00AM",v:"11:00AM"},{n:"12:00PM",v:"12:00PM"},{n:"1:00PM",v:"1:00PM"},{n:"2:00PM",v:"2:00PM"},{n:"3:00PM",v:"3:00PM"},{n:"4:00PM",v:"4:00PM"},{n:"5:00PM",v:"5:00PM"},{n:"6:00PM",v:"6:00PM"},{n:"7:00PM",v:"7:00PM"},{n:"8:00PM",v:"8:00PM"},{n:"9:00PM",v:"9:00PM"},{n:"10:00PM",v:"10:00PM"},{n:"11:00PM",v:"11:00PM"}],schedule:{DAILY:"Daily",WEEKDAY:"Weekday",WEEKLY:"Weekly",MONTHLY:"Monthly"},scheduleTemp:{CUSTOM:"Custom",EXISTED:"Existed",NONE:"None"},clockMode:[{n:"AM",v:"am"},{n:"PM",v:"pm"}],twelveHourOfDay:[{n:"12:00",v:"12:00"},{n:"1:00",v:"1:00"},{n:"2:00",v:"2:00"},{n:"3:00",v:"3:00"},{n:"4:00",v:"4:00"},{n:"5:00",v:"5:00"},{n:"6:00",v:"6:00"},{n:"7:00",v:"7:00"},{n:"8:00",v:"8:00"},{n:"9:00",v:"9:00"},{n:"10:00",v:"10:00"},{n:"11:00",v:"11:00"},],mainPage:{GRID_MODE:0,LIST_MODE:1},sourceIconClsName:{0:"ds-Generic",1:"ds-DB2",2:"ds-DB2",3:"ds-DB2",4:"ds-InformixWire",5:"ds-InformixXPS",6:"ds-PostgreSQL",7:"ds-SAP",8:"ds-SAP",9:"ds-Oracle",10:"ds-MicroSoft",11:"ds-Teradata",12:"ds-MySQL",13:"ds-GreenPlum",14:"ds-Netezza",15:"ds-WebServices",17:"ds-Infobright",18:"ds-Salesforce",19:"ds-MicroSoft",20:"ds-Actian-n",21:"ds-Amazon-Redshift",22:"ds-Impala",23:"ds-Aster",25:"ds-Actian-n",26:"ds-EnterpriseDB",27:"ds-Vertica",28:"ds-Denodo",29:"ds-CiscoDataVirtualization",31:"ds-MicroSoft",32:"ds-GoogleBigQuery",33:"ds-SAP",35:"ds-IBMBigInsights",39:"ds-TM1",41:"ds-WebServices",43:"ds-Amazon-EMR",44:"ds-Apache-Hive",45:"ds-ClouderaHive",46:"ds-HortonworksHive",47:"ds-MapRHive",48:"ds-apache",49:"ds-SharkSpark",50:"ds-MongoDB",52:"ds-MariaDB",51:"ds-MarkLogic",54:"ds-Splunk",55:"ds-DataDirectCloud",56:"ds-ParStream",58:"ds-Phoenix",59:"ds-MicroSoft",60:"ds-DB2",61:"ds-Oracle",62:"ds-Teradata",63:"ds-SAP",65:"ds-PostgreSQL",66:"ds-MySQL",67:"ds-MariaDB",68:"ds-Amazon-EMR",69:"ds-Apache-Hive",70:"ds-ClouderaHive",71:"ds-HortonworksHive",72:"ds-MapRHive",73:"ds-SharkSpark",75:"ds-Amazon-Redshift",76:"ds-PIVOTALHAWQ",77:"ds-MemSQL",78:"ds-Arcadia-Platform",79:"ds-Altibase",80:"ds-MongoDB",81:"ds-Presto",82:"ds-DB2",83:"ds-DB2",84:"ds-InformixWire",85:"ds-SAP",86:"ds-MicroSoft",87:"ds-MicroSoft",88:"ds-MemSQL",90:"ds-GreenPlum",91:"ds-PIVOTALHAWQ",92:"ds-Netezza",93:"ds-Infobright",94:"ds-Actian-n",95:"ds-Impala",96:"ds-IBMBigInsights",97:"ds-Aster",99:"ds-Actian-n",100:"ds-EnterpriseDB",101:"ds-Vertica",102:"ds-Denodo",103:"ds-CiscoDataVirtualization",105:"ds-DataDirectCloud",106:"ds-ParStream",107:"ds-Arcadia-Platform",109:"ds-Presto",110:"ds-Phoenix",111:"ds-Kognitio",112:"ds-Kognitio",113:"ds-Informatica",114:"ds-Informatica",115:"ds-Apache-Cassandra-JDBC",116:"ds-SAP",117:"ds-Actian",118:"ds-Actian",119:"ds-InformixXPS",120:"ds-Apache-Cassandra-JDBC",121:"ds-MapRDrill",122:"ds-Cirro",123:"ds-EXASolution",124:"ds-EXASolution",125:"ds-Oracle",126:"ds-Oracle",127:"ds-Snowflake",128:"ds-Snowflake",129:"ds-Amazon-Aurora",130:"ds-Amazon-Aurora",131:"ds-Amazon-Athena",132:"ds-Amazon-Athena",133:"ds-MapRDrill",134:"ds-Druid",135:"ds-Druid",139:"ds-MongoBI",157:"ds-GoogleBigQuery",158:"ds-CDataOData",161:"ds-MapD",168:"ds-HortonworksSpark",169:"ds-HortonworksSpark",170:"ds-Yellowbrick",},dbId:{WebServices:15,GBQ_JDBC:157,SalesforceSOQL:179,DATABRICKS:196,CDataOData:158,IBMNPS:171,IBMNPS_JDBC:172,SQLServer:10,SQLServer_JDBC:59,PostgreSQL:6,PostgreSQL_JDBC:65,MEMSQL:77,MEMSQL_JDBC:88,},TREE_SPLIT_CHARACTER:".",dispTag:{1:"Database",2:"OLAP",4:"BigData",8:"Database",16:"BigData",32:"BigData"},searchTags:{100:["Database","ODBC"],200:["Database","ODBC"],300:["Database","ODBC"],400:["Database","ODBC"],500:["Database","ODBC"],600:["Database","ODBC"],700:["Database","ODBC"],900:["Database","ODBC"],1100:["Database","ODBC"],1200:["OLAP","Cube"],1300:["Database","ODBC"],1400:["Database"],1500:["OLAP","Cube"],1600:["OLAP","Cube"],1700:["Database","ODBC"],1800:["Database","ODBC"],2200:["Database","ODBC"],2300:["Database","ODBC"],2400:["Database","ODBC"],2800:["Database","ODBC"],2900:["OLAP","Cube"],3000:["Database"],3100:["Database","BigData","Hadoop"],3300:["Cloud"],3500:["Database","ODBC"],3600:["Database","ODBC","BigData"],3800:["Database"],3900:["Database"],4000:["Database","ODBC"],4100:["Database","BigData","Hadoop"],4200:["Database","ODBC"],4300:["Database","ODBC"],4700:["Database","Cloud","BigData"],4800:["Cloud"],5200:["Database","NoSQL"],5300:["Database","NoSQL"],5400:["Hadoop"],6400:["Database","BigData","Hadoop"],6600:["Database"],6700:["Database"],6800:["BigData"],6900:["BigData"],7100:["NoSQL"],7200:["Database","BigData","Hadoop"],7300:["BigData","Hadoop"],7500:["Database"],7600:["Database"],8000:["Database"],8100:["BigData"],},srcItemTypes:{ALL_SOURCES:"ALL_SOURCES",STATIC_SOURCE:"STATIC_SOURCE",DBTYPE_SOURCE:"DBTYPE_SOURCE",CUSTOM_CONNECTOR:"CUSTOM_CONNECTOR",CLOUDELEMENT_CONNECTOR:"CLOUDELEMENT_CONNECTOR"},combination:{BigData:["BigData","NoSQL","Search","Hadoop"],Apps:["Apps","oAuth","Cloud","Social","BI","PublicData","CE"]},GenericDBStr:"Generic",dataSourceType:{MONGODB:"mongodb",FILE_URL:"fileUrl",FILE_LOCAL:"fileLocal",SAMPLE_FILE:"sampleFile",ES:"elasticsearch",DROPBOX:"dropbox",GOOGLE_DRIVE:"googleDrive",GOOGLE_ANALYTICS:"googleAnalytics",GOOGLE_BIGQUERY:"googleBigQuery",SALESFORCE:"salesforce",FILE:"file",GENERIC_JDBC:"genericJdbc"},salesforceEnvironmentIDP:{3:4,35:5,},salesforceDBRoleID:{0:"AC41E217C55342DC871C511E77EBE4D0",3:"136A993630BE4A72B6E24C8029DC7FEE",35:"B1FC634FBB214FF8884C0ADEBED36AA0"},ERDF:{ENUM_LOAD_REPORT_BROWSE_TYPE_BINDINGTABLE:1,ENUM_LOAD_REPORT_BROWSE_TYPE_DATAPREVIEW:4,ENUM_LOAD_REPORT_BINDING_FLAG_ALL:15,ENUM_LOAD_REPORT_PREVIEW_FLAG_MappingInfo:1,ENUM_LOAD_REPORT_PREVIEW_FLAG_DataInfo:2,ENUM_LOAD_REPORT_PREVIEW_FLAG_SourceInfo:4,ENUM_LOAD_REPORT_PREVIEW_FLAG_InnerDataInfo:2048,},DSSSubType:{DSSSUBTYPEATTRIBUTE:3072,DSSSUBTYPEATTRIBUTEROLE:3073,DSSSUBTYPEATTRIBUTETRANSFORMATION:3074,DSSSUBTYPEATTRIBUTEABSTRACT:3075,DSSSUBTYPEATTRIBUTERECURSIVE:3076,DSSSUBTYPEATTRIBUTETIMEZONE:3078},DSSExType:{DSSEXDISPARK:416},URLMode:{NormalUrl:0,NewConnector:1,NewConnectorEdit:2,CloudElement:3},disableFeatures:{DISABLE_CUSTOM_CONNECTOR:"disableCustomerConnector",DISABLE_DDA:"disableDDA",DISABLE_QUOTA:"disableQuota",DISABLE_HADOOP:"disableHadoop",DISABLE_BI_TOOLS:"disableBITools",DISABLE_CLIP_BOARD:"disableClipboard",DISABLE_FACE_BOOK:"disableFacebook",DISABLE_TWITTER:"disableTwitter",DISABLE_SAMPLE_FILES:"disableSampleFiles",DISABLE_PUBLIC_DATA:"disablePublicData",DISABLE_MERGE_CUBE:"disableMergeCube",DISABLE_CE_SOURCE:"disableCESource",DISABLE_FLATTERN_DB_SOURCE:"disabledSources"},DssXmlPrivileges:{DssXmlPrivilegesUseDatabaseInstanceManager:57},Enum_SourceCategoryType:{File:1,BigData:2,Database:3,OLAP:4,Customized:5,Apps:6,},fileTypesDesc:{DB_FILE_TYPE_EXCEL:"DB_FILE_TYPE_EXCEL",DB_FILE_TYPE_CSV:"DB_FILE_TYPE_CSV",DB_FILE_TYPE_HTML:"DB_FILE_TYPE_HTML",DB_FILE_TYPE_JSON:"DB_FILE_TYPE_JSON",DB_FILE_TYPE_SAS:"DB_FILE_TYPE_SAS"},mimeType:{JSON:"application/json",},FormThatDisableGeo:{Latitude:"Latitude",Longitude:"Longitude",Geometry:"Geometry"},DSSViewMedia:{dssViewMediaAvailablePushDataAPI:1048576},multiSheetFileTypes:["PARQUET","AVRO","ORC","JSON",],storageType:{CSV:"CSV",DATA_LAKE_DELTA:"DATA_LAKE_DELTA",MULTI_SHEET:"MULTI_SHEET",UNKNOWN:"UNKNOWN"},dbmsObjectsFetchedEvt:"serverDBMSObjectsFetched",nativeAppOAuth2Solution:{NOT_SUPPORTED:0,LOOPBACK_INTERFACE_REDIRECTION:1,MANUAL_COPY_PASTE:2},nativeSDKConnectorEvt:{MSTR_CONN_1ST_SAVE:"dbRole1stTimeSlientSave",NATIVESDK_DBROLE_FETCHED:"NativeSDKConnectorDBRolesFetched"},nativeSDKConnectors:{mstr:"F72DF5DBDBB44F85B8FC4218523CA398",surveyMonkey:"7EAF57EA11EB493A8E4EFF2050274D05",surveyGizmo:"EB6F5F098F2B4928AB34D8A9734237B8",box:"BD033C929B064691AB0B3040EEEAA49C",onedrive:"3BEC897ADE7C48E1A30DC3CAF4C8E58C",sharepointFiles:"2AB8423295094B6D998DB5E53371884A",workday:"E88B20C1F30443E0AA8DEA709F2356BC"},nativeAndManagedUrlDBRoleEvt:"nativeAndManagedDBRFetched",noGatewayAgentDBs:[15,41,32,157,127,128,86,87,151,180,39,183,210,37,38,36,170,195,196],mciDisabledDBs:[0,5,8,13,14,15,17,19,20,23,25,27,29,31,51,52,54,55,58,77,78,81,111,113,122,123,129,131,139,140,143,144,145,146,147,148,149,150,158,161,166,171,194],mciDisabledURLPatterns:[/.*?:\/\/127\.0\.0\.1/i,/.*?:\/\/localhost/i,/.*?:\/\/0\.0\.0\.0/i,/.*?:\/\/\[::\]/i,/.*?:\/\/0000::1/i,/.*?:\/\/2130706433/i],QBImportOptions:{HADOOP_FILES:"0",SELECT_TABLES:"1",BUILD_A_QUERY:"2",TYPE_A_QUERY:"3"},cancelStatus:{NOT_START:0,ON_LOADING:1,},hadoopGatewayFeature:"mstrApp.diParams.hadoopGatewayFeature",deploymentType:{OnPrem:0,MCI:1,MCP:2,MCE:3,MCG:4},cubeType:{dda:0,inmemory:1,optimizeDDA:2},VLDB_REPORT:"VLDB Report",LIVE_CONNECT_TABLE_CACHE_USAGE_NAME:"Live Connect Table Cache Usage",feature:{CC_TABLE_VERSIONS:"CC/TableVersions",NEW_DATASET_MGMT:"features.enable-only-fips-gateways",PYTHON:"GD/PythonConnector",REALTIME_ANALYTICS:"GD/RealtimeAnalytics",WORKDAY:"GD/Workday"},sensitiveFields:["REFRESHTOKEN","CLIENTSECRET","OAUTHREFRESHTOKEN","OAUTHCLIENTSECRET"],clearExtrSensitiveFields:"mstr_clear_extr",defaultScheduleTriggers:{0:"1F1CB6555A044B199CB320E8CCA0BE8A",1:"297A791FAA5A462EA92F925FC507521E",2:"473AC7C12B524BD9B7932D49565F1F2D",3:"6D12BF67BB324E358ECB9CDBB0A5EC6D",4:"BBB47C25619D4401B44DA06126927ADC",5:"0CDF19F6C327421C88BE1D0F87F1703C",6:"B585FB2A299E4D42B82713B31DFEF285",7:"ABBCC90BAC4B49E0A2F952CAE1B7FA29",8:"F64E91C4CE314BE79F23CCB9E9C7368D",9:"55558DC52B7942AF9528B93FB8E8729B",10:"C002B0F5E75C4958AAC472CE9E12FE50",11:"725649D3CC8E4E5CB608610A9DE56B4C",12:"F0D51E65224741F9BE95080CE4C54917",13:"FAE0B2D2844E4DBF89D8A1724F7BE36B",14:"24E7B18DDA1C4480AFC9A14B0D549927",15:"C90D253D749A4AD99126124C599B514D",16:"7835BCA90A3C464DAD2F7738927E9F6C",17:"A7C73679F727411EAC947E5AAF4CF6CF",18:"8CC62F71CC7B42C18D2D6A3E77A4B695",19:"43E72B80DEE844F9B779CF874A107ED2",20:"537DF2B73F324AE5A01AA95FBCA79FB4",21:"F56D5A0F76EB4F088B0128A3D404C399",22:"92A6AB9D954F40A8B8F7A50AC585753C",23:"ACD5F308B2D64D7C97057581AC2475DB"}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash");var E=mstrmojo.dom,M=mstrmojo.hash,B,I=mstrmojo.global.document,K="mousedown",O="mousemove",Q="mouseup";function G(X){if(E.isPrimaryMouseBtn(X)){B.startDragCheck(self,X);}}var U,P,A="mstrmojo-dnd-avatar",T;function F(Y,X){if(X!==undefined&&X!==null){P.innerHTML=X;}T.left=Y.x+"px";T.top=Y.y+"px";}function L(Y,X){if(!U){U=I.createElement("div");T=U.style;U.className=A;U.innerHTML='<div class="'+A+'-inner"></div>';P=U.firstChild;I.body.appendChild(U);}F(Y,X);T.display="block";}function R(){if(T){T.display="none";}}function H(X){var Y=++B.ctxt.moveCount;if(Y>=B.minMoves){B.stopDragCheck();if((X.buttons===1||X.buttons===undefined||E.isIE9)&&(X.which===1||X.button===0||E.isIE8)){B.startDrag(self,X);}}}function N(X){if(E.isPrimaryMouseBtn(X)){B.stopDragCheck();delete B.ctxt;}}function D(X){B.onDragMove(self,X);}function C(X){if(E.isPrimaryMouseBtn(X)){B.stopDrag(window,X);}}function J(Y){var X=E.findWidget(Y);while(X){if(X.draggable){return X;}X=X.parent;}return null;}function S(X){var Z=X.src,Y=J(Z.node);if(!Y){return null;}if(Y.getDragAction){X.action=Y.getDragAction(X);}Z.widget=Y;Z.data=Y.getDragData&&Y.getDragData(X);if(Y.isDragValid){if(!Y.isDragValid(X)){if(!mstrApp.isInVFInteractMode&&(!Y.shouldDragBubble||Y.shouldDragBubble(X)===true)){X.src.node=Y.domNode.parentNode;return S(X);}return null;}}if(Y.ondragstart){Y.ondragstart(X);}return Y;}function W(Z,Y){var X=E.findWidget(Z),a=Y.tgt&&Y.tgt.widget;while(X){if(X.dropZone){if(X===a){return X;}if(X.allowDrop&&X.allowDrop(Y)){return X;}}X=X.parent;}return null;}function V(){if(this.set){this.set("allowingDrop",false);}}mstrmojo.dnd=mstrmojo.dnd||mstrmojo.provide("mstrmojo.dnd",{minMoves:3,enable:function(){if(!mstrmojo.dndEnabled){E.attachEvent(I,K,G);mstrmojo.dndEnabled=true;}},disable:function(){mstrmojo.dndEnabled=false;E.detachEvent(I,K,G);},startDragCheck:function(X,Y){delete this.ctxt;var Z=E.captureEventInfo({hWin:X,e:Y});this.ctxt={src:Z,moveCount:0,last:M.copy(Z.pos),getDirection:function(a){return !!this.dir[a];},getCtxtDragData:function(){var a=this.src;return(a&&a.data)||{};},getCtxtDropData:function(){var a=this.tgt;return(a&&a.data)||{};}};if(this.minMoves){E.attachEvent(I,O,H);E.attachEvent(I,Q,N);}else{this.startDrag(X,Y);}},stopDragCheck:function(){E.detachEvent(I,O,H);E.detachEvent(I,Q,N);},startDrag:function(X,a){var Y=this.ctxt;Y.id=mstrmojo.now();var Z=S(Y);if(!Z){return ;}E.clearBrowserHighlights(X);E.preventDefault(self,a);E.attachEvent(I,O,D);E.attachEvent(I,Q,C);var c=window.mstrApp;if(c&&c.setInteractive){this._changeAppStatus=c.setInteractive(false);}if(!Z.ownAvatar){var b=Y.src;L(b.pos,b.data&&b.data.html);}},stopDrag:function(X,d){E.detachEvent(I,O,D);E.detachEvent(I,Q,C);var a=this.ctxt,Z=a.tgt||{},Y=E.captureEventInfo({hWin:X,e:d,data:Z.data}),c=W(Y.node,a);Y.widget=c;a.tgt=Y;if(c){if(c.ondrop){c.ondrop(a);}else{V.call(c);}}var b=a.src.widget;if(b&&b.ondragend){b.ondragend(a);}if(b&&!b.ownAvatar){R();}if(this._changeAppStatus){window.mstrApp.setInteractive(true);delete this._changeAppStatus;}},onDragMove:function(b,d){if(E.isSafari){E.clearBrowserHighlights();}var X=this.ctxt,a=X.tgt||{},Y=a.widget,c=E.captureEventInfo({hWin:b,e:d,data:a.data}),h=c.widget=W(c.node,X),g=X.last,Z=c.pos;X.dir={x:Z.x>g.x,y:Z.y>g.y};X.last=M.copy(c.pos);X.tgt=c;if(Y!==h){if(Y){if(Y.ondragleave){Y.ondragleave(X);}else{V.call(Y);}}if(h){X.tgt.data=(h.getDropData&&h.getDropData(X))||{};if(h.ondragenter){h.ondragenter(X);}else{if(h.set){h.set("allowingDrop",true);}}}}if(h){if(h.ondragover){h.ondragover(X);}}var f=X.src.widget;if(f&&f.ondragmove){f.ondragmove(X);}if(f&&!f.ownAvatar){F(c.pos);}}});B=mstrmojo.dnd;B.enable();}());(function(){mstrmojo.requiresCls("mstrmojo.dom");mstrmojo.fx={enabled:true};var E=mstrmojo.dom;mstrmojo.fx._Effect=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.fx._Effect",duration:500,interval:50,delay:null,target:null,getTarget:null,widget:null,slot:null,preStart:null,postStart:null,onCancel:null,onEnd:null,revertOnCancel:true,isPlaying:false,started:false,init:function R(W){mstrmojo.hash.copy(W,this);},play:function C(){this.isPlaying=true;this.started=false;if(this.delay){var W=this;this.delayTimer=window.setTimeout(function(){W._start();W=null;},this.delay);}else{this._start();}},pause:function H(){if(this.delayTimer){window.clearTimeout(this.delayTimer);delete this.delayTimer;}if(this.timer){window.clearInterval(this.timer);delete this.timer;}this.isPlaying=false;},cancel:function U(){this.pause();if(this.started){if(this.revertOnCancel){this.counter=0;this.exec();}if(this.onCancel){this.onCancel();}this.started=false;}},_start:function F(){this.started=true;this._doTarget();this.steps=Math.max(Math.ceil(this.duration/this.interval),1);var W=this.ease;if(typeof W==="string"){this.ease=mstrmojo.registry.ref(W);}if(this._doPreStart()===false){this.started=false;this.isPlaying=false;return ;}this.counter=0;this.exec();this.counter++;this._doPostStart();if(this.counter>=this.steps){this._end();}else{var X=this;if(this.timer){window.clearInterval(this.timer);}this.timer=window.setInterval(function Y(){if(X){X.exec();X.counter++;if(X.counter>=X.steps){X._end();X=null;}}},this.interval);}},exec:null,_end:function D(){this.pause();this.started=false;if(this.onEnd){this.onEnd();}},_doTarget:function T(){if(this.getTarget){this.target=this.getTarget();}else{if(this.widget){this.target=this.widget[this.slot||"domNode"];}else{if(this.target){var X=this.target;if(X&&this.slot&&X.scriptClass){var Y=X[this.slot];if(Y){this.widget=X;this.target=Y;}}}}}if(!this.target){var W=this;while(W=W.parent){if(!W||W.domNode){break;}}if(W){this.widget=W;this.target=W[this.slot||"domNode"];}}},_doPreStart:function N(){if(this.preStart){return this.preStart();}},_doPostStart:function S(){if(this.postStart){this.postStart();}}});function M(Z,a){var X=Z.children,W=(X&&X.length)||0,Y;for(Y=0;Y<W;Y++){X[Y][a]();}}mstrmojo.fx.Parallel=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Parallel",init:function R(Z){this._super(Z);var Y=this.children;mstrmojo.registry.refArray(Y);var W=(Y&&Y.length)||0,X;for(X=0;X<W;X++){Y[X].parent=this;}},_start:function F(){this.started=true;if(this.preStart){this.preStart();}M(this,"play");if(this.postStart){this.postStart();}},pause:function H(){M(this,"pause");},cancel:function U(){M(this,"cancel");}});mstrmojo.fx.AnimateProp=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.AnimateProp",props:null,_start:function O(){var Y=this.props,Z;for(Z in Y){var X=Y[Z],W=X.ease;if(typeof W==="string"){X.ease=mstrmojo.registry.ref(W,{dontInst:true});}}this._super();},exec:function P(){var Z=this.props,a;for(a in Z){var X=Z[a],W=(X.ease||mstrmojo.ease.sin)(this.counter,X.start,X.stop-X.start,this.steps-1);if(X.fn){W=X.fn(W);}if(X.suffix){W+=X.suffix;}var Y=X.isStyle===false?this.target:this.target.style;Y[a]=W;}}});mstrmojo.fx.Typewriter=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Typewriter",charGroupSize:1,srcProp:"text",_doPreStart:function(){this._super();this._dynStop=false;if(this.stop==null){var a=this.srcProp,Y;if(a){var W=this.widget||this.parent;Y=W&&W[a];if((Y!=null)&&(typeof (Y)!=="string")){Y=String(Y);}}this.stop=Y;this._dynStop=true;}if(this.stop==null){this.stop="";}var Z=this.target,b=null,X=1;if(Z){Z.innerHTML="";b=document.createTextNode("");Z.appendChild(b);X=Math.max(Math.floor(this.stop.length/this.steps),1);}this.targetTextNode=b;this.charGroupSize=X;},exec:function(){var X=this.targetTextNode;if(!X){return ;}var W;if(this.counter>=this.steps-1){W=this.stop;}else{if(this.counter===0){W="";}else{W=this.stop.substring(0,this.charGroupSize*this.counter)+"_";}}X.nodeValue=W;},_end:function D(){this._super();if(this._dynStop){this.stop=null;delete this._dynStop;}},cancel:function U(){if(this._dynStop){this.stop=null;delete this._dynStop;}}});mstrmojo.requiresCls("mstrmojo.dom");mstrmojo.fx.Fade=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Fade",start:null,stop:null,ease:null,suffix:null,exec:function P(W){if(W==null){W=(this.ease||mstrmojo.ease.sin)(this.counter,this.start,this.stop-this.start,this.steps-1);}if(E.isIE&&!E.isWinPhone){this.target.style.filter="alpha(opacity="+parseInt(W*100,10)+")";}else{this.target.style.opacity=W;}}});mstrmojo.fx.FadeOut=mstrmojo.declare(mstrmojo.fx.Fade,null,{scriptClass:"mstrmojo.fx.FadeOut",start:1,stop:0,revertOnCancel:true,cssDisplay:"block",_end:function D(){if(this.cssDisplay){this.target.style.display="none";this.exec(this.start);}this._super();},cancel:function U(){if(this.started&&this.cssDisplay){this.target.style.display=this.cssDisplay;}this._super();}});mstrmojo.fx.FadeIn=mstrmojo.declare(mstrmojo.fx.Fade,null,{scriptClass:"mstrmojo.fx.FadeIn",start:0,stop:1,revertOnCancel:true,cssDisplay:"block",_doPostStart:function V(){if(this.cssDisplay){this.target.style.display=this.cssDisplay;}this._super();},cancel:function(){if(this.started&&this.revertOnCancel&&this.cssDisplay){this.target.style.display="none";}this._super();}});function I(Y,X,Z){var W=Math.pow(10,Z||2);if(X){return parseInt(W*Y/X,10)/W;}return parseInt(W*Y,10)/W;}mstrmojo.ease={linear:function L(X,W,Z,Y){if(X===Y){return W+Z;}if(X===0){return W;}return W+Z*I(X,Y);},sin:function A(X,W,Z,Y){return W+Z*Math.sin((Math.PI/2)*X/Y);},cos:function B(X,W,Z,Y){return W+Z*Math.cos((Math.PI/2)*(1-X/Y));},sincos:function K(X,W,Z,Y){if(X>Y/2){return W+Z*Math.cos((Math.PI/2)*(1-X/Y));}return W+Z*Math.sin((Math.PI/2)*X/Y);},cossin:function Q(X,W,Z,Y){if(X>Y/2){return W+Z*Math.sin((Math.PI/2)*X/Y);}return W+Z*Math.cos((Math.PI/2)*(1-X/Y));},bounce:function G(X,W,Z,Y){if((X/=Y)<(1/2.75)){return Z*(7.5625*X*X)+W;}if(X<(2/2.75)){return Z*(7.5625*(X-=(1.5/2.75))*X+0.75)+W;}if(X<(2.5/2.75)){return Z*(7.5625*(X-=(2.25/2.75))*X+0.9375)+W;}return Z*(7.5625*(X-=(2.625/2.75))*X+0.984375)+W;},shake:function J(X,W,Z,Y){if(X<Y/2){return W+Z*I(Math.sin(2*Math.PI*X/8),null,2)*2*X/Y;}return W+Z*I(Math.sin(2*Math.PI*X/8),null,2)*2*(1-X/Y);}};}());(function(){mstrmojo.requiresCls("mstrmojo.hash");var B=mstrmojo.hash;mstrmojo.Base=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.Base",init:function A(C){B.copy(C,this);if(this.postApplyProperties){this.postApplyProperties();}}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash");var O=/this\.([\w\.\[\]\'\"\-]+)/m,D=/this\./m,M=/mstrmojo\.all\[[\'\"]([\w]+)[\'\"]\]\.([\w\.\[\]\'\"\-]+)/m,R=/mstrmojo\.all\[/m,L=/mstrmojo\.all\.([\w]+)\.([\w\.\[\]\'\"\-]+)/m,B=/mstrmojo\.all\./m,C=/\[(\d+)\]/g,E=/\[\'([\w\-]+)\'\]/g,P=/\[\"([\w\-]+)\"\]/g,H=/([\[\]].*)/;mstrmojo.Binding=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.Binding",parent:null,source:null,destination:null,enabled:false,setter:"set",executing:0,init:function N(S){mstrmojo.hash.copy(S,this);mstrmojo.registry.add(this);},destroy:function F(){mstrmojo.publisher.clearSubscriptions(this.id);mstrmojo.registry.remove(this);},exec:function K(){this.executing++;var W=this._sourceFn;if(!W){var V=this.source;if(V!=null){if(typeof (V)=="string"){if(!(V.match("return "))&&!(V.match(/\;\s*\S/))){V="return "+V;}W=new Function(V);}else{if(typeof (V)=="function"){W=V;}}this._sourceFn=W;}}var S,X=this.parent;if(W){try{S=W.apply(X,[]);}catch(U){}}var T=this.setter,Y=this.destination;if(T==null){X[Y]=S;}else{if(typeof (T)=="string"){X[T](Y,S);}else{if(typeof (T)=="function"){T.apply(X,[Y,S]);}}}this.executing--;},enable:function A(){if(!this.enabled){this.exec();var T=this._chains;if(!T){this._parseChains();T=this._chains;}for(var S in T){this._attachChain(T[S]);}this.enabled=true;}},disable:function J(){if(this.enabled){var T=this._chains;if(T){for(var S in T){this._detachChain(T[S]);}}this.enabled=false;}},_chains:null,_parseChains:function(){this._chains={};var U=this._chains;var T=this.source;if(T&&(typeof (T)=="function")){T=T.toString&&T.toString();}if(!T){return ;}function S(b,e,V,X){var W=b,Z;while(Z=W.match(e)){var c=Z[0],a=c.length,d=true;c=c.replace(C,".$1").replace(E,".$1").replace(P,".$1").replace(H,"");for(var Y in U){if(Y.substr(0,a)===c){d=false;break;}else{if(c.indexOf(Y)===0){delete U[Y];}}}if(d){U[c]={host:(V==null)?null:Z[V],parts:Z[X].replace(C,".$1").replace(E,".$1").replace(P,".$1").replace(H,"").split(".")};}W=W.substr(Z.index+a);}}if(D.test(T)){S(T,O,null,1);}if(R.test(T)){S(T,M,1,2);}if(B.test(T)){S(T,L,1,2);}},_attachChain:function Q(S,U){if(!S.evt2idx){S.evt2idx={};}if(!S.idx2evt){S.idx2evt=[];}var d=S.evt2idx,g=S.idx2evt,Z=S.parts;var e=(U>=0)?U:0,b=this.id,W=mstrmojo.all,c=(U>0)?W[g[e-1].context][Z[e-1]]:(S.host?W[S.host]:this.parent),T=Z[e];var V=mstrmojo.array;while(c&&T){if(c.attachEventListener){var f=c[T+"_bindEvents"]||(T+"Change");if(typeof (f)=="string"){f=[f];}var Y=[];for(var a=0,X=f.length;a<X;a++){Y[a]=c.attachEventListener(f[a],b,"_callback");}for(var a=0;a<f.length;a++){d[c.id+"_"+f[a]]=e;}g[e]={context:c.id,evts:f,subs:Y};}c=c[T];T=S.parts[++e];}},_detachChain:function G(S,T){var U=mstrmojo.all,h=S.idx2evt,d=S.evt2idx,a=this.id;var Y=(T>-1)?T:0,b=h.length;if(Y<b){for(;Y<b;Y++){var Z=h[Y];if(!Z){break;}var W=Z.context,c=U[W],g=Z.evts;if(c&&c.detachEventListener){var k=Z.subs;for(var f=0,V=k.length;f<V;f++){c.detachEventListener(k[f]);}}h[Y]=null;for(var X=0,e=g.length;X<e;X++){delete d[W+"_"+g[X]];}}}},_callback:function I(T){this.exec();if(!T||!T.name||!T.src){return ;}var U=T.src.id+"_"+T.name,W=this._chains;for(var X in W){var V=W[X],S=V.evt2idx[U];if(S!=null){this._detachChain(V,S+1);this._attachChain(V,S+1);}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.locales");var X=function(){return mstrmojo.locales.datetime;},L=mstrmojo.string;mstrmojo.date=mstrmojo.provide("mstrmojo.date",{monthNumbers:{Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},REGEXPS:{DATES:{},TIMES:{}},CACHE:{PARSEDATE:{CONTAINS:{},EQUALS:{}},PARSETIME:{CONTAINS:{},EQUALS:{}}},now:Date.now||function D(){return new Date().getTime();},isDate:function Y(b,f,a){var d=this.parseDate(b,a);var e=!!(d&&this.doesDateExist(d.month,d.day,d.year));if(f){if(e){var c=this.formatDateInfo(d,X().DATEOUTPUTFORMAT);if(a){return{match:d.match,formatted:c};}return c;}return null;}return !!e;},formatDateInfo:function R(d,f){if(!f){return"";}var a=d.day,e=d.month,c=d.year;var b=f.replace(/dd/g,this.formatInteger(a,2)).replace(/d/g,Number(a)).replace(/yyyy/g,Number(c)).replace(/yy/g,this.formatInteger(Number(c)%100,2)).replace(/MMM/g,"~~~~").replace(/MM/g,"@@").replace(/M/g,"^").replace(/MMMM/g,X().MONTHNAME_FULL[Number(e)-1]).replace(/\~\~\~\~/g,X().MONTHNAME_SHORT[Number(e)-1]).replace(/\@\@/g,this.formatInteger(e,2)).replace(/\^/g,Number(d.month));return b;},parseDate:function Z(l,f,j){if(l==null){return false;}if(typeof l!=="string"){l=String(l);}l=L.trim(l);var a=this.CACHE.PARSEDATE[f?"CONTAINS":"EQUALS"],c=a[l];if(c||(c===null)){return c;}var b=null;var h;if(j){h=[j];}else{h=[].concat(X().DATEINPUTFORMATS);h.unshift(X().DATEOUTPUTFORMAT);}var d,e;for(d=0,e=h.length;d<e;d++){var g=this._buildRegExp4DateFormat(h[d]),k=g&&l.match(f?g.reContains:g.reEquals);if(k){b={match:k[0],year:g.yearIndex&&this.fourDigitYear(k[g.yearIndex]),day:g.dayIndex&&parseInt(Number(k[g.dayIndex]),10),month:g.monthIndex&&this.numericMonth(k[g.monthIndex])};break;}}a[l]=b;return b;},isTime:function I(b,e,a){var f=this.parseTime(b,a);var d=!!(f&&this.doesTimeExist(f.hour,f.min,f.sec));if(e){if(d){var c=this.formatTimeInfo(f,X().TIMEOUTPUTFORMAT);if(a){return{match:f.match,formatted:c};}return c;}return null;}return !!d;},parseTime:function J(m,f,k){if(m==null){return false;}if(typeof m!=="string"){m=String(m);}m=L.trim(m);var a=this.CACHE.PARSETIME[f?"CONTAINS":"EQUALS"],c=a[m];if(c||(c===null)){return c;}var b=null;var j;if(k){j=[k];}else{j=[].concat(X().TIMEINPUTFORMATS);j.unshift(X().TIMEOUTPUTFORMAT);}var d,e;for(d=0,e=j.length;d<e;d++){var h=this._buildRegExp4TimeFormat(j[d]),l=h&&m.match(f?h.reContains:h.reEquals);if(l){var g=h.ampmIndex&&l[h.ampmIndex];b={match:l[0],hour:h.hourIndex&&this.capitalHour(l[h.hourIndex],g),min:h.minIndex&&parseInt(Number(l[h.minIndex]),10),sec:h.secIndex&&parseInt(Number(l[h.secIndex]),10)};break;}}a[m]=b;return b;},formatTimeInfo:function S(d,b){if(!b){return"";}var c=!(Number(d.hour)%12)?12:(Number(d.hour)%12),a=b.replace(/HH/g,this.formatInteger(d.hour,2)).replace(/H/g,Number(d.hour)).replace(/hh/g,this.formatInteger(c,2)).replace(/h/g,c).replace(/mm/g,this.formatInteger(Number(d.min)||0,2)).replace(/m/g,Number(d.min)||0).replace(/ss/g,this.formatInteger(Number(d.sec)||0,2)).replace(/s/g,Number(d.sec)||0).replace(/a/g,(Number(d.hour)<12)?X().AM_NAME:X().PM_NAME).replace(/tt/g,(Number(d.hour)<12)?X().AM_NAME:X().PM_NAME).replace(/AM\/PM/g,(Number(d.hour)<12)?X().AM_NAME:X().PM_NAME);return a;},doesTimeExist:function G(f,b,e){var d=parseInt(f,10);if(d>=0&&d<=23){var a=parseInt(b,10);if(a>=0&&a<=59){if(!e){return true;}var c=parseInt(e,10);if(c>=0&&c<=59){return true;}}}return false;},capitalHour:function C(a,b){a=parseInt(Number(a),10);if(b&&(b.match(X().AM_NAME)||b.match(/AM/i))){return a%12;}if(b&&(b.match(X().PM_NAME)||b.match(/PM/i))){return 12+(a%12);}return a;},getTimeStamp:function O(){var b=new Date();var a=[b.getMonth()+1,b.getDate(),b.getFullYear()];var e=[b.getHours(),b.getMinutes(),b.getSeconds()];var d=(e[0]<12)?"AM":"PM";e[0]=(e[0]<12)?e[0]:e[0]-12;e[0]=e[0]||12;for(var c=1;c<3;c++){if(e[c]<10){e[c]="0"+e[c];}}return a.join("-")+" "+e.join("")+" "+d;},isDateAndOrTime:function V(a,b){return this.isDateTime(a,b)||this.isDate(a,b)||this.isTime(a,b);},isDateTime:function B(j,a){var e=this.parseDateAndOrTime(j),h=e&&e.date,d=e&&e.time,g=!!h&&!!d&&this.doesDateExist(h.month,h.day,h.year)&&this.doesTimeExist(d.hour,d.min,d.sec);if(a){if(g){var b=this.formatDateInfo(h,X().DATEOUTPUTFORMAT),c=this.formatTimeInfo(d,X().TIMEOUTPUTFORMAT),i=j.indexOf(h.match),f=j.indexOf(d.match);return(f<i)?c+" "+b:b+" "+c;}return null;}return !!g;},parseDateAndOrTime:function Q(b,a,f){var c=this.parseDate(b,true,a);var d=L.trim((c&&c.match)?b.replace(c.match,""):b),e=this.parseTime(d,false,f);if(!c&&!e){return null;}return{date:c,time:e};},inDateTimeRange:function P(c,e,h){var b=this.parseDateAndOrTime(c),f=b&&b.date,i=b&&b.time;if(!f&&!i){return 0;}if(e!=null){var d=this.parseDateAndOrTime(e);if(f&&d&&d.date){var j=this.compareDate(f,d.date);if(j<0){return -1;}if(j==0){if(i&&d.time&&(this.compareTime(i,d.time)<0)){return -1;}}}}if(h!=null){var a=this.parseDateAndOrTime(h);if(f&&a&&a.date){var g=this.compareDate(f,a.date);if(g>0){return 1;}if(g==0){if(i&&a.time&&(this.compareTime(i,a.time)>0)){return 1;}}}}return 0;},compareDate:function A(c,a){if(c===a){return 0;}var d=typeof c==="string"?this.parseDate(c):c,b=typeof a==="string"?this.parseDate(a):a;if(!d){return -1;}if(!b){return 1;}return(d.year-b.year)||(d.month-b.month)||(d.day-b.day)||0;},compareTime:function K(b,a){if(b===a){return 0;}var d=typeof b==="string"?this.parseTime(b):b,c=typeof a==="string"?this.parseTime(a):a;if(!d){return -1;}if(!c){return 1;}return(d.hour-c.hour)||(d.min-c.min)||(d.sec-c.sec)||0;},compareDateTime:function U(b,a){return this.compareDate(b,a)||this.compareTime(b,a);},compareDateAndOrTime:function E(h,f){if(h===f){return 0;}var b=typeof h==="string"?this.parseDateAndOrTime(h):h,a=typeof f==="string"?this.parseDateAndOrTime(f):f;if(!b){return -1;}if(!a){return 1;}var g=b.date,e=a.date,d=b.time,c=a.time;return this.compareDate(g,e)||this.compareTime(d,c);},_buildRegExp4DateFormat:function N(c){if(!c){return null;}var e=this.REGEXPS.DATES[c];if(!e){if(!this.REGEXPS.MONTHNAME_FULL){this.REGEXPS.MONTHNAME_FULL=X().MONTHNAME_FULL.join("|");this.REGEXPS.MONTHNAME_SHORT=X().MONTHNAME_SHORT.join("|");}e=this.REGEXPS.DATES[c]={};e.formatStr=c;var b=e.reStr=c.replace(/([^M|d|y|\s])/g,"\\$1").replace(/dd/g,"~~~~").replace(/d/g,"(\\d{1,2})").replace(/\~\~\~\~/g,"(\\d\\d)").replace(/yyyy/g,"(\\d\\d\\d\\d)").replace(/yy/g,"(\\d\\d)").replace(/MMMM/g,"@@@@").replace(/MMM/g,"@@@").replace(/MM/g,"(\\d\\d)").replace(/M/g,"(\\d{1,2})").replace("@@@@","("+this.REGEXPS.MONTHNAME_FULL+")").replace("@@@","("+this.REGEXPS.MONTHNAME_SHORT+")");e.reEquals=new RegExp("^"+b+"$");e.reContains=new RegExp("^"+b+"\\b");var f=[{key:"monthIndex",index:c.indexOf("M")},{key:"dayIndex",index:c.indexOf("d")},{key:"yearIndex",index:c.indexOf("y")}];f.sort(function(h,g){return h.index-g.index;});var a=1,d;for(d=0;d<3;d++){e[f[d].key]=f[d].index>-1?a++:null;}}return e;},_buildRegExp4TimeFormat:function F(d){if(!d){return null;}var f=this.REGEXPS.TIMES[d];if(!f){if(!this.REGEXPSTR_AMPM){this.REGEXPSTR_AMPM=[X().AM_NAME,X().PM_NAME,String(X().AM_NAME).toLowerCase(),String(X().PM_NAME).toLowerCase()].join("|");}f=this.REGEXPS.TIMES[d]={};f.formatStr=d;var c=d.replace(/\'\'/g,'"');var g=c.match(/\'(.+?)\'/g);c.replace(/\'(.+?)\'/g,"*");c=c.replace(/([^H|h|m|s|z|Z|a|t|\s|A|P|M|\/])/g,"\\$1").replace(/HH|hh/g,"(\\d\\d)").replace(/H|h/g,"(\\d{1,2})").replace(/mm/g,"(\\d\\d)").replace(/m/g,"(\\d{1,2})").replace(/ss/g,"(\\d\\d)").replace(/s/g,"(\\d{1,2})").replace(/a/g,"("+this.REGEXPSTR_AMPM+")").replace(/AM\/PM/,"("+this.REGEXPSTR_AMPM+")").replace(/tt/g,"("+this.REGEXPSTR_AMPM+")").replace(/z|Z/g,"(.+?)");var e,a;for(e=1,a=(g&&g.length)||0;e<a;e++){c=c.replace(/\*/,g[e]);}c=c.replace(/\"/g,"'");f.reEquals=new RegExp("^"+c+"$");f.reContains=new RegExp(c);var h=[{key:"hourIndex",index:d.search(/h|H/)},{key:"minIndex",index:d.indexOf("m")},{key:"secIndex",index:d.indexOf("s")},{key:"ampmIndex",index:d.search(/tt|a|AM\/PM/)},{key:"zoneIndex",index:d.search(/z|Z/)}];h.sort(function(j,i){return j.index-i.index;});var b=1;for(e=0;e<5;e++){f[h[e].key]=h[e].index>-1?b++:null;}}return f;},doesDateExist:function M(d,a,b){var c=new Date(b,d-1,a);return b==c.getFullYear()&&d==c.getMonth()+1&&a==c.getDate();},fourDigitYear:function T(b){b=parseInt(Number(b),10);if(!isNaN(b)){var a=(X().TWODIGITYEARSTART%100)||0;if(b>=0&&b<=a){b=2000+b;}else{if(b>a&&b<100){b=1900+b;}}}return b;},numericMonth:function W(e){var d=parseInt(Number(e),10),c=mstrmojo.array;if(!isNaN(d)){return d;}var a=(e&&e.length)||0,b=-1;if(a){if(a<=3){b=c.indexOf(X().MONTHNAME_SHORT,e);}if(b===-1){b=c.indexOf(X().MONTHNAME_FULL,e);}}return b+1;},formatInteger:function H(c,b){var f=String(c),e=Math.max(b-f.length,0);if(e>0){var a=[f],d;for(d=1;d<=e;d++){a.push("0");}f=a.reverse().join("");}return f;},getFirstDateOfMonth:function(b,a){return new Date(b,a-1,1);},getDateObject:function(g,a,f,c,e,b){g=g||0;a=a||1;f=f||1;c=c||0;e=e||0;b=b||0;return new Date(g,a-1,f,c,e,b);},getDateFromDateInfo:function(a){return this.getDateObject(a.date&&a.date.year,a.date&&a.date.month,a.date&&a.date.day,a.time&&a.time.hour,a.time&&a.time.min,a.time&&a.time.sec);},getDateJson:function(a){return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:a.getHours(),min:a.getMinutes(),sec:a.getSeconds()};},isLeapYear:function(a){return !(a%400)||(!(a%4)&&!!(a%100));},getDaysOfMonth:function(c,a){var b=[31,28,31,30,31,30,31,31,30,31,30,31];if(a==2&&this.isLeapYear(c)){return 29;}return b[a-1];},getPreMonth:function(b,a){if(a===1){return{y:b-1,m:12};}return{y:b,m:a-1};},getNextMonth:function(b,a){if(a===12){return{y:b+1,m:1};}return{y:b,m:a+1};}});}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.locales");var c=mstrmojo.array,P=mstrmojo.meta.TP,G=mstrmojo.meta.STP,O=mstrmojo.hash,F={ANDOR:14,MQ:10,MC:12,AQ:2,AL:6,AC:9,AE:5,F:13,R:21,B:20,XML:1,RLS:15},B={};var W;for(W in F){B[F[W]]=true;}var a={};a[F.AQ]="a";a[F.AL]="a";a[F.AC]="a";a[F.AE]="a";a[F.MQ]="m";a[F.MC]="m";a[F.F]="f";a[F.R]="r";a[F.XML]="p";a[F.ANDOR]="nds";var K={};K[F.MQ]=["not","m","fn","fnt","cs","dmy","idcsi"];K[F.MC]=["not","m","fn","fnt","m2","m3","p","dmy","idcsi"];K[F.AE]=["not","a","fn","es","a2","fm2","p"];K[F.AQ]=["not","a","fm","fn","cs"];K[F.AL]=["not","a","fm","fn","cs"];K[F.AC]=["not","a","fm","a2","fm2","a3","fm3","fn","cs"];K[F.R]=["not","r"];K[F.F]=["not","f"];K[F.XML]=["not","n","p"];K[F.ANDOR]=["not","node","nds","fn"];var M={};M[F.MQ]="METRIC_FNS";M[F.MC]="METRIC_FNS";M[F.AQ]="FORM_FNS";M[F.AL]="FORM_FNS";M[F.AC]="FORM_FNS";M[F.AE]="ELEM_FNS";var N={FILTER:1,REPORT:3,METRIC:4,FOLDER:8,PROMPT:10,FUNCTION:11,ATTR:12,FACT:13,DIM:14,FORM:21,ROLE:43,CONS:47},b={FILTER:256,CUSTOMGROUP:257,PROMPT:2560,PROMPT_BOOLEAN:2561,PROMPT_LONG:2562,PROMPT_STRING:2563,PROMPT_DOUBLE:2564,PROMPT_DATE:2565,PROMPT_OBJECTS:2566,PROMPT_ELEMENTS:2567,PROMPT_EXPRESSION:2568,PROMPT_EXPRESSION_DRAFT:2569,PROMPT_DIMTY:2570,PROMPT_BIGDECIMAL:2571,REPORT_GRID:768,REPORT_GRAPH:769,REPORT_ENGINE:770,REPORT_TEXT:771,REPORT_DATAMART:772,REPORT_BASE:773,REPORT_GRIDGRAPH:774,REPORT_NONINTERACTIVE:775,REPORT_CUBE:776,REPORT_EMMACUBE:779,RECURSIVE_ATTR:3076,CONS:12032,NDE:12033},T={a:N.ATTR,a2:N.ATTR,m:N.METRIC,m2:N.METRIC,r:N.REPORT,f:N.FILTER,p:N.PROMPT},U={f:b.FILTER};var V={};V[F.MQ]=N.METRIC;V[F.MC]=N.METRIC;V[F.AQ]=N.ATTR;V[F.AL]=N.ATTR;V[F.AC]=N.ATTR;V[F.AE]=N.ATTR;V[F.F]=N.FILTER;V[F.R]=N.REPORT;var J=function(d){var H=d.length,g={},e;for(e=0;e<H;e++){var h=d[e];g[h.did]=h.n;}return g;},E=function(e){var H=e.length,f;for(f=0;f<H;f++){var d=e[f];if("tp" in d){d.t=d.tp;}}return e;},X=function(e,g){var H=e.length,f;for(f=0;f<H;f++){var d=e[f];if("tp" in d){if(g){d.t=g;}else{delete d.t;}}}return e;},Z=function(d,f){if(!f){f=[];}f.length=0;var e,H;for(e=0,H=d.length;e<H;e++){f[e]=d[e];}return f;},L={0:[{did:"1,76"},{did:"1,79"},{did:"1,77"},{did:"1,80"},{did:"1,78"},{did:"1,81"},{did:"1,18"},{did:"1,43"}],1:[{did:"2,1"},{did:"2,2"},{did:"3,1"},{did:"3,2"}]};var R={0:[{did:"1,22"},{did:"1,57"}]};mstrmojo.expr=mstrmojo.provide("mstrmojo.expr",{ET:F,ETs:B,ET2TGT:a,ET2COND:K,ET2TP:V,FN:{EQUAL:6,NOT_EQUAL:7,GREATER:8,LESS:9,GREATER_EQUAL:10,LESS_EQUAL:11,IN_LIST:22,NOT_IN_LIST:57,BETWEEN:17,NOT_BETWEEN:44,IS_NULL:54,IS_NOT_NULL:55,AND:19,OR:20,NOT:21,SEARCH:158,DESCENDANT:187},FN_MRP:{BETWEEN:3,EXCLUDE_TOP:4,EXCLUDE_BOTTOM:5,BETWEEN_DESCENDING:13},FNT:{DEF:1,RANK:2,PER:3},FN_SEP:",",TP:N,STP:b,DMY_TP:{ATTR:-1,DIM:-2},DTP:{UNKNOWN:-1,INTEGER:1,UNSIGNED:2,NUMERIC:3,DECIMAL:4,REAL:5,DOUBLE:6,FLOAT:7,CHAR:8,VARCHAR:9,LONGVARCHAR:10,BINARY:11,VARBIN:12,LONGVARBIN:13,DATE:14,TIME:15,TIMESTAMP:16,SHORT:21,LONG:22,MBCHAR:23,BOOLEAN:24,PATTERN:25,BIGDECIMAL:30,NUMERICALLOWSPERCENTAGE:49},BFTP:{RESERVED:0,HIDDEN:-1,DATETIME:1,NUMBER:2,TEXT:3,PICTURE:4,URL:5,EMAIL:6,TAG:7,DATE:8,TIME:9,SYMBOL:10,BIGDECIMAL:11,PHONENUMBER:12},METRIC_DTP:3,FN_DTP:{NUM:0,CHAR:1,DATE:2},DTP2PROMPT_STP:{"-1":b.PROMPT,1:b.PROMPT_LONG,2:b.PROMPT_LONG,3:b.PROMPT_LONG,4:b.PROMPT_DOUBLE,5:b.PROMPT_DOUBLE,6:b.PROMPT_DOUBLE,7:b.PROMPT_DOUBLE,8:b.PROMPT_STRING,9:b.PROMPT_STRING,10:b.PROMPT_STRING,14:b.PROMPT_DATE,15:b.PROMPT_DATE,16:b.PROMPT_DATE,21:b.PROMPT_LONG,22:b.PROMPT_LONG,23:b.PROMPT_STRING,24:b.PROMPT_BOOLEAN,30:b.PROMPT_BIGDECIMAL},DTP2FN_DTP:{"-1":0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:1,9:1,10:1,11:0,12:0,13:0,14:0,15:0,16:0,21:0,22:0,23:1,24:0,25:1,30:0,34:0},fnCstCount:function A(e,d){var g=this.FN,h=this.FN_MRP,H=this.FNT;if(d===H.DEF||d===undefined){switch(e){case g.BETWEEN:case g.NOT_BETWEEN:return 2;case g.IS_NULL:case g.IS_NOT_NULL:return 0;}}else{if(d===H.PER||d===H.RANK){switch(e){case h.BETWEEN:case h.BETWEEN_DESCENDING:return 2;}}}return 1;},fn_List:function S(d,H){var e=this.FN;return d==e.IN_LIST||d==e.NOT_IN_LIST;},fn_AC_MC:function Y(d,H){var e=this.FN;return(d==e.EQUAL)||(d==e.NOT_EQUAL)||(d==e.GREATER)||(d==e.LESS)||(d==e.GREATER_EQUAL)||(d==e.LESS_EQUAL);},fnName:function Q(h,g,d,f){var H=this[M[h]];if(H&&H.constructor===Object){H=H[this.DTP2FN_DTP[f]]||H["*"];}if(h===F.MQ){H=H.concat(mstrmojo.locales.expression.MetricRP);}var e=c.find(H,"did",(d||1)+this.FN_SEP+g);if(e>-1){return H[e].n;}return"";},findTargets:function I(n,f,p){if(!p){p={};}if(n){var m;for(m in T){var y=n[m];if(y){if(!y[P]){y[P]=T[m];}if(!y[G]&&U[m]){y[G]=U[m];}p[y[f]]=y;}}if(n.dmy){var j=this.TP.ATTR,q=this.DMY_TP.ATTR,e=n.dmy.uts,x,d;for(x=0,d=(e&&e.length)||0;x<d;x++){var l=e[x];if(l&&l.utp===q){var g=l.utgt;if(!g.t){g.t=j;}p[g[f]]=g;}}}var H=n.nds,o,v;for(o=0,v=(H&&H.length)||0;o<v;o++){this.findTargets(H[o],f,p);}var r=n.cs,w=r&&r.length;if(w){for(o=0;o<w;o++){this.findTargets(r[o],f,p);}}}return p;},onLocaleUpdated:function(){var d=mstrmojo.locales.expression,H=mstrmojo.expr;H.BRANCH_FNS=O.copy(J(d.BranchQual),H.BRANCH_FNS);H.ELEM_FNS=Z(X(d.Element,"fn"),H.ELEM_FNS);H.METRIC_FNS={"*":X(c.filter(d.Metric.concat(d.MetricRP),function(e){return e.did&&(c.find(R["0"],"did",e.did)<0);}))};H.FORM_FNS={0:X(c.filter(d.Attribute,function(e){return e.did&&(c.find(L["0"],"did",e.did)<0);})),1:X(c.filter(d.Attribute,function(e){return e.did&&(c.find(L["1"],"did",e.did)<0);})),2:X(c.filter(d.Attribute,function(e){return e.did&&(c.find(L["0"],"did",e.did)<0)&&(c.find(L["1"],"did",e.did)<0);}))};H.DIMTYLEVELS=Z(X(d.DimtyLevels),H.DIMTYLEVELS);},getSortedObjectsByTypeGroup:function D(g){var e=-1,H=0,d=1,f=2;function h(i){switch(i.t){case N.METRIC:return d;case N.ATTR:case N.DIM:case N.CONS:return H;case N.FILTER:return i.st===b.CUSTOMGROUP?H:f;case -1:return e;default:return f;}}g=c.map(g||[],function(i){return O.copy(i,{});});return g.sort(function(m,l){var n=h(m)-h(l);if(n){return n;}var k=m.n.toUpperCase(),j=l.n.toUpperCase(),i=k.localeCompare(j);if(i){return i;}return m.n.localeCompare(l.n);});},mapBaseFormTypeToDataType:function C(e){e=parseInt(e);if(e===NaN){return -1;}var d=this.BFTP,H=this.DTP;switch(e){case d.DATETIME:return H.TIMESTAMP;case d.DATE:return H.DATE;case d.TIME:return H.TIME;case d.NUMBER:return H.REAL;case d.TEXT:return H.CHAR;case d.BIGDECIMAL:return H.BIGDECIMAL;default:return H.CHAR;}}});mstrmojo.expr.onLocaleUpdated();}());(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.string","mstrmojo.array");var N=mstrmojo.locales,J=mstrmojo.string,Q=window.mstrConfig,G=mstrmojo.array,D=Q.units,S={CM:1,IN:2,MM:3,PT:4,PC:5,PX:6},B={1:"cm",2:"in",3:"mm",4:"pt",5:"pc",6:"px"},F={DEFAULT:-2,FIXED:0,CURR:1,PERCENT:4,FRACTION:5,SCIENTIFIC:6,GENERAL:9};var H=96;String.prototype.reverse=function(){var V="",U;for(U=this.length;U>0;--U){V+=this.charAt(U-1);}return V;};function L(U,W){U=U||"";W=W||U.match(/\".+?\"/g)||[];for(var V=0;V<W.length;V++){U=U.replace(W[V],W[V].substring(1,W[V].length-1).replace(/\$/g,"$$$$"));}return U;}function T(Z){var U=86400000,Y=new Date(1900,0,1,0,0,0,0),V=Math.floor(Z)-1,X=Z-V-1;if(Z>=59){V--;}var W=new Date(Y.getTime()+(V*U));W.setTime(W.getTime()+X*U+500);return W;}function I(Y,f,h){var Z={"d+":Y.getDate(),"h+|H":Y.getHours(),"s+":Y.getSeconds()},U=N.datetime,a;if(/(y+)/.test(f)){var X=Y.getFullYear().toString(),e=RegExp.$1,W=e.length===2,V=X.length;f=f.replace(e,X.substr(W?V-2:0,W?2:V));}if(/(^\[h\])/.test(f)&&h){f=f.replace(RegExp.$1,""+(Math.floor(h*24)));}if(/(\"?:\"?mm)/.test(f)){var b=Y.getMinutes();f=f.replace(RegExp.$1,":"+(RegExp.$1.length===1?b:("00"+b).substr(b.toString().length)));}if(/(AM\/PM)/.test(f)){var g=Z["h+"],c=g>11;Z["h+"]=g-(c?12:0);f=f.replace(RegExp.$1,c?"PM":"AM");}for(a in Z){if(new RegExp("("+a+")").test(f)){f=f.replace(RegExp.$1,RegExp.$1.length===1?Z[a]:("00"+Z[a]).substr((Z[a].toString()).length));}}if(/(mmmm)/.test(f)){f=f.replace(RegExp.$1,U.MONTHNAME_FULL[Y.getMonth()]);}else{if(/(mmm)/.test(f)){f=f.replace(RegExp.$1,U.MONTHNAME_SHORT[Y.getMonth()].substr(0,3));}else{if(/((m|M)+)/.test(f)){var d=(Y.getMonth()+1).toString();f=f.replace(RegExp.$1,RegExp.$1.length===1?d:("00"+d).substr(d.length));}}}return L(f);}function O(V,Y){var W=0,U=Y.length,X=0;for(;W<U;W++){if(Y[W]==="0"){X++;}else{if(Y[W]==="#"){if(X<V){X++;}}else{continue;}}}return X;}mstrmojo.num=mstrmojo.provide("mstrmojo.num",{isInt:function E(U){var X=this.getThousand(),W=new RegExp("^(-)?[0-9]{1,3}(\\"+X+"[0-9]{3})*$"),V=new RegExp("^(-)?[0-9]+$");return(String(U).indexOf(X)&&W.test(U))||V.test(U);},isNumeric:function P(Z,a){var Y=this.getDecimal(),b=this.getThousand(),X=a?"%?":"",W=new RegExp("^(-)?[0-9]{1,3}(\\"+b+"[0-9]{3})*(\\"+Y+"[0-9]+)?"+X+"$"),V=new RegExp("^(-)?[0-9]*(\\"+Y+")?[0-9]+"+X+"$"),U=new RegExp("^(-)?[0-9]{1}(\\"+Y+")[1-9]+[eE]{1}[-]{0,1}[0-9]+"+X+"$");return(String(Z).indexOf(b)&&W.test(Z))||V.test(Z)||U.test(Z);},isBigDecimal:function(V){if(!V){return false;}var U=String(V).match(/^#([^#]+)#$/);if(!U||U.length<=1){return false;}var W=U[1];return this.isNumeric(W);},parseInteger:function M(U,V){if(!this.isInt(U)){return Number.NaN;}return parseInt(this.toString(U,true),V);},parseNumeric:function C(U){if(!this.isNumeric(U)){return Number.NaN;}return parseFloat(this.toString(U,true));},parseEnhNumeric:function A(U){if(!this.isNumeric(U,true)){return Number.NaN;}if(U.indexOf("%")!==-1){return parseFloat(this.toString(U.replace("%",""),true))/100;}return parseFloat(this.toString(U,true));},parseBigDecimal:function(U){return String(U).match(/^#(.+)#$/)[1];},inNumericRange:function R(V,W,U){V=this.parseNumeric(V);U=(U!=null)?this.parseNumeric(this.toLocaleString(U)):Number.NaN;W=(W!=null)?this.parseNumeric(this.toLocaleString(W)):Number.NaN;if(U!=Number.NaN&&(V>U||isNaN(V))){return 1;}if(W!=Number.NaN&&(V<W||isNaN(V))){return -1;}return 0;},convertToUSUnits:function(X,W,V){var U=X;W=W||D;switch(parseInt(W,10)){case S.CM:U=parseFloat(this.toString(X))/2.54+"";break;case S.MM:U=parseFloat(this.toString(X))/25.4+"";break;case S.PT:U=parseFloat(this.toString(X))/72+"";break;case S.PC:U=parseFloat(this.toString(X))/6+"";break;case S.PX:U=parseFloat(this.toString(X))/H+"";break;}return V?U:this.toLocaleString(U);},convertToLocalUnits:function(X,W,V){var U;W=W||D;switch(parseInt(W,10)){case S.CM:U=(parseFloat(this.toString(X))*2.54).toFixed(4)+"";break;case S.MM:U=(parseFloat(this.toString(X))*25.4).toFixed(4)+"";break;case S.PT:U=(parseFloat(this.toString(X))*72).toFixed(4)+"";break;case S.PC:U=(parseFloat(this.toString(X))*6).toFixed(4)+"";break;case S.PX:X=parseFloat(this.toString(X))*H;U=parseInt(X)==X?X+"":X.toFixed(4)+"";break;default:U=parseFloat(this.toString(X)).toFixed(4)+"";}return V?U:this.toLocaleString(U);},convertUnits:function(V,W,U){return this.convertToLocalUnits(this.convertToUSUnits(U,V,true),W,true);},toLocaleString:function(V,U){var W=(V+"").replace(".",this.getDecimal());if(U){return this.addSeparators(W,this.getThousand());}return W;},toString:function(W,U){if(U===true){var V=this.getThousandSepRegex();if(V){W=String(W).replace(V,"");}}return String(W).replace(this.getDecimal(),".");},getThousandSepRegex:function(){if(this.thousandSeparatorRegex==null){this.thousandSeparatorRegex=new RegExp(this.getThousand().replace(/(\W){1}/g,"\\$1"),"g");}return this.thousandSeparatorRegex;},addSeparators:function(W,V){var U=V;if(V=="."||V=="*"||V=="\\"){U="\\"+V;}return W.reverse().replace(/(\d{3})/g,"$1"+V).reverse().replace(new RegExp("^(-)?"+U),"$1");},addSeparators2:function(X,W){var U=X,V=/(\d+)(\d{3})/;while(V.test(U)){U=U.replace(V,"$1"+W+"$2");}return U;},format:function(Y,X,b,U){var a="",Z=(X>0)?".":"",V=[];b=(b)?b:"";for(var W=0;W<X;W++){V.push("0");}V=V.join("");switch(Y){case F.GENERAL:a="0.00";break;case F.PERCENT:a="0"+Z+V+"%";break;case F.SCIENTIFIC:a="0"+Z+V+"E+00";break;default:a='"'+b+'"#,##0'+Z+V;}return this.formatByMask(a,U);},getDecimalLength:function K(W){var U=W.indexOf("."),X=0;if(U!==-1){var V=W.substr(U+1,W.length).match(/\d+/);if(V&&V.length>0){X=V[0].length;}}return X;},formatByMask:function(AI,Aa,AG){var AA,n="",t,Ae=false;if(isNaN(Aa)){AA=new Date(Aa);if(isNaN(AA)||!Date.parse(Aa)){return Aa;}t=true;}if(AI==="General"){if(String(parseFloat(Aa)).indexOf(".")>-1){var AE=AG?String(parseFloat(Aa)):String(parseFloat(Aa).toFixed(2));n=AE.split(".");if(n.length===2){return n.join(this.getDecimal());}return AE;}if(isNaN(Aa)){return Aa;}return String(parseFloat(Aa));}var r=String(AI).split(";"),X=r[0],h="\u00A4",AT=/"[^"]*"/g,l=(AI&&AI.replace(AT,h).replace(/\[.*\]/g,h))||"",AZ=["m","y","d","h","s"],AO=false;G.forEach(AZ,function(i){AO=AO||l.indexOf(i,0)!==-1;});if(AO){if(window.SSF&&!Ae){n=this.formatBySSF(AI,Aa);Ae=true;}if(n!==""){return n;}else{return I(t?AA:T(Aa),AI,Aa);}}var AM=X.indexOf("E+"),d=X.indexOf("%"),x=X.match(/\".+?\"/g),AD=X.match(/\[([=<>]*)(-?\d+\.?\d*)\]/),y=X.indexOf("?/?")>-1,AF=(AM!=-1)?F.SCIENTIFIC:((d!=-1)?F.PERCENT:((x&&!AD)?F.CURR:y?F.FRACTION:F.FIXED)),q="",AV="",o=false,V=new String(Aa),c=parseFloat(Aa)||this.parseNumeric(Aa);if(x){if(X.match(/\[\$.+?\]/g)){for(var e=0;e<x.length;e++){X=X.replace(x[e],x[e].substring(1,x[e].length-1));if(x[e].match(/\[\$.+?\]/g)){x[e]=x[e].replace(/\[\$.+?\]/g,x[e][x[e].indexOf("[$")+2]);}}X=X.replace(/\[\$.+?\]/g,'"#"'.replace("#",X[X.indexOf("[$")+2]));}q=L(X,x);q=q.replace(X.replace(/\".+?\"/g,""),h);}if(c<0){V=V.substring(1,V.length);c=-c;o=true;if(r.length>1){var a=r[1].replace(/\[.*\]/,"");AV=L(a.replace(r[0],h));}}var k=this,b=function(m,i){var j=i&&i.replace(h,m);if(i&&(j===i)&&window.SSF){if(Ae){return m;}else{Ae=true;return k.formatBySSF(i,c);}}return(i)?j:"-"+m;};if(AF===F.FRACTION){var AR,AQ,AY,p=10,z,w=0,AK,AU,Y,W=false,AH;if(AI.indexOf("# ")>-1){W=true;}for(AR=5;AR>0;AR--){AH="/";for(AQ=0;AQ<AR;AQ++){AH+="?";}if(AI.indexOf(AH)>-1){for(AQ=1;AQ<AR;AQ++){p*=10;}break;}}if(W){w=Math.floor(Number(c));c-=w;}AU=p/2;AY=-1;AK=c*p;for(AR=p-1;AR>=2;AR--){Y=(AK*AR)/p;Y=Y-Math.floor(Y);Y=Y*p;if(Math.abs(Y-p)<Y){Y=Math.abs(Y-p);}Y=Y/AR;if(Y<AU){AU=Y;AY=AR;}else{if((Y==AU)&&(Y==0)){AU=Y;AY=AR;}}}z=Math.round(AY*AK/p);for(AR=AY;AR>=2;AR--){if((z%AR==0)&&(AY%AR==0)){z=z/AR;AY=AY/AR;break;}}if(AY==p){AY=1;z=0;}if(z==0){AY=1;}if(z==AY){if(W){n=""+(w+1);}else{n="1";}}else{if(W&&w>0){if(z==0){n=w;}else{n=w+" "+z+"/"+AY;}}else{if(z==0){n="0";}else{n=z+"/"+AY;}}}if(o){n=b(n,AV);}}else{if(AF==F.SCIENTIFIC){if(c!=0){var Ac=Math.floor(Math.log(c)/Math.LN10),AP=c/Math.pow(10,Ac),Ad=X.substring(0,AM),g=Ad.indexOf("."),AJ=X.length-X.indexOf("E+")-(""+Math.abs(Ac)).length-2,AR,U=Ac<0;Ac=Math.abs(Ac);for(AR=0;AR<AJ;AR++){Ac="0"+Ac;}n+=Number(AP).toFixed((g!=-1)?Ad.length-g-1:0);n=((o)?b(n,AV):n)+"E"+(U?"-":"+")+Ac;}else{n="0";}}else{if(AF==F.PERCENT){X=X.substring(0,X.length-1);V=String(c*100);}var g=X.indexOf("."),Z=0,AX,u=g>=0?X.substring(0,g):X,AB=g>=0?X.substring(g+1,X.length):"",f=false;if(u.match(/[#0\?],$/)){c/=1000;V=String(c);}else{if(AB.match(/^[#0]*,/)){var AC=0;f=true;while(AC<AB.length){if(AB[AC]==="0"||AB[AC]==="#"){AC++;}else{if(AB[AC]===","){c/=1000;V=String(c);AC++;}else{break;}}}}}AX=this.getDecimalLength(V);if(g!=-1){Z=O(AX,X.substr(g+1,X.length));}if(V.indexOf("e")===-1||V.indexOf("e-")>-1){n=String((+(Math.round(+(V.indexOf("e")>0?String(parseFloat(V).toFixed(Math.min(Z+2,20))):V+"e"+Math.min(Z,20)))+"e"+-Math.min(Z,20))).toFixed(Math.min(Z,20)));}else{n=V;var Ab=n.split("e");Ab[0]=parseFloat(Ab[0]).toFixed(2).toString();n=Ab.join("e");if(AF==F.CURR){n=q.replace(h,n);if(n===q&&window.SSF){n=this.formatBySSF(AI,Aa,n);Ae=true;}}if(AF==F.PERCENT){n+="%";}if(o){n=b(n,AV);}return n;}if(AF===F.FIXED&&window.SSF){var AS;if(/[\[\]><=A-Za-z]|,{2}/.test(X)){AS=this.formatBySSF(AI,Aa);n=AS!==""?AS:n;Ae=true;}var AN=o?AV:X;if(/^\s*[\+-]{1}[#,.0]+/.test(AN)){AS=this.formatBySSF(AN,Math.abs(Aa));n=AS!==""?AS:n;Ae=true;}}var AW=n.split(".");var AL=X.replace(/"[^"]*"/g,"").match(/[#\d]+[^\.\d#]+[#\d]+/);if(AL!==null){if(AF===F.CURR){AW[0]=(this.formatBySSF((f?AL[0]&&AL[0].trim():AL.input&&AL.input.trim()),parseFloat(AW[0]))||"").split(".")[0];Ae=true;}if(AW[0].indexOf(",")>=0){AW[0]=AW[0].replace(/,/g,this.getThousand());}else{if(!(this.getThousand()===","&&AW[0].search(this.getThousand())>0)){AW[0]=this.addSeparators2(AW[0],this.getThousand());}}}n=AW.join(this.getDecimal());if(AF==F.CURR){n=q.replace(h,n);if(n===q&&window.SSF){n=this.formatBySSF(AI,Aa,n);Ae=true;}}if(AF==F.PERCENT){n+="%";}if(o){n=b(n,AV);}}}return n;},formatBySSF:function(W,V,X){var U=(X!==undefined&&X!==null)?X:"";if(typeof V==="string"){V=parseFloat(V);}try{U=window.SSF.format(W,V);}catch(Y){if(window.mstr_profile){window.mstr_profile.log(Y);}U=(X||V).toString();}return U;},validateFormat:function(U){var V=true,W=String(U).split(";");if(W[1]&&W[1].indexOf(W[0])<0){V=false;}return V;},generateUniqueID:function(U){var W="0123456789ABCDEF".split(""),X=[];for(var V=0;V<U;V++){X[V]=W[0|Math.random()*16];}return X.join("");},countOfDecimals:function(V,W){var U=String(V);return U.length-(U.indexOf(W!==undefined?W:this.getDecimal())+1);},getThousand:function(){return mstrmojo.locales.number.THOUSANDSEPARATOR;},getDecimal:function(){return mstrmojo.locales.number.DECIMALSEPARATOR;}});mstrmojo.num.UNIT=S;mstrmojo.num.UNIT_SYMBOL=B;})();(function(){mstrmojo.requiresCls("mstrmojo.publisher","mstrmojo.func");var C=mstrmojo.publisher,F=mstrmojo.func;mstrmojo._Provider=mstrmojo.provide("mstrmojo._Provider",{_meta_usesSuper:false,audibles:{"*":true},set:function G(O,I){var H=false,L=this["_set_"+O],J=this[O];if(L){H=L.apply(this,arguments);}else{this[O]=I;H=(J!==I);}if(H){var M=O+"Change",N=this.audibles||{},K=(N[O]===true)||((N[O]!==false)&&(N["*"]!==false));if(K&&(this["pre"+M]||this["on"+M]||this["post"+M]||C.hasSubs(this.id,M))){this.raiseEvent({name:M,prop:O,value:I,valueWas:J});}}return this;},raiseEvent:function B(I){var N=I&&I.name;if(!N){return null;}I.src=this;this.preHandleEvent(I);var L=["pre","on","post"],M=false,J,H;for(J=0,H=L.length;J<H;J++){var K=L[J]+N;if(this[K]){if(this[K](I)===false){M=true;break;}}}if(!M){this.postHandleEvent(I);C.publish(this.id,N,I);}return I;},preHandleEvent:mstrmojo.emptyFn,postHandleEvent:mstrmojo.emptyFn,attachEventListener:function A(H,I,J){return C.subscribe(this.id,H,J,I);},detachEventListener:function E(H){C.unsubscribe(H);},attachEventListenerOnce:function(H,J,K){var I=C.subscribe(this.id,H,F.composite([function(){C.unsubscribe(I);},K]),J);return I;},destroy:function D(){C.clearSubscriptions(this.id);if(this._super){this._super();}}});}());(function(){mstrmojo.requiresCls("mstrmojo.registry","mstrmojo.hash");var A=false,D="mstrmojo.Binding",I="bindings",H=mstrmojo.registry;function B(K){var L;for(L in K){var J=K[L];if(J&&J.disable){J.destroy();}}}function C(K,M){if(!A){mstrmojo.requiresCls(D);A=true;}var N;for(N in K){var J=K[N];if(J===null||J===undefined){continue;}var L=typeof J;if(L==="string"||L==="function"){J={destination:N,source:J,scriptClass:D};}J.parent=M;J=H.ref(J,{skipLoadChecks:true});K[N]=J;J.enable();}}mstrmojo._HasBindings=mstrmojo.provide("mstrmojo._HasBindings",{_meta_usesSuper:false,initBindings:function E(){this.hasInitBindings=true;var K=mstrmojo.hash.copy(this[I]);if(K){delete this[I];this._set_bindings(I,K);if(this.postCreateBindings){this.postCreateBindings();}}var M=this.children,J=(M&&M.length)||0;if(J){var L;for(L=0;L<J;L++){var N=M[L];if(N&&N.initBindings){N.initBindings();}}}},destroyBindings:function G(){var J=this.bindings;if(J){B(J);delete this.bindings;}},_set_bindings:function F(L,J){var K=this[I];if(J!==K){if(K){B(K);}this[I]=J;if(J){C(J,this);}return true;}return false;}});}());(function(){mstrmojo.requiresCls("mstrmojo.registry","mstrmojo.array","mstrmojo.publisher");var D=mstrmojo.registry,K=mstrmojo.array,I=mstrmojo.publisher;function G(Q,R){if(R){R.parent=Q;var P=D.ref(R);if(R!==P){delete R.parent;}return P;}return null;}function L(Q,R){var P=R.alias;if(P!==null&&P!==""){Q[P]=R;}}function N(Q,R){var P=R.alias;if(R.parent===Q){delete R.parent;}if((P!==null&&P!=="")&&(Q[P]===R)){delete Q[P];}}function A(T,Q){var P=Q&&Q.length,S,R;if(P){S=[];for(R=0;R<P;R++){var U=G(T,Q[R]);if(!U){continue;}S.push(U);L(T,U);}}return S;}mstrmojo._HasChildren=mstrmojo.provide("mstrmojo._HasChildren",{_meta_usesSuper:false,children:null,postCreateChildren:mstrmojo.emptyFn,onaddChild:null,onremoveChild:null,initChildren:function F(){var P="children",Q=this[P];if(!Q){return ;}this[P]=null;this._set_children(P,Q,true);this.postCreateChildren();},_set_children:function E(S,Q,P){var R=this.children;if(Q!==R){if(R){this.removeChildren(null,P);}this.addChildren(Q,0,P);}return false;},destroyChildren:function C(S){var R=this.children,P=(R&&R.length)||0,Q;if(P){for(Q=P-1;Q>-1;Q--){var T=R[Q];if(T&&T.destroy){T.destroy(S);if(!S){N(this,T);}}}if(!S){R.length=0;}}},invalidateChildren:function B(){mstrmojo.array.forEach(this.children,function(P){P.invalidate();});},invalidate:function H(){this.invalidateChildren();},addChildren:function O(U,Q,R){if(!U){return U;}var T=U.constructor===Array,P=A(this,T?U:[U]);if(P&&P.length){var S=this.children||[];if(Q===null||Q===undefined){Q=S.length;}this.children=K.insert(S,Q,P);if(!R&&(this.onaddChild||I.hasSubs(this.id,"addChild"))){this.raiseEvent({name:"addChild",value:P,index:Q});}}return T?P:(P&&P[0]);},removeChildren:function J(V,R){var T=this.children,U=V?[V]:(this.children||[]).concat(),Q=U.length,P=-1,S;if(Q){for(S=Q-1;S>-1;S--){N(this,U[S]);}if(V){P=K.removeItem(T,V);}else{if(T){T.length=0;P=0;}}if(!R&&(this.onremoveChild||I.hasSubs(this.id,"removeChild"))){this.raiseEvent({name:"removeChild",value:U,index:P});}}return P;},removeAndDestroyChild:function M(R,P,Q){if(R){if(R.parent!==this){throw"Unable to remove an object that is not in the children collection.";}this.removeChildren(R,P);R.destroy(Q);}}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.array","mstrmojo.string");var W=mstrmojo.dom,L=mstrmojo.string,a=mstrmojo.array;mstrmojo.css=mstrmojo.provide("mstrmojo.css",{DISPLAY_TABLE:W.isNSIE?"block":"table",DISPLAY_CELL:W.isNSIE?"block":"table-cell",MINHEIGHT:W.isIE6?"height":"minHeight",addClass:function M(h,g){if(h){if(g.constructor!==Array){g=[g];}var d=h.className||"",k=" "+d+" ",e=false,b=g.length,f;for(f=0;f<b;f++){var j=g[f];if(!k.match(new RegExp("\\s"+j+"\\s"))){d+=" "+j;e=true;}}if(e){h.className=L.trim(d);}}return h;},removeClass:function O(f,e){if(!f){return ;}if(e.constructor!==Array){e=[e];}var c=" "+(f.className||"")+" ",b=e.length,d;for(d=0;d<b;d++){c=c.replace(new RegExp("\\s"+e[d]+"\\s","g")," ");}f.className=L.trim(c);},addWidgetCssClass:function N(g,e){var c=g.cssClass,f=(c&&c.split(" "))||[],d;e=[].concat(e);for(d=0;d<e.length;d++){var b=e[d];if(a.indexOf(f,b)===-1){f.push(b);}}g.cssClass=f.join(" ");},removeWidgetCssClass:function G(h,f){var c=h.cssClass,g=(c&&c.split(" "))||[],e;f=[].concat(f);for(e=0;e<f.length;e++){var b=f[e];var d=a.indexOf(g,b);if(d!==-1){g.splice(d,1);}}h.cssClass=g.join(" ");},toggleClass:function V(e,d,c){if(c){this.addClass(e,d);}else{this.removeClass(e,d);}},hasClass:function A(d,e){if(d){var b=" "+(d.className||"")+" ";return !!b.match(new RegExp("\\s"+e+"\\s"));}return false;},applyShadow:function H(f,g,e,d,b){var c=f.style;if(W.isDXIE){c.filter+="progid:DXImageTransform.Microsoft.dropshadow(OffX="+g+"px, OffY="+e+"px, Color='"+b+"')";}else{if(W.isFF||W.isWK||W.isIE10){c[W.CSS3_BOXSHADOW]=g+"px "+e+"px "+d+"px "+b;}}},removeShadow:function C(c){var b=c.style;if(W.isFF||W.isWK||W.isIE10){b[W.CSS3_BOXSHADOW]="";}},setOpacity:function X(c,e){if(W.isDXIE&&!W.isIE9){var f=c.currentStyle.filter;var b=null;if(f.length>0){b=c.filters["DXImageTransform.Microsoft.Alpha"];}if(b){b.opacity=e;b.enabled=(e!==100);}else{if(e<100){var d="progid:DXImageTransform.Microsoft.Alpha(Opacity="+e+")";c.style.filter=(f||"")+" "+d;}}}else{c.style.opacity=e/100-(W.isIE9?0.00001:0);}},buildGradient:function P(c,e,b){if(W.supports(W.cssFeatures.GRADIENTS)){var d={};if(W.isDXIE){d.n="filter";d.v="progid:DXImageTransform.Microsoft.Gradient(GradientType="+c+",StartColorStr='"+e+"',EndColorStr='"+b+"')";}else{if(W.isFF){d.n="background-image";d.v="-moz-linear-gradient("+((c===0)?"top":"left")+","+e+","+b+")";}else{if(W.isIE10||W.isIEW3C||W.isIE11||W.isEdge||W.isWK){d.n="background";d.v="linear-gradient("+((c===0)?"to bottom":"to right")+","+e+","+b+")";}}}return d;}return null;},buildRoundCorners:function R(g,f){if(W.supports(W.cssFeatures.ROUND_CORNERS)){var c=g+"px";var j=c+(f?" "+c+" 0 0":"")+";";if(W.isFF||W.isWinPhone||W.isIE10){return"border-radius:"+j;}if(W.isWK){if(!f){return"-webkit-border-radius:"+c+";";}var h=["left","right"],e=[],b=-1,d;for(d=0;d<2;d++){e[++b]="-webkit-border-top-"+h[d]+"-radius:"+c;e[++b]="-webkit-border-bottom-"+h[d]+"-radius:0";}return e.join(";");}}return"";},getBorderWidthsOrPaddings:function E(d,g){var h={t:0,r:0,b:0,l:0,h:0,w:0};if(!d){return h;}var e=d.split(" "),c=e.length,f;for(f=0;f<c;f++){e[f]=Math.round(g*parseFloat(e[f])/72);}if(c<4){if(c===1){e[1]=e[2]=e[3]=e[0];}else{e[3]=e[1];if(c===2){e[2]=e[0];}}}h.t=e[0];h.r=e[1];h.b=e[2];h.l=e[3];h.h=h.t+h.b;h.w=h.l+h.r;return h;},getBorderWidths:function I(c,b){return this.getBorderWidthsOrPaddings(c,b);},getPaddings:function D(c,b){return this.getBorderWidthsOrPaddings(c,b);},parkAfterFade:function B(b){var c=b.target.style;if(c.opacity===0){c.left="-10000px";window.setTimeout(function(){c.opacity=0.99;},0);return true;}return false;},getStyleValue:function J(b,f){var d=(f==="float"),e;if(b.currentStyle){f=d?"styleFloat":f;e=b.currentStyle[f];}else{if(document.defaultView&&document.defaultView.getComputedStyle){f=d?"cssFloat":f;var c=document.defaultView.getComputedStyle(b,null);e=c?c[f]:null;}}return e;},getComputedStyle:function U(b,d){var c=(window.getComputedStyle)?function(e,f){return window.getComputedStyle(e,f||null);}:function(e){return e.currentStyle||{};};mstrmojo.css.getComputedStyle=c;return c(b,d);},getCssTextFromObj:function F(d){var c="",b;for(b in d){c+=b+":"+d[b]+";";}return c;},onTransitionEnd:function Z(c,b){W.attachOneTimeEvent(c,W.transitionend,b);},onAnimationEnd:function T(c,b){W.attachEvent(c,W.animationend,b);},flashClass:function Q(c,b,e){this.toggleClass(c,b,true);var d=this;window.setTimeout(function(){d.toggleClass(c,b,false);},e);},convertCssToCamelCase:function K(b){return b.replace(/\-([a-z])/gi,function(c,d){return d.toUpperCase();});},printCSSInfo:function Y(f){var l=document.styleSheets,o=l.length,g,h;for(h=0;h<o;h++){var k=l[h],m=k.cssRules,d=m?m.length:0,n=0;for(g=0;g<d;g++){var b=m[g].selectorText;if(b){try{n+=b.split(",").length;}catch(e){}}}var c=k.href;if(!f||(c&&c.indexOf(f)>-1)){console.log("Stylesheet: "+c||"Inline CSS Block");console.log("Total rules: "+d);console.log("Total selectors: "+n);}}},cssEscape:function S(h){if(arguments.length===0){throw new TypeError("`CSS.escape` requires an argument.");}var e=String(h),g=e.length,d=-1,f,b="",c=e.charCodeAt(0);while(++d<g){f=e.charCodeAt(d);if(f==0){b+="\uFFFD";continue;}if((f>=1&&f<=31)||f==127||(d==0&&f>=48&&f<=57)||(d==1&&f>=48&&f<=57&&c==45)){b+="\\"+f.toString(16)+" ";continue;}if(d==0&&g==1&&f==45){b+="\\"+e.charAt(d);continue;}if(f>=128||f==45||f==95||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122){b+=e.charAt(d);continue;}b+="\\"+e.charAt(d);}return b;}});}());(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.dom","mstrmojo.hash");var O=mstrmojo.string,M=mstrmojo.hash,F=mstrmojo.dom;var T=mstrmojo.usesFrames?null:document.createElement("span");var L=/mstrAttach:([\w,]+)/g,N="mstrevent";var S;function W(c,d){if(S===undefined){S=(mstrApp!==undefined&&mstrApp.isTouchApp&&mstrApp.isTouchApp())||false;}return c.replace(L,function b(k,m){var g=m.split(","),h=[],f=g.length,j;for(j=0;j<f;j++){var l=g[j];if(l){if(S){if(l.indexOf("mouse")>-1){continue;}else{if(l==="click"){l="touchend";}}}h.push("on"+l+"=\"mstrmojo.dom.captureDomEvent('{@id}','"+l+"', self, event)\"");}}return h.join(" ");});}function A(c){if(S===undefined){S=(mstrApp!==undefined&&mstrApp.isTouchApp&&mstrApp.isTouchApp())||false;}var d;d=c.replace(L,function b(k,m){var g=m.split(","),f=g.length,h=[],j;for(j=0;j<f;j++){var l=g[j];if(l){if(S){if(l.indexOf("mouse")>-1){continue;}else{if(l==="click"){l="touchend";}}}h.push(l);}}return N+'="'+h.join(" ")+'"';});return d;}var P="preBuildRendering",D="buildRendering",C="postBuildRendering";function Z(e){var h=F.isCSPEnabled();var c=e.markupString;if(c.match(/mstrAttach:/)){c=h?A(c):W(c,e);if(e.markupString===e.constructor.prototype.markupString){e.constructor.prototype.markupString=c;}}var b=O.apply(c,e);if(b){if(b.indexOf(h?"contextmenu":"oncontextmenu")>-1){e.hasContextMenuEvent=true;}if(mstrmojo.usesFrames){var f=(e.domNode&&e.domNode.ownerDocument)||window.document;if(!T||T.ownerDocument!==f){T=f.createElement("span");}}T.innerHTML=b;var g=T.removeChild(T.firstChild);g.mstrmojoId=e.id;F.recursiveReplaceInlineEventListeners(g,true,e);return g;}return null;}function B(d){var c=d.markupSlots,b,e;if(c){b={};for(e in c){b[e]=typeof c[e]==="string"?d.domNode.querySelector(c[e]):c[e].call(d);}}return b;}mstrmojo._HasMarkup=mstrmojo.provide("mstrmojo._HasMarkup",{markupString:null,markupMethods:null,markupSlots:null,onRender:mstrmojo.emptyFn,onUnRender:mstrmojo.emptyFn,render:function a(){if((this[P]&&this[P]()===false)||(this[D]()===false)||(this[C]&&this[C]()===false)){return false;}this.hasRendered=!!this.domNode;this.onRender();var b="renderComplete";if(mstrmojo.publisher.hasSubs(this.id,b)){this.raiseEvent({name:b});}return true;},buildDom:function V(){return Z(this);},postBuildDom:null,preBuildRendering:mstrmojo.emptyFn,buildRendering:function G(){var b=this.domNode,c=this.buildDom();this.domNode=c;if(this.postBuildDom){this.postBuildDom();}if(this.slotNames){this.removeSlots(this.slotNames);}this.addSlots(B(this));this.paint();if(c){var f=b;if(!f){f=this.placeholder;if(f){if(typeof f==="string"){f=document.getElementById(f);}delete this.placeholder;}}if(f){F.replace(f,c);}}var d="onchildRenderingChange",e=this.parent;if(e&&e[d]){e[d](this);}return true;},postBuildRendering:mstrmojo.emptyFn,unrender:function U(d){if(this.hasRendered){if(!d){try{var b=this.domNode;if(b.parentNode){b.parentNode.removeChild(b);}}catch(c){}}this.domNode=null;this.removeSlots(this.slotNames);this.hasRendered=false;this.onUnRender();}},paint:function K(){var c=this.markupMethods;if(!c){return ;}var f=this,g=function(k){var j=c[k];if(j){try{j.apply(f,[true]);}catch(i){throw new Error(["Error in markup method.","Script class: "+f.scriptClass,"Widget id: "+f.id,"Method name: "+k,"Err: "+i.message].join("\n\n"));}}};var e=c.sequence,b,d,h;if(e){b=e.length||0;for(d=0;d<b;d++){g(e[d]);}}else{for(h in c){g(h);}}},redraw:function R(){return false;},refresh:function E(b){if(this.hasRendered){if(this.redraw()!==true){var c=this.domNode;this.unrender(true);this.placeholder=c;if(b){b();}this.render();}}},set:function J(e,b){this._super(e,b);if(this.domNode){var c=this.markupMethods,d=c&&c["on"+e+"Change"];if(d){d.apply(this);}}return this;},slotNames:null,addSlots:function H(c){var b=this.slotNames,d;if(!b){b={};this.slotNames=b;}for(d in c){this[d]=c[d];b[d]=true;}},removeSlots:function I(b){if(b){var c=this.slotNames,d;for(d in b){delete this[d];if(c){delete c[d];}}}},captureDomEvent:function Y(d,b,f,c){if(this.enabled!==false){this.raiseEvent(mstrmojo._HasMarkup.newDomEvent(d,b,f||b.event,c));}},playEffect:function X(c){var b=this[c];if(b&&b.constructor===Object){b=mstrmojo.insert(mstrmojo.hash.clone(b));b.widget=this;this[c]=b;}if(b){b.play();}}});mstrmojo._HasMarkup.addMarkupMethods=function Q(c,b){c.prototype.markupMethods=M.copy(b,M.copy(c.prototype.markupMethods));};mstrmojo._HasMarkup.MSTRDomEventType=null;mstrmojo._HasMarkup.newDomEvent=function(e,b,d,c){return{name:e,hWin:b,e:d,config:c,ctrlKey:F.ctrlKey(b,d),shiftKey:F.shiftKey(b,d),metaKey:F.isMetaKey(b,d),cancel:function(){F.stopPropogation(b,d);},preventDefault:function(){F.preventDefault(b,d);},getTarget:function(){return F.eventTarget(b,d);}};};}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.dnd");var E=mstrmojo.dom;function B(I){return E.contains(this.getMovingHandle(),I.src.node,true,document.body);}mstrmojo._IsMovable=mstrmojo.provide("mstrmojo._IsMovable",{draggable:true,ownAvatar:true,getMovingHandle:function G(){return this.domNode;},getMovingTarget:function H(){return this.domNode;},isDragValid:function A(I){return B.call(this,I)||(this._super&&this._super(I))||false;},ondragstart:function C(J){if(B.call(this,J)){var K=this.getMovingHandle(),I=this.getMovingTarget().style;this._leftPos=parseInt(I.left,10);this._topPos=parseInt(I.top,10);this._hWidth=K.clientWidth;this._hHeight=K.clientHeight;}if(this._super){this._super();}},ondragmove:function F(L){if(B.call(this,L)){var M=L.tgt.pos,J=L.src.pos,K=this.getMovingTarget().style,I=E.windowDim();K.left=this.left=Math.min(Math.max(this._leftPos+M.x-J.x,-this._hWidth+40),I.w-40)+"px";K.top=this.top=Math.min(Math.max(this._topPos+M.y-J.y,-this._hHeight+20),I.h-20)+"px";}if(this._super){this._super();}},ondragend:function D(I){if(B.call(this,I)){delete this._leftPos;delete this._topPos;delete this._hWidth;delete this._hHeight;}if(this._super){this._super();}}});}());(function(){mstrmojo.requiresCls("mstrmojo.css");var A=mstrmojo.css;mstrmojo.ui._HasUITheme=mstrmojo.provide("mstrmojo.ui._HasUITheme",{_mixinName:"mstrmojo.ui._HasUITheme",themeClassName:"",postBuildRendering:function B(){var D=this.themeClassName;if(D){this.onthemeClassNameChange({value:D});}return this._super();},onthemeClassNameChange:function C(D){var F=this.domNode;if(F){var G=D.value,E=D.valueWas;if(G){A.addClass(F,D.value);}if(E){A.removeClass(F,D.valueWas);}}}});mstrmojo.ui._HasUITheme.EnumThemeNames={LIGHT_THEME:"mojo-theme-light",DARK_THEME:"mojo-theme-dark"};}());(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.fx");var C=mstrmojo.css,J=mstrmojo.dom,S=mstrmojo.array,T={v:{styleDim:"height",styleDir:"top",dimension:"h",position:"y",scroll:"scrollTop",scrollDimension:"scrollHeight",cls:"vertical",hostCls:"hasVertical",scrollNodeCls:"hasVertical"},h:{styleDim:"width",styleDir:"left",dimension:"w",position:"x",scroll:"scrollLeft",scrollDimension:"scrollWidth",cls:"horizontal",hostCls:"hasHorizontal",scrollNodeCls:"hasHorizontal"}},D="scrollingMode",i="scrolling",g=3;var c=J.isMac();function H(){return(this.scrollbarHostNode||(this.scrollNode&&this.scrollNode.parentNode));}function d(k,l){return(typeof this.getScrollDimension==="function"&&this.getScrollDimension(k))||l;}function j(o,l){var n=this.scrollNode,k=H.call(this),m={v:o,h:l};S.forEach(["v","h"],function(q){var p=T[q];C.toggleClass(k,p.hostCls,m[q]);C.toggleClass(n,p.scrollNodeCls,m[q]);});}function a(l,k){var q=J.eventTarget(k,l),o=this.scrollNode,n=J.position(o),p=this.scrollTrackNodes,m=this.scrollBarNodes,r=function r(AA){var y=q===p[AA];if(y){var AB=T[AA],t=m[AA],AC=J.position(t),v=J.getMousePosition(l,k)[AB.position],w=v-AC[AB.position],u=w>0?1:-1,z=d.call(this,AA,o[AB.scrollDimension]),AD=Math.abs(w-(AC.h/2))*(z/n[AB.dimension]),x={};x[AB.scroll]={isStyle:false,start:o[AB.scroll],stop:o[AB.scroll]+(u*Math.min(z/3,500,AD)),ease:mstrmojo.ease.linear};(new mstrmojo.fx.AnimateProp({props:x,duration:200,interval:10,target:o})).play();}};r.call(this,"h");r.call(this,"v");}function f(l,k){var o=this.scrollNode,n=l.type==="mousewheel",m=n?-1:1;mstrmojo.array.forEach(["h","v"],function(w){var u=T[w],q=n?"wheelDelta":"delta",t=l[q+{h:"X",v:"Y"}[w]]*m,r=Math.abs(t),p=t/r,v=r===3&&J.isFF&&!c;o[u.scroll]+=v?p*40:t;});J.stopPropogation(k,l);J.preventDefault(k,l);}function I(p){var o=T[p],n=this.scrollNode,m=J.position(n),l=m[o.dimension],q=d.call(this,p,n[o.scrollDimension]),k=Math.ceil(l)/q;return X(k,l,q);}function X(l,k,m){return(!isNaN(l)&&l<1)&&(Math.abs(k-m)>g);}function Q(AJ){var AC="px",v=T[AJ],o=this.scrollNode,w=H.call(this),AL=J.position(o),x=AL[v.dimension],AE=d.call(this,AJ,o[v.scrollDimension]),n=Math.ceil(x)/AE,AI=this.scrollBarNodes,t=AI[AJ],AA=this.scrollTrackNodes,AB=AA[AJ],AG=X(n,x,AE),p=v.cls;if(!t){AB=AA[AJ]=document.createElement("div");var q=this,z=function(AN){a.call(q,AN);},u=function(AN){f.call(q,AN);},AF=function(AP,AN,AO){J.attachEvent(AP,AN,AO);q.installedEventListeners.push({e:AP,evt:AN,fn:AO});};AF(AB,"click",z);AB.className="mstrmojo-scrolltrack "+p;t=AI[AJ]=document.createElement("div");t.className="mstrmojo-scrollbar "+p;AB.appendChild(t);w.appendChild(AB);var AH=mstrApp.isSingleTier?"mousewheel":"wheel";AF(AB,AH,u);AF(t,AH,u);}var AM=t.style,r=(o[v.scroll]/d.call(this,AJ,o[v.scrollDimension])),l=J.delta(o,H.call(this))[v.position],AD=AB.style;if(AG){AD[v.styleDir]=l+AC;AD[v.styleDim]=AL[v.dimension]+AC;var m=n*x,y=35,AK=x*r,k=x-35;AM[v.styleDim]=(m<y?y:m)+AC;AM[v.styleDir]=(AK>k?k:AK)+AC;}return AG;}function R(){return !(mstrApp.isSingleTier&&c);}mstrmojo.ui._HasScroller=mstrmojo.provide("mstrmojo.ui._HasScroller",{_mixinName:"mstrmojo.ui._HasScroller",hasCustomScrollbar:null,draggable:true,ownAvatar:true,scrollNode:undefined,scrollbarHostNode:undefined,scrollBarNodes:undefined,setupScrollNodes:mstrmojo.emptyFn,installedEventListeners:null,init:function e(k){this._super(k);if(this.hasCustomScrollbar===null){this.hasCustomScrollbar=R();}this.installedEventListeners=[];},onRender:function B(){if(this._super){this._super();}this.updateScrollbars();this.addScrollNodeProperties();},addScrollNodeProperties:function P(){var l=this.scrollNode,m=J.isFF&&!c;if(l){var k=J.attachMarkupEvent(this.id,l,"scroll");this.installedEventListeners.push({e:l,evt:"scroll",fn:k});}if(m){C.addClass(l,"firefox-on-windows");}else{if(J.isEdge){C.addClass(l,"ms-edge");}}if(!this.hasCustomScrollbar){C.addClass(H.call(this),"mstrmojo-sb-host-show-default");C.addClass(l,"mstrmojo-sb-show-default");return ;}if(l){C.addClass(H.call(this),"mstrmojo-scrollbar-host");C.addClass(l,"mstrmojo-scrollNode");}},updateScrollbars:function b(){if(!this.hasRendered){return ;}this.setupScrollNodes();var k,m=false;if(!this.hasCustomScrollbar){if(this.scrollNode){k=this.scrollNode.style;k.overflowY=I.call(this,"v")?"scroll":"hidden";k.overflowX=I.call(this,"h")?"scroll":"hidden";}return ;}if(this.scrollNode){this.scrollBarNodes=this.scrollBarNodes||{};this.scrollTrackNodes=this.scrollTrackNodes||{};j.call(this,m,m);k=this.scrollNode.style;var n=Q.call(this,"v"),l=Q.call(this,"h");k.overflowY=n?"scroll":"hidden";k.overflowX=l?"scroll":"hidden";j.call(this,n,l);}},addNoSwipeClass:function N(){if(J.isTouchOptimizationEnabled()&&this.hasRendered&&this.scrollNode&&I.call(this,"h")){C.addClass(this.domNode,"mstrmojo-no-swipe");}},onscroll:function Z(){var o=this.scrollNode;if(o&&this.hasCustomScrollbar){var w=function w(x){var y=parseInt(x);return y===null||isNaN(y)?0:y;},u=J.position(o),t=u.h-w(C.getStyleValue(o,"padding-bottom")),m=u.w-w(C.getStyleValue(o,"padding-right")),n=d.call(this,"h",o.scrollWidth),v=d.call(this,"v",o.scrollHeight),p=v-t,k=n-m,l=this.scrollBarNodes,q=l.v,r=l.h;if(p>0){q.style.top=((t-J.position(q).h)*(o.scrollTop/(p)))+"px";}if(k>0){if(this.isRTL){r.style.right=((J.position(r).w-m)*(o.scrollLeft/(k)))+"px";}else{r.style.left=((m-J.position(r).w)*(o.scrollLeft/(k)))+"px";}}}if(this._super){this._super();}if(this.onScrollEnd){this.onScrollEnd();}},getDragData:function U(l){var o=this.scrollNode,n=J.position(o),m=l.src.node,k=this.scrollBarNodes;if(this.isDraggingScrollBar(l)){return{isScrollBar:true,direction:m===k.v?"v":"h",scrollTop:o.scrollTop,scrollLeft:o.scrollLeft,conversionRatio:{y:o.scrollHeight/n.h,x:o.scrollWidth/n.w}};}return(this._super&&this._super(l));},isDragValid:function O(k){return this.isDraggingScrollBar(k)||(this._super&&this._super(k))||false;},isDraggingScrollBar:function V(l){var m=l.src.node,k=this.scrollBarNodes;return !!k&&(m===k.v||m===k.h);},ondragstart:function W(k){if(this.isDraggingScrollBar(k)){C.addClass(k.src.node,i);C.addClass(H.call(this),D);}if(this._super){this._super(k);}},shouldDragBubble:function F(k){var l=k.src.node,m=this.scrollTrackNodes;return !(!!m&&(l===m.v||l===m.h));},ondragmove:function G(l){if(this.isDraggingScrollBar(l)){var u=l.tgt,k=l.src,v=u.pos,m=k.pos,q=k.node,p=this.scrollNode,t=this.scrollBarNodes,r=k.data,o={y:(v.y-m.y),x:(v.x-m.x)},n=r.conversionRatio;if(q===t.v){p.scrollTop=r.scrollTop+(o.y*n.y);}else{p.scrollLeft=r.scrollLeft+(o.x*n.x);}}if(this._super){this._super(l);}},ondragend:function E(k){if(this.isDraggingScrollBar&&this.isDraggingScrollBar(k)){C.toggleClass(k.src.node,i,false);C.toggleClass(H.call(this),D,false);}if(this._super){this._super(k);}},widgetResized:function h(){if(this._super){this._super();}this.updateScrollbars();},unrender:function A(k){S.forEach(this.installedEventListeners,function(l){J.detachEvent(l.e,l.evt,l.fn);});this.installedEventListeners=[];delete this.scrollNode;delete this.scrollbarHostNode;delete this.scrollBarNodes;delete this.scrollTrackNodes;this._super(k);},getDefaultScrollBarProps:function M(k){return T[k];},disableScroll:function Y(k,n){var m=this.scrollNode,l=H.call(this);S.forEach(["v","h"],function(p){var o=T[p];C.toggleClass(l,o.hostCls,false);C.toggleClass(m,o.scrollNodeCls,false);});if(m){if(n||n===undefined){m.style.overflowY="hidden";}else{if(m.style.overflowY==="hidden"){m.style.overflowY="auto";}}if(k||k===undefined){m.style.overflowX="hidden";}}},disableScrollWithoutClearTheCls:function L(k,o){var n=this.scrollNode,l=H.call(this),m;if(n){if(o||o===undefined){n.style.overflowY="hidden";m=T.v;C.toggleClass(l,m.hostCls,false);}else{if(n.style.overflowY==="hidden"){n.style.overflowY="auto";}}if(k||k===undefined){m=T.h;C.toggleClass(l,m.hostCls,false);n.style.overflowX="hidden";}}},enableScroll:function K(){this.updateScrollbars();if(!this.hasCustomScrollbar&&this.scrollNode){this.scrollNode.style.overflowY=I.call(this,"v")?"scroll":"hidden";}},scrollIntoViewIfNeeded:function(n){var t=this.scrollNode,p=n.clientHeight,o=t.clientHeight,l=J.position(n).y,q=J.position(t).y,m=l-q,k=m<0,r=m+p>o;if(k||r){t.scrollTop+=m+p/2-o/2;}}});}());(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.func","mstrmojo.array");var D=mstrmojo.css,E=mstrmojo.array,B="focus-visible";mstrmojo.vi.util.A11yUtility=mstrmojo.provide("mstrmojo.vi.util.A11yUtility",{enableAccessibility:function(K,M,H){var J=K.domNode,G=K.widget||J,L=K.focusNode||J,F=K.loseFocusCallback,I=K.grabFocusCallback;if(!J){return ;}G.grabFocus=function(N){if(N){J.focus();var O=J&&J.tagName;if(typeof O==="string"&&O.toUpperCase()==="INPUT"){J.select();}if(I instanceof Function){I();}}D.addClass(L,B);};G.loseFocus=function(N){if(N){J.blur();}if(F instanceof Function){F();}D.removeClass(L,B);};J.onblur=mstrmojo.func.composite([J.onblur||mstrmojo.emptyFn,function(){D.removeClass(L,B);}]);J.setAttribute("tabindex","-1");if(M){J.setAttribute("role",M);}if(typeof H==="string"){J.setAttribute("aria-label",H);}else{if(typeof H==="object"){E.forEach(Object.keys(H),function(N){if(H[N]){J.setAttribute(N,H[N]);}});}}},hideNodesFromA11yTree:function A(G,F){if(!G){return ;}var H=function(I){if(I&&typeof I.setAttribute==="function"){I.setAttribute("role","presentation");I.setAttribute("aria-hidden","true");I.removeAttribute("aria-label");}};if(!F){H(G);}else{E.forEach(G.childNodes,function(I){H(I);});}},isKeyBoardEvent:function C(F){return F&&F.type==="keydown";},removeTabIndex:function(F,H){if(!F){return ;}var G=F.querySelectorAll('[tabindex="0"]'),I;E.forEach(G,function(J){J.removeAttribute("tabindex");});if(H){I=F.querySelectorAll("input, a, textarea");E.forEach(I,function(J){J.setAttribute("tabindex","-1");});}}});mstrmojo.vi.util.A11yUtility.CSS_FOCUS_VISIBLE=B;}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css");var C=mstrmojo.dom,G=100,L=700;var B="mojo-safari-hide-nativeTooltip",H=mstrmojo.css;function M(O,N){return function(Q){var P=mstrmojo.all[O];if(P.customTooltipHandler){P.customTooltipHandler(Q);}P[(N?"move":"show")+"Tooltip"](Q,self);};}function A(){var O=this.tooltipNode||this.domNode,Q=this.id,N,P="_ontooltip"+(this.isDynamicTooltip?"move":"over");if(!this._ontooltipout){this._ontooltipout=function(R){mstrmojo.all[Q].hideTooltip(R,self);};}if(!this[P]){this[P]=M(Q,this.isDynamicTooltip);}O=[].concat(O);for(N=0;N<O.length;N++){O[N].removeAttribute("title");C.attachEvent(O[N],(this.isDynamicTooltip?"mousemove":"mouseover"),this[P]);C.attachEvent(O[N],"mouseout",this._ontooltipout);}}function I(){var Q=this.tooltipNode||this.domNode,P;if(Q&&Q.constructor!==Array){Q=[Q];}if(Q){var R=this._ontooltipover,O=this._ontooltipout,N=this._ontooltipmove;for(P=0;P<Q.length;P++){if(R){C.detachEvent(Q[P],"mouseover",R);}if(O){C.detachEvent(Q[P],"mouseout",O);}if(N){C.detachEvent(Q[P],"mousemove",N);}}}}mstrmojo._HasTooltip=mstrmojo.provide("mstrmojo._HasTooltip",{tooltip:"",richTooltip:null,useRichTooltip:false,isDynamicTooltip:false,tooltipNode:null,tooltipOpenDelay:700,isIgnoreTooltipCloseDelay:false,hasWidgetContent:false,tooltipCloseDelay:G,hasOpenTooltip:false,postBuildRendering:function(){var N=this._super();if(this.useRichTooltip){A.call(this);}return N;},onuseRichTooltipChange:function K(){if(this.hasRendered){if(this.useRichTooltip){A.call(this);}else{I.call(this);this.hideTooltip();}}},showTooltip:function J(Q,P){var O=this;if(!O.hasOpenTooltip&&(!mstrApp.isInteractive||mstrApp.isInteractive&&mstrApp.isInteractive())){mstrmojo.requiresCls("mstrmojo.tooltip");if(this.updateTooltipConfig){this.updateTooltipConfig(Q);}window.clearTimeout(this._tooltipTimeOut);if(mstrmojo.dom.isIE){var S={};for(var N in Q){S[N]=Q[N];}Q=S;}var T=this.richTooltip?this.richTooltip.areaId:undefined;if(C.isSafari&&Q){var R=Q.srcElement;if(window.getComputedStyle(R)["text-overflow"]==="ellipsis"){this.baseElement=R;H.toggleClass(R,B,true);}}this._tooltipTimeOut=window.setTimeout(function(){var U=O.richTooltip;if(O._closeTooltipTimeout){window.clearTimeout(O._closeTooltipTimeout);delete O._closeTooltipTimeout;}mstrmojo.tooltip.open(O,Q,P);O.tooltip.onmouseover=function(){if(O.richTooltip&&O.richTooltip.enableHover){window.clearTimeout(O._closeTooltipTimeout);window.clearTimeout(O._deactivationTimeout);if(O.tooltip){O.tooltip.onmouseout=function(V){var W=V.e;if((!W.toElement&&!W.relatedTarget)||!C.contains(this.domNode,V.e.toElement||V.e.relatedTarget)){O.hideTooltip();}};}}};O.tooltip.allowOtherTooltips=O.allowOtherTooltips;if(U&&U.onClose){O.tooltip.onClose=U.onClose;}O.hasOpenTooltip=true;O._hasActiveArea=true;O._tooltipAreaId=T;window.clearTimeout(O._deactivationTimeout);delete O._deactivationTimeout;},(this._hasActiveArea&&T&&T===this._tooltipAreaId)?0:this.tooltipOpenDelay);}},moveTooltip:function D(N,P){if(this._tooltipTimeOut){window.clearTimeout(this._tooltipTimeOut);this._tooltipTimeOut=null;mstrmojo.tooltip.close();}var R=this,O=N,Q=P;this._tooltipTimeOut=setTimeout(function(){mstrmojo.tooltip.open(R,O,Q);},this.tooltipOpenDelay);},hideTooltip:function F(){var N=this;if(this._tooltipTimeOut){window.clearTimeout(this._tooltipTimeOut);}if(C.isSafari&&this.baseElement){H.toggleClass(this.baseElement,B,false);}if(this._closeTooltipTimeout){window.clearTimeout(this._closeTooltipTimeout);}if(this._hasActiveArea&&!this._deactivationTimeout){this._deactivationTimeout=window.setTimeout(function(){delete N._deactivationTimeout;delete N._hasActiveArea;delete N._tooltipAreaId;},100);}mstrmojo.requiresCls("mstrmojo.tooltip");if((!this.isIgnoreTooltipCloseDelay)&&N.richTooltip&&N.richTooltip.enableHover){this._closeTooltipTimeout=window.setTimeout(function(){mstrmojo.tooltip.close();delete N._closeTooltipTimeout;},N.richTooltip.tooltipCloseDelay||this.tooltipCloseDelay);}else{if(N.tooltip){this.isIgnoreTooltipCloseDelay=false;mstrmojo.tooltip.close();}}this.hasOpenTooltip=false;},unrender:function E(N){I.call(this);this.hideTooltip();this._super(N);}});mstrmojo._HasTooltip.TOOLTIP_OPEN_DELAY=L;mstrmojo._HasTooltip.TOOLTIP_CLOSE_DELAY=G;}());(function(){mstrmojo.requiresCls("mstrmojo.Base","mstrmojo.registry","mstrmojo._Provider","mstrmojo.array");var B=mstrmojo.registry,F=mstrmojo.array;mstrmojo.Obj=mstrmojo.declare(mstrmojo.Base,[mstrmojo._Provider],{scriptClass:"mstrmojo.Obj",id:"",init:function I(J){this.disposables=[];this._super(J);B.add(this);if(this.postCreate){this.postCreate();}},addDisposable:function G(M){var K=this.disposables,L,J;if(M&&M.constructor===Array){for(L=0,J=M.length;L<J;L++){K.push(M[L]);}}else{K.push(M);}return M;},destroyDisposables:function D(J){F.forEach(this.disposables,function(K){if(!K){return ;}if(K.destroy){K.destroy(J);}else{if(K.clear){K.clear();}}});this.disposables=[];},throwAbstractMethodError:function A(J){throw new Error(this.scriptClass+" must implement "+J+".");},destroy:function H(J){if(this.destroyed){return ;}this._super(J);this.destroyDisposables(J);B.remove(this);delete this.parent;this.destroyed=true;}});var C=mstrmojo.Obj;C.free=function E(J){if(J instanceof C){J.destroy();}};}());(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.expr","mstrmojo.date","mstrmojo.num","mstrmojo.string");mstrmojo.validation={STATUSCODE:{UNKNOWN:-1,VALID:0,INVALID:1,INVALID_EMPTY:2,INVALID_CHAR:3,INVALID_OUTOFRANGE:4,INVALID_REGEX:5,INVALID_VALIDATOR:6,INVALID_BAD_NUMERICFORMAT:7,INVALID_BAD_DATESTRING:8},TRIGGER:{NONE:0,ONBLUR:1,ONKEYUP:2,VALUESET:4,ALL:7},REGEXP:{US_ZIP:/^\d{5}([\- ]?\d{4})?$/,EMAIL_ADDRESS:/^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+[\.])+([a-zA-Z0-9]{2,4})+$/,SOCIAL_SECURITY_NUMBER:/^((?!000)(?!666)\d{3})(\s|\-)?((?!00)\d{2})\2((?!0000)\d{4})$/,PHONE_NUMBER:/^(?!-)[ \d\-\(\)\.\+]+$/,FILE_NAME:new RegExp('^[^:*?"<>|/\\\\()]+$'),FOLDER_PATH_WIN:new RegExp('^([a-zA-Z]:|\\\\\\\\[^:*?"<>|/\\\\]+|[^:*?"<>|/\\\\]*)(\\\\[^:*?"<>|/\\\\]+)*(\\\\){0,1}$'),FOLDER_PATH_UNIX:new RegExp('^(/){0,1}([^:*?"<>|/\\\\]+/)*([^:*?"<>|/\\\\]+){0,1}$'),PRINTER_PATH_SINGLE:new RegExp('^[^$%:*?"<>|/\\\\]*$'),PRINTER_PATH_MULTIPLE:new RegExp('^((/|\\\\\\\\)[^$%:*?"<>|/\\\\]+)((/|\\\\)[^$%:*?"<>|/\\\\]+)*(/|\\\\){0,1}$')}};var J=mstrmojo.validation,C=J.TRIGGER,e=J.STATUSCODE,B={"-1":-1,1:1,2:1,3:2,4:2,5:2,6:2,7:2,8:3,9:3,10:3,11:4,12:4,13:4,14:6,15:6,16:6,17:3,18:3,21:2,22:2,23:3,24:4,25:3,30:5,34:5,49:7};J.VALIDATOR={DEMO:function Q(h){var g=parseInt(h,10),i=mstrmojo.validation.STATUSCODE;if(g===0||g===1||g>10){return{code:i.VALID};}return{code:i.INVALID,msg:"This field must be either 0, 1 or greater than 10"};},VALIDATE_PHONENO:function L(g){var h=String(g).replace(/[^\d]/g,"");if(h.length<10){return{code:e.INVALID,msg:mstrmojo.desc(9203,"A telephone number must contain at least 10 digits.")};}if(!J.REGEXP.PHONE_NUMBER.test(g)){return{code:e.INVALID,msg:mstrmojo.desc(9204,"The telephone number contains invalid characters.")};}return{code:e.VALID};},VALIDATE_ZIPCODE:function I(g){var i="",h=this.dtp;if(!J.REGEXP.US_ZIP.test(g)){if(J.isNumeric(h)||J.isInt(h)){i=mstrmojo.desc(9208,"A zip code must be 5 digits or 5+4 digits.");}else{if(J.isString(h)){i=mstrmojo.desc(9206,"The zip code is invalid");}}return{code:e.INVALID,msg:i};}return{code:e.VALID};},VALIDATE_EMAIL:function W(g){var h=g.indexOf("@");if(h===-1){return{code:e.INVALID,msg:mstrmojo.desc(9197,"The email address is missing an at sign (@).")};}if(g.substring(h).indexOf(".")===-1){return{code:e.INVALID,msg:mstrmojo.desc(9198,"The email address is missing a period on the domain.")};}return J.REGEXP.EMAIL_ADDRESS.test(g)?{code:e.VALID}:{code:e.INVALID,msg:mstrmojo.desc(9207,"The email address is invalid.")};},VALIDATE_SSN:function T(g){var i=this.dtp,h;if(J.isNumeric(i)||J.isInt(i)){h=String(g).replace(/[^\d]/g,"");if(h.length!==9){return{code:e.INVALID,msg:mstrmojo.desc(9209,"A Social Security Number must be 9 digits.")};}}if(!J.REGEXP.SOCIAL_SECURITY_NUMBER.test(g)){return{code:e.INVALID,msg:mstrmojo.desc(9210,"The Social Security Number is invalid.")};}return{code:e.VALID};}};J.isInt=function F(g){return B[g]===1;};J.isNumeric=function b(g){return B[g]===2||B[g]===5;};J.isEnhNumeric=function K(g){return B[g]===7;};J.isString=function M(g){return B[g]===3;};J.isDateTime=function A(g){return B[g]===6;};var E=window.mstrConfig,P=E.listSep,V=mstrmojo.expr,O=V.DTP,c=mstrmojo.num,X=mstrmojo.string,H=mstrmojo.date;function S(o,p){var l=o.dtp,n=o.constraints,r=n.allowedFormatChars||"",j=J.isInt(l),g=J.isNumeric(l),k=J.isEnhNumeric(l),h=J.isDateTime(l),q=mstrmojo.locales.number.THOUSANDSEPARATOR,i=mstrmojo.locales.number.DECIMALSEPARATOR,m;if(j){if(!o._intRegExp){r+="0-9-"+(o.isList?P:"")+q;o._intRegExp=new RegExp("[^"+r+"]");}m=o._intRegExp;}if(g){if(!o._numericRegExp){r+="0-9-#"+(o.isList?P:"")+i+q;o._numericRegExp=new RegExp("[^"+r+"]");}m=o._numericRegExp;}if(k){if(!o._percentageRegExp){r+="0-9-#"+(o.isList?P:"")+i+q+"%";o._percentageRegExp=new RegExp("[^"+r+"]");}m=o._percentageRegExp;}return !!m&&m.test(p);}function f(p,r){var m=p.dtp,o=p.constraints,j=J.isInt(m),g=J.isNumeric(m),k=J.isEnhNumeric(m),h=J.isDateTime(m),i=o.min,q=o.max,n;if(i===undefined&&q===undefined){return false;}if(j||g){if(c.isBigDecimal(r)){return c.inNumericRange(c.parseBigDecimal(r),i,q)!==0;}return c.inNumericRange(r,i,q)!==0;}if(h){return H.inDateTimeRange(r,i,q)!==0;}if(k){var l=c.toLocaleString(c.parseEnhNumeric(r));i=c.parseEnhNumeric(c.toLocaleString(i));q=c.parseEnhNumeric(c.toLocaleString(q));return c.inNumericRange(l,i,q)!==0;}return false;}function N(h,g){return !c.isNumeric(g)&&!c.isBigDecimal(g);}function D(h,g){return !c.isNumeric(g,true);}function U(j,h){var i=(j.dtp===O.DATE),g=(j.dtp===O.TIME);return(i?!H.isDate(h):(g?!H.isTime(h):!H.isDateAndOrTime(h)));}mstrmojo._CanValidate=mstrmojo.provide("mstrmojo._CanValidate",{constraints:null,required:false,dtp:O.INTEGER,isList:false,autoFormat:false,validationStatus:null,init:function Z(g){this._super(g);if(!this.constraints){this.constraints={};}var h=this.constraints;if(!h.hasOwnProperty("trigger")){h.trigger=C.NONE;}},_set_value:function(l,i){var j=this.value,h=(j!==i);if(h){this.value=i;var k=this.constraints.trigger,g=(k&C.VALUESET)>0;if(g){this.validate(i);}}return h;},validate:function R(){var j=(this.value!==null&&this.value!==undefined)?this.value:"",m=this.isList?j.split(P):[j],l,h,n,g=m.length,k;for(k=0;k<g;k++){l=this.doValidation(m[k]);h=(l.code>e.VALID);if(h){if(g>1){l.msg=mstrmojo.locales.validation.invalidValueInListError.replace("#",m[k]||" ");}break;}}n=h?"onInvalid":"onValid";if(!h&&this.autoFormat){this.format();}this.set("validationStatus",l);if(this[n]){this[n](l);}},format:function a(){var m=this.dtp,j=J.isDateTime(m);if(!j){return ;}var o=mstrConfig.listSep,r=this.value||"",h=this.isList?r.split(o):[r],q=m===14,p=[],g,k=mstrmojo.locales.datetime,n=h.length,l;for(l=0;l<n;l++){r=h[l];g=H.parseDateAndOrTime(r);if(g){if(q&&g.date){p.push(H.formatDateInfo(g.date,k.DATEOUTPUTFORMAT));}else{p.push((g.date?H.formatDateInfo(g.date,k.DATEOUTPUTFORMAT):"")+" "+(g.time?H.formatTimeInfo(g.time,k.TIMEOUTPUTFORMAT):""));}}}this.set("value",p.join(o));},isValid:function Y(){var g=this.validationStatus;if(!g){this.validate();}return this.validationStatus.code===e.VALID;},clearValidation:function d(){this.set("validationStatus",{code:e.VALID});if(this.onClearValidation){this.onClearValidation();}},doValidation:function G(w){var q=this.constraints,t=q.regExp,i=q.validator,g={id:this.id,code:e.VALID,msg:""},p=this.dtp,n=J.isInt(p),h=J.isNumeric(p),o=J.isEnhNumeric(p),j=J.isString(p),k=J.isDateTime(p),m=X.isEmpty(w),u=String(w).length,l="",y=mstrmojo.locales.validation;if(this.required&&m){g.code=e.INVALID_EMPTY;g.msg=y.requiredFieldError;return g;}w=X.trim(w);if(!m&&S(this,w)){if(n){l=y.integerDataType;}if(h){l=y.numericDataType;}if(k){l=y.dateDataType;}g.code=e.INVALID_CHAR;g.msg=y.invalidCharError.replace("#",l);return g;}if(!m&&k&&U(this,w)){g.code=e.INVALID_BAD_DATESTRING;g.msg=y.invalidDateStringError;return g;}if(!m&&(h||n)&&N(this,w)){g.code=e.INVALID_BAD_NUMERICFORMAT;g.msg=y.invalidNumericFormatError;return g;}if(!m&&o&&D(this,w)){g.code=e.INVALID_BAD_NUMERICFORMAT;g.msg=y.invalidNumericFormatError;return g;}if(!m&&(n||h||k||o)&&f(this,w)){g.code=e.INVALID_OUTOFRANGE;if(q.min!==null&&q.max!==null){l=y.outofRangeError.replace("# ","").replace("##",c.toLocaleString(q.min)).replace("###",c.toLocaleString(q.max));}else{if(q.min!==null){l=y.noLessMinError.replace("##",c.toLocaleString(q.min)).replace("# ","");}else{if(q.max!==null){l=y.noGreaterMaxError.replace("###",c.toLocaleString(q.max)).replace("# ","");}}}g.msg=l;return g;}if(j&&q.minLen!==null&&q.maxLen!==null){if(u<q.minLen||u>q.maxLen){g.code=e.INVALID;g.msg=mstrmojo.desc(9211).replace(/#/,q.minLen).replace(/##/,q.maxLen);return g;}}if(t&&!t.test(w)){g.code=e.INVALID_REGEX;g.msg=mstrmojo.desc(9205);return g;}var x=i&&i.apply(this,[w]);if(x){g.code=x.code;g.msg=x.msg;return g;}return g;}});}());(function(){mstrmojo.requiresCls("mstrmojo.Obj");var D={TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4};var C={LEFT_TO_RIGHT:0,RIGHT_TO_LEFT:1};mstrmojo.ui.PopupConfig=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ui.PopupConfig",ENUM_CORNERS:D,isHostedWithin:true,position:null,hostProxyCssClass:"",hostId:"",hostElement:null,anchorElement:null,popupHandlers:null,alignment:null,alignWithAnchor:false,useTooltip:false,useDarkTheme:false,handleVerticalOverflow:mstrmojo.emptyFn,init:function H(I){this.clear();this._super(I);},setAlignment:function E(I,J){this.alignment={host:I,popup:J};},addPopupHandlers:function F(I,K,J){this.popupHandlers[I]={open:K,close:J};},clear:function B(){this.popupHandlers={};var I=this.ENUM_CORNERS;this.alignment={host:I.BOTTOM_LEFT,popup:I.TOP_LEFT};},destroy:function(I){this.anchorElement=null;this.hostElement=null;if(this._super){this._super(I);}}});mstrmojo.ui.PopupConfig.ENUM_CORNERS=D;mstrmojo.ui.PopupConfig.directionCfg={menuDirection:C.LEFT_TO_RIGHT,isRightToLeft:function G(){return this.menuDirection===C.RIGHT_TO_LEFT;},setDirection:function A(I){this.menuDirection=I?C.RIGHT_TO_LEFT:C.LEFT_TO_RIGHT;}};}());(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo._LoadsScript","mstrmojo.Binding","mstrmojo._HasBindings","mstrmojo._HasMarkup","mstrmojo._HasTooltip","mstrmojo.css");mstrmojo.Widget=mstrmojo.declare(mstrmojo.Obj,[mstrmojo._LoadsScript,mstrmojo._HasBindings,mstrmojo._HasMarkup,mstrmojo._HasTooltip],{scriptClass:"mstrmojo.Widget",domNode:null,hasRendered:false,visible:true,enabled:true,tooltip:"",cssClass:"",cssText:"",cssDisplay:"block",slot:"",alias:"",parent:null,init:function A(C){this._super(C);var D=this.parent;if(!D||D.hasInitBindings){this.initBindings();}},destroy:function B(C){if(this.hasRendered){this.unrender(C);}if(this.bindings){this.destroyBindings();}this._super();},invalidate:mstrmojo.emptyFn,widgetResized:mstrmojo.emptyFn});mstrmojo.Widget.cssTextMarkupMethod=function(){this.domNode.style.cssText=this.cssText||"";};mstrmojo.Widget.visibleMarkupMethod=function(){this.domNode.style.display=(this.visible)?this.cssDisplay:"none";};mstrmojo.Widget.topMarkupMethod=function(){var C=this.top;if(C){this.domNode.style.top=C;}};mstrmojo.Widget.leftMarkupMethod=function(){var C=this.left;if(C){this.domNode.style.left=C;}};mstrmojo.Widget.heightMarkupMethod=function(){var C=this.height;if(C){this.domNode.style.height=C;}this.widgetResized();};mstrmojo.Widget.widthMarkupMethod=function(){var C=this.width;if(C){this.domNode.style.width=C;}this.widgetResized();};mstrmojo.Widget.enabledMarkupMethod=function(){mstrmojo.css.toggleClass(this.domNode,"disabled",!this.enabled);};}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.vi.util.A11yUtility");var J=mstrmojo.array,N=mstrmojo.hash,W=mstrmojo.css,G=mstrmojo.dom,L=mstrmojo.vi.util.A11yUtility;function M(){if(this.canTab&&!this.hasTabFocus){this.tabIndex=0;this.hasTabFocus=true;}}function I(h){var Y=this.navList,a=this.tabIndex,Z=a,d=this.tabWrap,e=Y.length,f=e>0,b=h?-1:1,c=e,g;while(!this.isValidTarget(g)&&c>=0){a+=b;c--;if(a>=Y.length){if(d){a=0;}else{a=f?e-1:0;}}else{if(a<0){if(d){a=f?e-1:0;}else{a=0;}}}if(a===Z){break;}g=this.getNavListItem(a);}if(!this.isValidTarget(g)){g=null;}return{idx:a,item:g,foundItem:!!g};}mstrmojo.vi.ui.rw._SupportTabNav=mstrmojo.provide("mstrmojo.vi.ui.rw._SupportTabNav",{_mixinName:"mstrmojo.vi.ui.rw._SupportTabNav",canTab:true,tabParent:null,tabIndex:0,navList:[],tabWrap:true,tabBubbles:true,hasTabFocus:false,initTabNavigation:function R(){var Y=this.parent;while(Y&&!Y.canTab){Y=Y.parent;}this.tabParent=Y;if(!this.focusEventFn){this.focusEventFn=M.bind(this);}G.detachEvent(this.domNode,"focusin",this.focusEventFn);G.attachEvent(this.domNode,"focusin",this.focusEventFn);this.buildNavList();},postBuildRendering:function U(){if(this._super){this._super();}this.initTabNavigation();},destroy:function V(){if(this._super){this._super();}if(this.navList){delete this.navList;}if(this.focusEventFn){G.detachEvent(this.domNode,"focusin",this.focusEventFn);}},changeTabTarget:function F(e,b){var a=typeof e==="string",d=typeof e==="number",Z=this.navList,Y=this.tabIndex,c=Z.length;J.forEach(Z,function(g,f){if(a){if(g.k===e){Y=f;return false;}}else{if(d){if(f===e){Y=f;return false;}}else{if(g===e){Y=f;return false;}}}});if(b){Y--;if(Y<0){if(this.tabWrap){Y=c>0?c-1:0;}else{Y=0;}}}this.tabIndex=Y;},resetTabNav:function Q(Y){this.tabIndex=0;this.buildNavList();if(Y!==undefined){this.changeTabTarget(Y);}},buildNavList:function H(){var Y=[],Z=this.children;J.forEach(Z,function(a){if(a.canTab){Y.push(a);}});this.navList=Y;},isValidTarget:function A(Y){return !(Y===undefined||Y===null||(Y instanceof HTMLElement&&(W.getStyleValue(Y,"display")==="none"||!Y.hasAttribute("tabindex")||Y.hasAttribute("disabled"))));},handleTab:function O(Y,a){var b=Y.e||Y,Z=b.key;if(!this.canTab){return false;}if(Z==="Tab"){if(!this.hasTabFocus){return true;}Y.preventDefault();b.stopPropagation();if(a){this.changeTabTarget(a);}if(!Y.shiftKey){this.navigateNext();}else{this.navigatePrevious();}return true;}return false;},navigateToFirstValidTarget:function B(){var Z,Y;this.tabIndex=-1;Z=I.call(this,false);if(Z.foundItem){this.tabIndex=Z.idx;Y=Z.item;if(Y&&Y.grabFocus){Y.grabFocus(true);}}},navigateNext:function X(){var f=this.tabParent,Z=this.tabIndex,c=this.navList,b=this.tabBubbles,d=Z,a,e,Y;a=I.call(this,false);if(a.foundItem){this.tabIndex=a.idx;e=this.getNavListItem(d);if(e!==this&&e&&e.loseFocus){e.loseFocus(true);}Y=a.item;if(Y&&Y.grabFocus){Y.grabFocus(true);}}else{if(c.length===1){return ;}else{if(f&&f.canTab&&b){if(this.loseFocus){this.loseFocus(true);}f.changeTabTarget(this);f.navigateNext();}}}},navigatePrevious:function T(){var f=this.tabParent,Z=this.tabIndex,c=this.navList,b=this.tabBubbles,d=Z,a,e,Y;a=I.call(this,true);if(a.foundItem){this.tabIndex=a.idx;e=this.getNavListItem(d);if(e!==this&&e&&e.loseFocus){e.loseFocus(true);}Y=a.item;if(Y&&Y.grabFocus){Y.grabFocus(true);}}else{if(c.length===1){return ;}else{if(f&&f.canTab&&b){if(this.loseFocus){this.loseFocus(true);}f.changeTabTarget(this);f.navigatePrevious();}}}},navigateToParent:function S(Z){var Y=this.tabParent;if(Y&&Y.canTab){Y.changeTabTarget(this,Z);if(this.loseFocus){this.loseFocus(true);}if(Y.grabFocus){Y.grabFocus(true);}}},grabFocus:function K(){this.hasTabFocus=true;},loseFocus:function E(){this.hasTabFocus=false;},restoreFocus:function D(){if(N.walk("navList."+this.tabIndex+".grabFocus",this)){this.getNavListItem(this.tabIndex).grabFocus(true);}},getFocusedTarget:function P(){return N.walk("navList."+this.tabIndex,this);},getNavListItem:function C(Y){var Z,a=this.navList[Y];if(a instanceof Function){Z=a();a=Z&&Z.domNode;if(a&&(!a.grabFocus||(a instanceof HTMLElement&&!a.hasAttribute("tabindex")))){L.enableAccessibility(Z,Z.role,Z.ariaProps);}}return a;}});mstrmojo.vi.ui.rw._SupportTabNav.nextValidItem=I;})();(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.dom","mstrmojo.hash","mstrmojo.css","mstrmojo.string");var D=mstrmojo.dom,B=mstrmojo.hash,G=mstrmojo.css,J=mstrmojo.string;mstrmojo.Button=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Button",iconClass:"",innerIconClass:"",title:"",text:"&nbsp;",ariaLabel:"",tabIndex:-1,enabled:true,selected:false,markupString:'<div id="{@id}" role="button" aria-label="{@getAriaLabel}" tabindex="{@tabIndex}" class="mstrmojo-Button {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:touchstart,click,mousedown,mouseup,keydown><div class="mstrmojo-Button-text {@innerIconClass}"></div></div>',markupSlots:{textNode:function(){return this.domNode.firstChild;}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:function(){G.toggleClass(this.domNode,"disabled",!this.enabled);},onselectedChange:function(){G.toggleClass(this.domNode,"selected",this.selected);},ontextChange:function(){this.textNode.innerHTML=this.text;},ontitleChange:function(){this.domNode.title=this.title;if(!this.ariaLabel){this.domNode.setAttribute("aria-label",this.getAriaLabel());}},onariaLabelChange:function(){this.domNode.setAttribute("aria-label",this.getAriaLabel());},onwidthChange:mstrmojo.Widget.widthMarkupMethod},oniconClassChange:function E(M){var N=this.domNode;if(this.hasRendered&&N){N.className=N.className.replace(M.valueWas,"")+" "+M.value;}},onclick:mstrmojo.emptyFn,ontouchend:function L(M){this.onclick(M);},onkeydown:function F(M){var O=M.e||M,N=O.key;if(this._super){this._super(M);}if(N==="Enter"||N===" "){O.preventDefault();O.stopPropagation();this.onclick(M);}},getAriaLabel:function C(){return J.encodeHtmlString(this.ariaLabel||this.text,true);}});mstrmojo.Button.newIconButton=function K(O,R,P,M,Q){var N={scriptClass:"mstrmojo.Button",title:O,cssClass:R,text:"",onclick:P};if(M){N.bindings=M;}B.copy(Q,N);return N;};function I(P,Q,M,S){var O=[];if(M){O.push(M);}var R=S&&S.cssClass;if(R){O.push(R);delete S.cssClass;}var N={scriptClass:"mstrmojo.Button",cssClass:O.join(" "),text:P};if(Q){N.onclick=Q;}return B.copy(S,N);}mstrmojo.Button.newInteractiveButton=function H(P,Q,S,R){var O={glowClass:"glow"};if(S&&(D.isFF||D.isWK)){B.copy({onmousedown:function M(){G.applyShadow(this.domNode,0,0,10,S);},onmouseup:function N(){G.removeShadow(this.domNode);}},O);}return I(P,Q,"mstrmojo-InteractiveButton",B.copy(R,O));};mstrmojo.Button.newWebButton=function A(N,M,P,O){return I(N,M,"mstrmojo-WebButton"+(P?" hot":""),O);};mstrmojo.Button.newActionButton=function(N,O,P){var M=mstrmojo.Button.newWebButton(N,O,false,P);M.cssClass=M.cssClass+" action-button";return M;};}());(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.string");var B=mstrmojo.string;mstrmojo.Label=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Label",allowHTML:false,text:"",title:"",markupString:'<div id="{@id}" class="mstrmojo-Label {@cssClass}" style="{@cssText}" title="{@title} "mstrAttach:click></div>',markupMethods:{ontitleChange:function(){this.domNode.title=this.title;},ontextChange:function(){var C=this.text;C=B.isEmpty(C)?"":C.toString();this.domNode.innerHTML=this.allowHTML?C:B.encodeHtmlString(B.decodeHtmlString(C),true);},oncssTextChange:mstrmojo.Widget.cssTextMarkupMethod,onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:mstrmojo.Widget.enabledMarkupMethod},autoHide:false,_set_text:function A(E,C){if(this.autoHide){this.set("visible",(C!==null)&&(C!=="")&&(C!==undefined));}var D=this.text;this.text=C;return(D!==C);}});}());(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.ui._HasScroller","mstrmojo.css");var E=mstrmojo.css,G=mstrmojo.string,A=mstrmojo.desc(14058,"Show Details"),D=mstrmojo.desc(14059,"Hide Details"),C=mstrmojo.desc(14060,"We are sorry for the inconvenience. Please {contact} your administrator for help.").replace("{",'<span class="dyn-link">').replace("}","</span>");mstrmojo.ui.editors.ErrorDialogContent=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.editors.ErrorDialogContent",markupString:'<div class="mstrmojo-error-content {@cssClass}" mstrAttach:click><div class="scroll-container"><div>{@shortDesc}</div><div class="contact">'+C+'</div><div class="toggle-details-link" >'+A+'</div><div class="error-details">{@longDesc}</div></div></div>',markupSlots:{scrollNode:function(){return this.domNode.firstChild;},contactNode:function(){return this.domNode.firstChild.children[1].getElementsByClassName("dyn-link")[0];},toggleDetailsNode:function(){return this.domNode.firstChild.children[2];},errorDetailsNode:function(){return this.domNode.firstChild.children[3];}},markupMethods:{onshowDetailsChange:function(){var J=this.showDetails;this.toggleDetailsNode.innerHTML=J?D:A;E.toggleClass(this.domNode,"show-details",J);this.updateScrollbars();}},cssClass:undefined,shortDesc:undefined,longDesc:undefined,showDetails:false,showToggle:true,enableContactStr:true,allowHTML:false,init:function H(J){this._super(J);this.shortDesc=this.shortDesc||mstrmojo.desc(14061,"An error has occurred");},onclick:function I(J){var L=J.getTarget(),K,M=this.longDesc;if(L===this.contactNode){K="mailto:?subject="+encodeURI("Issue: "+this.shortDesc)+(M?("&body="+encodeURI("Detail:\r\n"+M)):"");mstrApp.openPage(K,"_self");}else{if(L===this.toggleDetailsNode){this.set("showDetails",!this.showDetails);this.parent.raiseEvent({name:"EditorResized"});this.parent.positionDialog();}}},setupScrollNodes:function B(){this.scrollNode=this.scrollNode;},preBuildRendering:function F(){this._super&&this._super();if(!this.allowHTML){this.longDesc=G.encodeHtmlString(G.decodeHtmlString(this.longDesc),true);}},postBuildRendering:function(){var J=this.domNode.firstChild.children[1];this._super&&this._super();!this.showToggle&&E.addClass(this.toggleDetailsNode,"hide");!this.enableContactStr&&E.addClass(J,"invisible");}});})();(function(){mstrmojo.requiresCls("mstrmojo.publisher","mstrmojo.Widget","mstrmojo.array","mstrmojo._HasChildren");var G=mstrmojo.array;function E(P){if(!this.shouldPropagateEnabled){return ;}var O=this._disabledChildren;G.forEach(P,function(Q){if(Q.enabled){O.push(Q.id);Q.set("enabled",false);}});}function J(){G.forEach(this._disabledChildren,function(O){var P=mstrmojo.all[O];if(P&&P.parent===this){P.set("enabled",true);}},this);this._disabledChildren=[];}mstrmojo.Container=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._HasChildren],{scriptClass:"mstrmojo.Container",defaultChildSlot:"containerNode",containerNode:null,preserveChildDomOrder:true,shouldPropagateEnabled:false,init:function M(P){this._super(P);this._disabledChildren=[];this.attachEventListener("addChild",this.id,function(Q){if(this.shouldPropagateEnabled&&!this.enabled){E.call(this,Q.value);}});if(this.children){this.initChildren();}var O=this.parent;if(!O||O.hasInitBindings){this.initBindings();}},destroy:function H(O){if(this.children){this.destroyChildren(true);}if(this.bindings){this.destroyBindings();}this._super(O);},unrender:function I(Q){var R=this.children,O=(R&&R.length)||0,P;for(P=O-1;P>-1;P--){R[P].unrender(true);}this._super(Q);},postBuildRendering:function A(){if(this._super()!==false){this.renderChildren();return true;}return false;},renderChildren:function L(){var Q=this.children,O=(Q&&Q.length)||0,P;for(P=0;P<O;P++){var R=Q[P];if(this.childRenderCheck(R)){R.render();}}},childRenderCheck:function D(P){if(P&&!P.hasRendered){var O=P.slot||this.defaultChildSlot;return !!this[O];}return false;},addChildren:function N(R,P,Q){var O=this._super(R,P,Q);if(O){this.childRenderOnAddCheck(O);}return O;},removeChildren:function F(V,R){var U=V?[V]:(this.children||[]),O=U.length,S;for(S=O-1;S>-1;S--){var Q=U[S],P=Q&&Q.domNode;if(P){var T=this[(Q.slot||this.defaultChildSlot)];if(P.parentNode===T){T.removeChild(P);}}}return this._super(V,R);},childRenderOnAddCheck:function B(Q){if(this.hasRendered&&Q){var O=Q.length,P;for(P=0;P<O;P++){var R=Q[P];if(this.childRenderCheck(R)){R.render();}else{if(R&&R.hasRendered){this.onchildRenderingChange(R);}}}}},onchildRenderingChange:function K(O){var W=O&&O.domNode;if(!W){return ;}var P=this.defaultChildSlot,V=O.slot||P,Y=this[V],Q=this.children;if(!Y){if(W.parentNode){W.parentNode.removeChild(W);}}else{if(W.parentNode===Y){return ;}if(!this.preserveChildDomOrder){Y.appendChild(W);}else{var R,U;for(U=Q.length-1;U>=0;U--){var X=Q[U];if(X===O){break;}if(V===(X.slot||P)){var Z=X.domNode;if(Z&&Z.parentNode===Y){R=Z;}}}if(R){Y.insertBefore(W,R);}else{Y.appendChild(W);}}}if(mstrmojo.publisher.hasSubs(this.id,"childrenRendered")){var S=Q.length,T;for(T=0;T<S;T++){if(!Q[T].domNode){return ;}}this.raiseEvent({name:"childrenRendered"});}},propagateChildProps:function C(S){var R=this[S],Q=this.children||[],O=Q.length,P;for(P=0;P<O;P++){Q[P].set(S,R);}}});mstrmojo.Container.enabledMarkupMethod=function(){mstrmojo.Widget.enabledMarkupMethod.apply(this,arguments);if(this.shouldPropagateEnabled){if(this.enabled){J.call(this);}else{E.call(this,this.children);}}};}());(function(){mstrmojo.requiresCls("mstrmojo.ui.PopupConfig","mstrmojo.array","mstrmojo.hash","mstrmojo.css","mstrmojo.ui._HasUITheme","mstrmojo.vi.ui.theme","mstrmojo.dom");function i(j,l){if(!mstrmojo.DocInfoWindow){return ;}var k=j;while(k){if(k instanceof mstrmojo.DocInfoWindow){k[l?"registerScrollLock":"releaseScrollLock"](this);break;}k=k.parent;}}var Q=mstrmojo.array,E=mstrmojo.dom,V=mstrmojo.hash,g=mstrmojo.css,I="px",N=mstrmojo.ui._HasUITheme.EnumThemeNames;var D=false;function P(j,l){if(!mstrmojo.DocInfoWindow){return ;}var k=j;while(k){if(k instanceof mstrmojo.DocInfoWindow){k[l?"registerLock":"releaseLock"](this);this.lockIW=l?k:null;break;}k=k.parent;}}var Y=mstrmojo.ui.PopupConfig,R=Y.directionCfg,C=Y.ENUM_CORNERS,b=C.TOP_LEFT,X=C.TOP_RIGHT,L=C.BOTTOM_RIGHT,J=C.BOTTOM_LEFT,A=mstrmojo.Enum_Keys;function K(j){return(j===J||j===b);}function f(j){return(j===X||j===L);}function T(j){return(j===L||j===J);}function W(j){return(j===X||j===b);}function c(r,l,AA,AG){var AJ=AA.x,AI=AA.y,AF=AA.w||0,v=AA.h||0,k=AG.w,AB=AG.h,AE=r.alignment,p=AE.popup,n=AE.host,AH=f(n),AK=T(n),AD=false,y=false,m=false,z=false,o=false,w=false,AC=E.isMobile,t=mstrmojo.ui.PopupConfig.directionCfg;if(K(p)){var q=AJ+k+(AH?AF:0);AD=l.w<q;o=AC&&(AD||t.isRightToLeft());}if(W(p)){var x=AI+AB+(AK?v:0);y=l.h<x;w=AC&&y;}if(f(p)||o){var u=AJ-k+((AH&&!o)?AF:0);m=u<0;}if(T(p)||w){var j=AI-AB+((AK&&!w)?v:0);z=j<0;}return{top:z,bottom:y,left:m,right:AD};}function H(k){var j=this.popupConfig;if(j){V.forEach(j.popupHandlers,function(m,n){var l=m[k?"open":"close"];if(l){l.call(mstrmojo.all[n]||l,!!k);}});}}function O(k){var j=this.popupConfig;if(j&&!j.isHostedWithin){var l=this.hostProxy;if(l){l.style.display=k?"":"none";}}}function h(j){return j!==undefined&&j!==null&&!isNaN(j);}mstrmojo._IsPopup={visible:false,lockIWForScroll:false,disposable:true,opener:null,onOpen:mstrmojo.emptyFn,onClose:mstrmojo.emptyFn,popupConfig:null,hostProxy:undefined,enableAccessibility:false,open:function S(l,j){H.call(this,true);if(this.updatePopupConfig){this.updatePopupConfig(j,l);}else{V.forEach(j,function(o,n){this.set(n,o);},this);}var k="popup-mid-render";this.set("opener",l);if(!this.hasRendered){var m=this.visible;this.visible=false;this.render();g.addClass(this.domNode,k);this.set("visible",m);}if(this.nudge){this.domNode.style.top="-10000px";}O.call(this,true);this.set("visible",true);if(this.lockIWForScroll){i.call(this,this.opener,true);}if(j&&j.lockIW){P.call(this,j.lockIW,true);}if(j&&j.closeCallback){this.__closeCallback=j.closeCallback;}if(this.nudge){this.nudge();}if(this.adjustSize){this.adjustSize();}this.adjustCornersForPopupOverflow();this.onOpen();g.removeClass(this.domNode,k);},adjustCornersForPopupOverflow:function d(){var u=this.popupConfig;if(!u){return false;}var Ab=(u.includeScroll!==undefined)?u.includeScroll:true;var o=u.anchorElement||u.hostElement,m=u.position||E.position(o,Ab),AE=o&&o.style&&o.style.zIndex||u.zIndex;if(!u.isHostedWithin){var Aj=this.hostProxy,Aa=this.hostProxy=document.createElement("div");document.body.appendChild(Aa);Aa.appendChild(this.domNode);if(Aj){Aj.parentNode.removeChild(Aj);}var AQ=Aa.style,AR={x:"left",y:"top",w:"width"};Aa.className=u.hostProxyCssClass;AQ.position="absolute";AQ.background="none";g.addClass(Aa,"mstrmojo-popup-widget-hosted");AQ.height="0";Q.forEach(["x","y","w"],function(As){var Ar=m[As];if(h(Ar)){AQ[AR[As]]=Ar+I;}});this.adjustPopupPosInMobile(m,AQ);}var AD=u.ENUM_CORNERS,Ap=AD.BOTTOM_LEFT,AS=AD.BOTTOM_RIGHT,k=AD.TOP_RIGHT,AK=AD.TOP_LEFT;var r=u.isStaticAnchor?E.windowDim():E.position(document.body),AU=E.position(this.domNode),Ae=c(u,r,m,AU),q=Ae.right,AC=Ae.bottom,Aq=Ae.left,AZ=Ae.top,AF=u.alignment,AP=AF.popup,l=AF.host,x=AP,AB=l,AT=E.isMobile,AA=o&&o.classList&&o.classList.contains("mstrmojo-ui-Menu-item"),AV=this.id,y=o&&o.parentNode,AX=y&&y.parentElement,AO=o||this.domNode,AL,Ak=this.domNode.style;if(AX&&AX.classList.contains("mstrmojo-ui-Menu")){AO=AX;}AL=E.position(AO);if(AA&&((Aq&&q)||(AZ&&AC))){if(AX){Ak.top=AL.y+"px";Ak.left=AL.x+"px";var Ai=document.getElementsByClassName("mstrmojo-ui-Menu");Q.forEach(Ai,function(Ar){if(AV!==Ar.id){Ar.style.visibility="hidden";}});}u.anchorElement=AO;u.position={h:0,w:0,x:(AL.x+AU.w)>r.w?Math.min(AL.x,5):AL.x,y:(AL.y+AU.h)>r.h?Math.min(AL.y,90):AL.y};this.adjustCornersForPopupOverflow();return ;}if(R.isRightToLeft()&&(!AT||AU.w>0)){if(!AT||!Aq){q=true;}else{if(!AT||!q){R.setDirection(false);this.resetDirection=true;if(AT){AB=(AB===k)?AK:Ap;}}}}else{if(q){R.setDirection(true);this.resetDirection=true;}}if(q||Aq){if(K(AB)){AB=W(AB)?k:AS;}else{if(f(AB)){AB=W(AB)?AK:Ap;}}if(q&&K(x)){x=W(x)?k:AS;}else{if(Aq&&f(x)){x=W(x)?AK:Ap;}}}if(AC||AZ){if(K(AB)){AB=W(AB)?Ap:AK;}else{if(f(AB)){AB=W(AB)?AS:k;}}if(AC&&W(x)){x=K(x)?Ap:AS;}else{if(AZ&&T(x)){x=K(x)?AK:k;}}}if(AZ||q||AC||Aq){if(D){console.log("Overflow directions: "+JSON.stringify(Ae));}this._orgalgn={host:l,popup:AP};u.setAlignment(AB,x);}if(!u.isHostedWithin){if(h(m.y)&&h(m.h)){this.hostProxy.style.top=(m.y+(T(x)?(u.alignWithAnchor===true?m.h:0):(u.alignWithAnchor===true?0:m.h)))+I;this.hostProxy.style.zIndex=(h(AE)&&(AE>100))?AE+1:101;}}var AY,Am={};if(u.isHostedWithin&&!!this.opener){AY=g.getComputedStyle(this.opener.domNode);}Q.forEach(["left","right","top","bottom"],function(Ar){Am[Ar]=AY?parseInt(AY["border-"+Ar+"-width"]||0,10):0;});var Ag=T(AB),Ah=f(AB),w=T(x),p=f(x),Ac=function(As,Ar){return"calc(100% + "+(Ar?Am[As]:0)+"px)";},z=function(As,Ar){return(Ar?-Am[As]:0)+"px";};var t,Ad,j,n;t=Ad=j=n="auto";if(w){j=Ag?z("top"):Ac("top");}else{t=Ag?Ac("bottom"):z("bottom");}if(p){Ad=Ah?z("left"):Ac("left");}else{n=Ah?Ac("right"):z("right");}Ak.top=t;Ak.right=Ad;Ak.bottom=j;Ak.left=m.isAndroidMobile?0+I:n;var v=E.position(this.domNode),AN=5;if(AC||AZ){var An=v.y,AJ=E.getMaxScrollHeight(),AG=AJ+"px",Al=this.scrollNode,AH=Al&&Al.style.maxHeight,AM,AW=u.handleVerticalOverflow;if(An<0||(An+v.h>r.h)){if(Al&&AG!==AH){if(this.getPulldownConfig){AM=this.getPulldownConfig(AJ,AL);}Al.style.maxHeight=AM?AM.maxHeight+I:AG;this.updateScrollbars();}var Af=(-m.y+AN)+I;if(!u.isHostedWithin){if(this.hostProxy){this.hostProxy.style.top=0;}Af=AN+I;}Ak.top=AM?AM.position+I:Af;Ak.bottom="auto";}else{if(AW){AW.call(this,v,AJ,AZ);}}}if(Aq||q){var Ao=v.x;if(Ao<0||(Ao+v.w>r.w)){var AI=(-m.x+AN)+I;if(!u.isHostedWithin){if(this.hostProxy){this.hostProxy.style.left=0;}AI=AN+I;}Ak.left=AI;Ak.right="auto";}}return true;},adjustPopupPosInMobile:function F(r,m){if(r.isAndroidMobile&&r.interval&&r.boundingRect&&r.widgetRect){var l=r.interval,k=r.boundingRect,j=r.widgetRect,p=E.position(this.domNode),u=10,o=0,t=0;if((k.topLeft.x===0)&&(k.topLeft.y===0)&&(k.bottomRight.x===0)&&(k.bottomRight.y===0)){o=j.x;t=(j.h-p.h)/2+j.y;}else{if(p.w<l.left-u){o=k.topLeft.x-p.w-u;t=k.topLeft.y;}else{if(p.w<l.right-u){o=k.bottomRight.x+u;t=k.topLeft.y;}else{if(p.h<l.top-u){o=k.topLeft.x;t=k.topLeft.y-p.h-u;}else{if(p.h<l.bottom-u){o=k.topLeft.x;t=k.bottomRight.y+u;}else{o=k.topLeft.x;t=k.topLeft.y+(k.bottomRight.y-k.topLeft.y-p.h)/2;}}}}}var n=window.innerWidth,q=window.innerHeight;o=Math.min(Math.max(0,o),n-p.w);t=Math.min(Math.max(0,t),q-p.h);m.left=o+I;m.top=t+I;}},close:function U(k){if(this.keepOpen){return ;}if(this.onClose){this.onClose(k);}O.call(this,false);if(this.lockIWForScroll){i.call(this,this.opener,false);}this.set("visible",false);this.set("opener",null);if(this.lockIW){P.call(this,this.lockIW,false);}H.call(this,false);var j=this._orgalgn;if(j){this.popupConfig.setAlignment(j.host,j.popup);}if(this.resetDirection){this.resetDirection=false;R.setDirection(false);}if(this.__closeCallback){this.__closeCallback();delete this.__closeCallback;}},preBuildRendering:function B(k){this._super(k);var n=this.popupConfig;if(n&&!n.isHostedWithin){var j=n.hostProxyCssClass.split(" "),m=false;Q.forEach(V.keyarray(N),function(o){if(j.indexOf(N[o])>=0){m=true;return false;}});if(!(m||n.noInheritTheme)){var l=mstrmojo.vi.ui.theme.getThemeClass.call(this);if(l){j.push(l);}}n.hostProxyCssClass=j.join(" ");}},buildRendering:function G(){var j=this._super();if(j){if(!this.parent&&!this.domNode.parentElement){document.body.appendChild(this.domNode);}}return j;},postBuildRendering:function a(){var j=this,k=this.popupConfig;if(k&&!this._ListenerProc){this._ListenerProc=function(){j.monitorWindow();};E.attachEvent(window,"resize",this._ListenerProc);}this._super();},onkeydown:function M(j){var k;if(this._super){k=this._super(j);}if(this.enableAccessibility){var m=j&&j.e,l=m&&m.keyCode;if(l===A.ESCAPE){this.close();m.stopPropagation();}}return k;},monitorWindow:function(){var l=E.getMaxScrollHeight(),j=window.orientation||V.walk("screen.orientation.angle",window);if(this.updateScrollbars&&this.scrollNode){this.scrollNode.style.maxHeight=(this.scrollNodeMaxHeight||l)+"px";this.updateScrollbars();}if(this.orientationAngle!==undefined&&this.orientationAngle!==j){this.close();}if(this.visible){var k=this,m=null;window.clearTimeout(m);m=window.setTimeout(function(){if(k.scrollNode&&k.scrollNode.style){k.scrollNode.style.maxHeight=(k.scrollNodeMaxHeight||l)+I;k.adjustCornersForPopupOverflow();}},175);}},destroy:function e(j){if(this._ListenerProc){E.detachEvent(window,"resize",this._ListenerProc);delete this._ListenerProc;}this._super(j);},unrender:function Z(j){if(this.popupConfig&&!this.popupConfig.isHostedWithin&&this.hostProxy){document.body.removeChild(this.hostProxy);delete this.hostProxy;}this._super(j);}};}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.string","mstrmojo.Container","mstrmojo._IsPopup","mstrmojo.boxmodel","mstrmojo.dom","mstrmojo.ui._HasScroller");var L=mstrmojo.boxmodel,I=mstrmojo.dom,M=mstrmojo.css,O="mstrmojo-Tooltip",A="mstrmojo-scrollNode",E=20;function C(S,T,R){var U="connectScrollbox";if(R){U="dis"+U;}var Q=S&&S.parent;while(Q){if(Q[U]){Q[U](T);}Q=Q.parent;}}function G(){if(!this._paintHandle){var R=this.id,Q=function(V){var Z=mstrmojo.all[R];if(!Z){return ;}delete Z._paintHandle;var T=[O],a=Z.cssClass;if(a){T.push(a);}var S=mstrApp.getThemeClassName&&mstrApp.getThemeClassName(),X=Z.opener;if(X&&X.getTooltipThemeClass){S=X.getTooltipThemeClass();}T.push(S);Z.domNode.className=T.join(" ");var Y=Z.content,U=Z.contentNode,W=Z.arrowNode;U.className=(O+"-content "+A+" "+Z.contentNodeCssClass);U.style.cssText=Z.contentNodeCssText;if(!Z.hasWidgetContent){U.innerHTML=Y;I.recursiveReplaceInlineEventListeners(U,false,Z);}W.style.cssText="";Z.domNode.style.visibility=!!Y?"visible":"hidden";Z.updatePosition();if(!V&&Z.optimizePos){Z.optimizePos();}Z.updateScrollbars();Z.addScrollNodeProperties();};if(!this._hasPaint){Q(true);this._hasPaint=true;}else{this._paintHandle=window.setTimeout(Q,0);}}}function B(V,f,k,W){var Z=f&&(f.richTooltip||f.tooltip),n=k?I.getMousePosition(k,W||self):null,d=Z&&(typeof Z==="string");var l="",b="",Y="",i=Z,c=null,Q=false,a=null,S=mstrmojo.tooltip.POS_TOPLEFT,T=null,g=null,R=null,m=false,U=null,X=mstrmojo._HasTooltip.TOOLTIP_CLOSE_DELAY;var h=false,j=false;if(Z&&!d){b=Z.cssClass||b;l=Z.contentNodeCssClass||l;Y=Z.contentNodeCssText||Y;i=Z.content||"";c=Z.eventHandlerMap;a=Z.refNode||a;Q=!!Z.offsetAlgo;S=Z.posType||S;T=Z.left||0;g=Z.top||0;h=Z.keepArrowXPos||h;j=Z.keepArrowYPos||j;R=Z.updatePosition||null;m=Z.hasWidgetContent;U=Z.children;X=Z.tooltipCloseDelay||mstrmojo._HasTooltip.TOOLTIP_CLOSE_DELAY;}V.set("contentNodeCssClass",l);V.set("cssClass",b);V.set("contentNodeCssText",Y);V.set("content",i);V.set("eventHandlerMap",c);V.set("refNode",a);V.set("offsetAlgo",Q);V.set("posType",S);V.set("left",d?((n&&n.x)||V.left):T);V.set("top",(d||!Z)?((n&&(n.y+E))||V.top):g);V.set("keepArrowXPos",h);V.set("keepArrowYPos",j);if(R){V.set("updatePosition",R);}else{V.set("updatePosition",mstrmojo.Tooltip.prototype.updatePosition);}V.set("hasWidgetContent",m);V.set("children",U);V.set("tooltipCloseDelay",X);}mstrmojo.Tooltip=mstrmojo.declare(mstrmojo.Container,[mstrmojo._IsPopup,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.Tooltip",content:null,top:null,left:null,refNode:null,keepArrowXPos:false,keepArrowYPos:false,posType:"TL",allowOtherTooltips:false,markupString:'<div id="{@id}" class="'+O+' {@cssClass}" style="{@cssText}" mstrAttach:mouseover,mouseout><div class="'+O+'-shadow {@shadowNodeCssClass}"></div><div class="'+O+'-contentWrapper"><div class="'+O+"-content "+A+' {@contentNodeCssClass}" style="{@contentNodeCssText}"></div></div><div class="'+O+'-arrow"></div></div>',markupSlots:{containerNode:function(){return this.domNode.children[1];},contentNode:function(){return this.domNode.children[1].firstChild;},shadowNode:function(){return this.domNode.firstChild;},arrowNode:function(){return this.domNode.children[2];}},setupScrollNodes:function D(){this.scrollNode=this.contentNode;this.scrollbarHostNode=this.containerNode;},_previousVisible:false,markupMethods:{onvisibleChange:function(){var R=this.domNode.style,Q=!!this.visible;if(this._previousVisible!==Q){R.visibility="hidden";}R.display=Q?"block":"none";this._previousVisible=Q;if(Q){if(!this.hasWidgetContent){this.contentNode.innerHTML=this.content;I.recursiveReplaceInlineEventListeners(this.contentNode,false,this);}this.updatePosition();if(this.content){G.call(this);}}},onleftChange:G,ontopChange:G,onrefNodeChange:G,onposTypeChange:G,oncontentNodeCssClassChange:G,oncontentNodeCssTextChange:G,oncontentChange:G,oncssClassChange:G},preBuildRendering:function N(){if(!this.slot&&!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"));}return this._super();},updatePosition:function H(V){if(!this.visible&&!V){return ;}var U=this.refNode,T;if(U){if(!this.offsetAlgo){T=L.offset(U,document.body);}else{var f=U.getBoundingClientRect(),h=document.documentElement.getBoundingClientRect();T={left:f.left-h.left,top:f.top-h.top};}}else{T={left:I.getHorizontalScroll(),top:I.getVerticalScroll()};}var n=this.domNode.style,g=this.containerNode,k=g.offsetWidth,Z=g.offsetHeight,R=this.posType,c=R.indexOf("R")>-1,W=R.indexOf("B")>-1,b=this.top!==null?parseInt(this.top,10)+T.top-(W?Z:0):null,S=this.left!==null?parseInt(this.left,10)+T.left-(c?k:((R.indexOf("C")>-1)?Math.floor(k/2):0)):null,l=false,a=false,d,X,j=I.windowDim(),i=I.getHorizontalScroll()+j.w,Q=I.getVerticalScroll()+j.h,e=this.arrowNode,m=null;if(S!==null){d=Math.min(Math.max(S,0),i-k);n.left=d+"px";l=S!==d;}if(b!==null){X=Math.min(Math.max(b,0),Q-Z);n.top=X+"px";a=b!==X;}if(l||a){var Y,p=this.keepArrowXPos&&l,o=this.keepArrowYPos&&a;if(p||o){m=M.getComputedStyle(e);Y=m.left;}if(Y&&mstrmojo.string.endsWith(Y,"%")){Y=parseFloat(Y)/100*k;}if(p){e.style.left=(parseInt(Y,10)+S-d)+"px";}if(o){e.style.top=(parseInt(m.top,10)+b-X)+"px";}}M.toggleClass(this.domNode,"offset",l||a);},_on_tooltip_change:function(Q){B(this,Q&&Q.src);},_set_opener:function(T,S){var R=this.opener,Q=S!==R;if(Q){if(S){C(S,this);}if(R){C(S,this,true);}if(R&&R.detachEventListener){R.detachEventListener(this._richSubs);R.detachEventListener(this._ttpSubs);}if(S&&S.attachEventListener){this._richSubs=S.attachEventListener("richTooltipChange",this.id,"_on_tooltip_change");this._ttpSubs=S.attachEventListener("tooltipChange",this.id,"_on_tooltip_change");}this.opener=S;}return Q;},updatePopupConfig:function(Q,R){B(this,R,Q&&Q.e,Q&&Q.win);},onscroll:function K(){if(this.visible&&this.nudge){this.nudge();}this._super();},onmouseover:mstrmojo.emptyFn,onmouseout:mstrmojo.emptyFn});var J=null;mstrmojo.tooltip={POS_TOPLEFT:"TL",POS_BOTTOMLEFT:"BL",POS_TOPRIGHT:"TR",POS_BOTTOMRIGHT:"BR",POS_BOTTOMCENTER:"BC",POS_TOPCENTER:"TC",open:function F(R,T,S,Q){if(R&&R.hasWidgetContent&&J){J.destroy();}if(!J||!mstrmojo.all[J.id]){J=new mstrmojo.Tooltip();}Q=Q||{};Q.e=T;Q.win=S;J.open(R,Q);R.tooltip=J;},close:function P(){if(J&&!J.allowOtherTooltips){var Q=J.opener;if(Q){Q.tooltip=null;}J.close();if(Q&&Q.hasWidgetContent){J.destroy();}}}};}());(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.Widget","mstrmojo.css","mstrmojo.dom","mstrmojo.func","mstrmojo.vi.util.A11yUtility");var c=mstrmojo.css,G=mstrmojo.dom,X=mstrmojo.func,R=mstrmojo.vi.util.A11yUtility;var d={9:"Tab",13:"Enter",27:"Esc",38:"ArrowUp",40:"ArrowDown"};function A(){var g=this.value,f=this.inputNode,h=f.value,e=(g!==null&&g!==undefined)?String(g):"";if(e!==h&&(!this.keepEmpty||h!==this.emptyText)){f.value=e;}if(f.mstrmojoEmpty){c.removeClass(f,[this.emptyClass]);f.mstrmojoEmpty=null;}}function b(){var e=this.inputNode;e.value=this.emptyText||"";c.addClass(e,[this.emptyClass]);e.mstrmojoEmpty=true;}function P(){var e=this.inputNode;if(e){this.readingDom=true;this.set("value",e.value);this.readingDom=false;}}function Z(e){var f=this;if(e===-1){P.call(this);}else{if(this._lastTimeoutId){window.clearTimeout(this._lastTimeoutId);}this._lastTimeoutId=window.setTimeout(function(){delete f._lastTimeoutId;P.call(f);},e||100);}}mstrmojo.TextBox=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.TextBox",value:"",type:"text",hint:"",readOnly:false,size:"",maxLength:"",cssDisplay:"inline",tabIndex:"",emptyText:"",keepEmpty:false,emptyClass:"mstrmojo-empty",valueChangeDelay:-1,textValid:true,autoComplete:true,autoCorrect:true,autoCapitalize:true,spellCheck:true,markupString:'<input id="{@id}" class="mstrmojo-TextBox {@cssClass}"  style="{@cssText}" title="{@tooltip}" type="{@type}" value="" size="{@size}" maxlength="{@maxLength}" index="{@tabIndex}"min="{@min}" max="{@max}" placeholder="{@hint}" mstrAttach:focus,keyup,blur,paste,cut,input,click,keydown,mousedown  tstid="{@tstid}"/>',markupSlots:{inputNode:function D(){return this.domNode;}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onwidthChange:mstrmojo.Widget.widthMarkupMethod,onheightChange:mstrmojo.Widget.heightMarkupMethod,oncssClassChange:function V(){this.inputNode.className="mstrmojo-TextBox "+(this.cssClass||"");},onhintChange:function Q(){this.inputNode.setAttribute("placeholder",this.hint);},onenabledChange:function E(){var e=this.inputNode;e.disabled=!this.enabled;c.toggleClass(e,"disabled",!this.enabled);},onvalueChange:function S(){var e=this.value,f=(e===undefined)||(e===null)||(e==="");if(f){if(!this.hasFocus){b.call(this);}else{this.inputNode.value="";}}else{A.call(this);}if(G.isIE9){this.inputNode.type=f?"text":this.type;}},ontooltipChange:function U(){this.domNode.title=this.tooltip;},onreadOnlyChange:function I(){this.inputNode.readOnly=this.readOnly;},ontextValidChange:function B(){c.toggleClass(this.inputNode,["err"],!this.textValid);}},postBuildRendering:function Y(){this._super();var f=this,g=this.inputNode;if(this.autoComplete=="new-password"){g.setAttribute("autocomplete","new-password");}else{g.setAttribute("autocomplete",this.autoComplete?"on":"off");}g.setAttribute("autocorrect",this.autoCorrect?"on":"off");g.setAttribute("autocapitalize",this.autoCapitalize?"on":"off");g.setAttribute("spellcheck",this.spellCheck?"on":"off");if(this.enableAccessibility){g.setAttribute("tabindex","-1");g.onblur=X.composite([g.onblur||mstrmojo.emptyFn,function(){f.loseFocus();}]);}},focus:function T(){if(this.inputNode&&this.inputNode.offsetParent){try{this.inputNode.focus();}catch(e){}}},grabFocus:function O(e){if(!this.enableAccessibility){return ;}var f=this.inputNode;if(e){f.focus();}f.onblur=mstrmojo.func.composite([f.onblur||mstrmojo.emptyFn,function(){c.removeClass(f,R.CSS_FOCUS_VISIBLE);}]);c.addClass(f,R.CSS_FOCUS_VISIBLE);},loseFocus:function F(f){if(!this.enableAccessibility){return ;}var e=this.inputNode;if(f){e.blur();}c.removeClass(e,R.CSS_FOCUS_VISIBLE);},prefocus:function N(){this.hasFocus=true;A.call(this);},blur:function W(){this.inputNode.blur();},preblur:function a(){window.setTimeout(function(){},200);this.hasFocus=false;P.call(this);var e=this.value;if(((e===null||e==="")&&this.emptyText)||(this.keepEmpty&&e===this.emptyText)){b.call(this);}},prekeyup:function J(g){var f=g.hWin,h=g.e||f.event;Z.call(this,this.valueChangeDelay);var i=d[h.keyCode];if(this["on"+i]){this["on"+i](g);}},preinput:function K(){Z.call(this,this.valueChangeDelay);},prepaste:function L(){Z.call(this);},precut:function H(){Z.call(this);},setInvalidState:function C(e){this.set("textValid",false);if(e){this.domNode.setAttribute("title",e);}},cleanUp:function M(){this.inputNode.value="";this.set("textValid",true);this.domNode.setAttribute("title",this.tooltip);}});}());(function(){mstrmojo.requiresCls("mstrmojo.Container");var A=mstrmojo.Widget;mstrmojo.Box=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Box",markupString:'<div id="{@id}" class="mstrmojo-Box {@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:A.visibleMarkupMethod,onheightChange:A.heightMarkupMethod,onwidthChange:A.widthMarkupMethod}});}());(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.Container");var D="slot";mstrmojo.HBox=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.HBox",cellCssClass:"",cellSpacing:0,cellPadding:0,markupString:'<table id="{@id}" class="mstrmojo-HBox {@cssClass}" style="{@cssText}" cellspacing="{@cellSpacing}" cellpadding="{@cellPadding}">{@colHTML}<tr>{@tableHtml}</tr></table>',colHTML:"",markupSlots:{containerNode:function(){return this.domNode.rows[0];}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?mstrmojo.css.DISPLAY_TABLE:"none";}},buildRendering:function B(){this.tableHtml="";var N=[],F=this.children,K=(F&&F.length)||0,I;if(K){var G=0,J=this.cellCssClass?' class="mstrmojo-HBox-cell '+this.cellCssClass+'" ':"",M="<td "+J+"></td>";for(I=0;I<K;I++){N[G++]=M;F[I].slot=D+I;}this.tableHtml=N.join("");}this._super();if(K){var L={},H=this.containerNode.cells;for(I=0;I<K;I++){L["slot"+I]=H[I];}this.addSlots(L);}},addChildren:function E(K,F,G){if(!K){return K;}if(F===undefined||isNaN(F)||F<0){var J=this.children;F=(J&&J.length)||0;}var I=0,H;if(K.constructor===Array){for(I=0,H=K.length;I<H;I++){K[I].slot=D+(F+I);}}else{K.slot=D+F;}return this._super(K,F,G);},childRenderCheck:function C(G){if(G&&!G.hasRendered){var F=G.slot||this.defaultChildSlot;return !!this[F]||F.match(/^slot[\d]+$/);}return false;},onchildRenderingChange:function A(I){var F=(I&&I.src)||I,L=F&&F.domNode;if(L){var Q=F.slot;if(!this[Q]){var J=Q&&Q.match(/^slot([\d]+)$/);if(J){var O=parseInt(J[1],10),N=this.containerNode,P=N.cells,M=(P&&P.length)||0,K={};for(var H=M;H<=O;H++){var G=N.insertCell(H);K["slot"+H]=G;if(this.cellCssClass){G.className=this.cellCssClass;}}this.addSlots(K);}}}this._super(I);}});})();(function(){mstrmojo.requiresCls("mstrmojo.ui.editors.ErrorDialogContent","mstrmojo.css","mstrmojo.DI.DIConstants");mstrmojo.requiresDescs(14058,14059,20218);var D=mstrmojo.css,E=mstrmojo.desc(14058,"Show Details"),A=mstrmojo.desc(14059,"Hide Details");mstrmojo.ui.editors.LinkErrorDialogContent=mstrmojo.declare(mstrmojo.ui.editors.ErrorDialogContent,null,{scriptClass:"mstrmojo.ui.editors.LinkErrorDialogContent",markupString:'<div class="mstrmojo-error-content {@cssClass}" mstrAttach:click><div class="scroll-container"><div>{@shortDesc}</div><div class="contact">{@shortLinkMsg}</div><div class="toggle-details-link" >'+E+'</div><div class="error-details">{@longDesc}</div><div class="contact">{@longLinkMsg}</div></div></div>',markupMethods:{onshowDetailsChange:function(){var F=this.showDetails;this.toggleDetailsNode.innerHTML=F?A:E;D.toggleClass(this.domNode,"show-details",F);if(this.longLinkMsg){D.toggleClass(this.longLinkMsgNode,"invisible",!F);}this.updateScrollbars();}},markupSlots:{scrollNode:function(){return this.domNode.firstChild;},shortLinkMsgNode:function(){return this.domNode.firstChild.children[1];},shortLinkNode:function(){return this.domNode.firstChild.children[1].getElementsByClassName("dyn-link")[0];},toggleDetailsNode:function(){return this.domNode.firstChild.children[2];},longLinkMsgNode:function(){return this.domNode.firstChild.children[4];},longLinkNode:function(){return this.domNode.firstChild.children[4].getElementsByClassName("dyn-link")[0];},},shortLinkMsg:undefined,shortLinkFn:undefined,longLinkMsg:undefined,longLinkFn:undefined,onclick:function C(F){var G=F.getTarget();if(G===this.shortLinkNode&&this.shortLinkFn instanceof Function){this.shortLinkFn();}else{if(G===this.longLinkNode&&this.longLinkFn instanceof Function){this.longLinkFn();}else{if(G===this.toggleDetailsNode){this.set("showDetails",!this.showDetails);this.parent.raiseEvent({name:"EditorResized"});this.parent.positionDialog();}}}},preBuildRendering:function B(){if(this._super){this._super();}this.shortLinkMsg=this.shortLinkMsg&&this.shortLinkMsg.replace("{",'<span class="dyn-link">').replace("}","</span>");this.longLinkMsg=this.longLinkMsg&&this.longLinkMsg.replace("{",'<span class="dyn-link">').replace("}","</span>");},postBuildRendering:function(){if(!this.showToggle){D.addClass(this.toggleDetailsNode,"hide");}D.addClass(this.longLinkMsgNode,"invisible");if(!this.shortLinkMsg){D.addClass(this.shortLinkMsgNode,"invisible");}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Button");mstrmojo.HTMLButton=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.HTMLButton",markupString:'<input id="{@id}" type="button" class="mstrmojo-text mstrmojo-HTMLButton mstrButton {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:click />',markupSlots:{inputNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"inline":"none";},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"]);},onselectedChange:function(){mstrmojo.css[this.selected?"addClass":"removeClass"](this.domNode,["selected"]);},ontextChange:function(){this.inputNode.value=this.text!=null?this.text:"";},oniconClassChange:function(){this.domNode.className="mstrmojo-text mstrmojo-HTMLButton mstrButton "+this.cssClass+" "+this.iconClass+(this.enabled?"":" disabled");}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.func","mstrmojo.array","mstrmojo.Button","mstrmojo.HBox","mstrmojo.dom","mstrmojo.Box");var D=mstrmojo.dom;mstrmojo.Dialog=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Dialog",title:"",buttons:null,alignment:"center",btnAlignment:"right",zIndex:10,modal:true,listenOnRootView:false,markupString:'<div id="{@id}" class="mstrmojo-Dialog {@cssClass}" style="z-index: 1100;" tabindex="0" mstrAttach:click><div class="win mstrmojo-Editor" style="{@cssText}"><div class="mstrmojo-Editor-titlebar"><div class="mstrmojo-Editor-title">{@title}</div></div><div class="mstrmojo-Editor-content"></div><div class="mstrmojo-Editor-buttons"></div></div><div class="mstrmojo-Editor-curtain"></div><div class="mstrmojo-Editor-tip"></div></div>',markupSlots:{editorNode:function(){return this.domNode.firstChild;},curtainNode:function(){return this.domNode.childNodes[1];},titleNode:function(){return this.domNode.firstChild.firstChild;},containerNode:function(){return this.domNode.firstChild.childNodes[1];},buttonNode:function(){return this.domNode.firstChild.lastChild;},tipNode:function(){return this.domNode.lastChild;}},editorNode:null,btnHbox:null,markupMethods:{onzIndexChange:function(){this.editorNode.style.zIndex=this.zIndex;this.curtainNode.style.zIndex=this.zIndex-1;},onwidthChange:function(){this.editorNode.style.width=this.width||"auto";},onvisibleChange:function(L){if(L){return ;}var J=this.visible,K=J?"block":"none";this.editorNode.style.display=K;if(this.modal){this.curtainNode.style.display=K;}},onleftChange:function(){this.editorNode.style.left=this.left||"";},ontopChange:function(){this.editorNode.style.top=this.top||"";},ontitleChange:function(){this.titleNode.firstChild.innerHTML=this.title||"";}},preBuildRendering:function F(){var J;var K=this.buttons;if(K&&!this.btnHbox){for(J in K){K[J].cssClass=(K[J].cssClass||"")+(this.noButtonCls?"":" mstrmojo-Editor-button");}this.addChildren([{scriptClass:"mstrmojo.HBox",cssText:"float:"+this.btnAlignment,slot:"buttonNode",alias:"btnHbox",children:K},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-clearMe",slot:"buttonNode"}]);}if(this.modal){this.cssClass+=" modal";}return this._super();},buildRendering:function B(){var J=this.placeholder;if(this._super()){if(!this.parent&&!J){document.body.appendChild(this.domNode);}return true;}return false;},getResizeHandler:function E(){var J=this.id;return function(){var K=mstrmojo.all[J];K.resizeDialog();K.positionDialog();};},addListener2RootView:function(K){var L=document.querySelector("#rootView");var M=L.style.height;var J=L.style.width;this.observer=new MutationObserver(function(N){N.forEach(function(P){var O=L.style.height;var Q=L.style.width;if(P.attributeName==="style"&&(M!==O||J!==Q)){K();M=O;J=Q;}});});this.observer.observe(L,{attributes:true});},postBuildRendering:function A(){this._super();if(this.modal&&this.visible){this.curtainNode.style.display="block";}if(!this._resizeHandler){var K=this._resizeHandler=this.getResizeHandler();if(this.listenOnRootView){this.addListener2RootView(K);}else{D.attachEvent(window,"resize",K);}}this.resizeDialog();this.positionDialog();try{this.domNode.focus();}catch(J){}return true;},resizeDialog:function G(){if(this.modal){this.resizeCurtain();}},resizeCurtain:function C(){var K=this,O=K.curtainNode,J=document.body,M=document.documentElement,N=O.style,L=K.curtainPosition;N.width=Math.max(J.clientWidth,M.scrollWidth)+"px";if(L&&L.h){N.height=L.h+"px";}else{N.height=Math.max(J.clientHeight,M.scrollHeight)+"px";}if(L&&L.y){N.top=L.y+"px";}K.raiseEvent({name:"resizeCurtain"});},positionDialog:function H(){var K=this.editorNode,M=this.left,L=this.top;if(!M||!L){D.center(K);var J=K.style;if(this.alignment==="top"){J.top="10px";}if(M){J.left=M;}if(L){J.top=L;}}},destroy:function(K){var J=this._resizeHandler;if(J){if(this.listenOnRootView){this.observer&&this.observer.disconnect();}else{D.detachEvent(window,"resize",J);}}this._super(K);}});mstrmojo.toast=function I(O,M,Q,J){var P="mojoToast9",N,L=M||3000;if(J&&J.id){P=J.id+"-"+P;}try{mstrmojo.all[P].destroy();}catch(K){}mstrmojo.insert({id:P,scriptClass:"mstrmojo.Label",cssClass:(J&&J.cssClass)?J.cssClass:"toastCss",text:O}).render();N=mstrmojo.all[P].domNode;if(J&&J.dom){J.dom.appendChild(N);}else{document.body.appendChild(N);D.bottomCenter(N);}window.setTimeout(function(){if(Q){Q();}try{mstrmojo.all[P].destroy();}catch(R){}},L);};mstrmojo.mask={show:function(){var J=mstrmojo.mask.win=mstrmojo.insert({scriptClass:"mstrmojo.Box",cssClass:"fullscreen-mask"});J.render();document.body.appendChild(J.domNode);},hide:function(){mstrmojo.mask.win.destroy();}};}());(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.tooltip","mstrmojo.dom","mstrmojo.css","mstrmojo.array","mstrmojo.hash","mstrmojo.string");mstrmojo.requiresDescs(11038,11935,11936,11937,11856,11938,13138,13230,13260,14633,14636);var C=mstrmojo.hash.copy,P=mstrmojo.css,J=mstrmojo.dom,N=mstrmojo.array,E=mstrmojo.string,Q=function Q(V,T){if(!V){return ;}var S=T&&T.length||0,U;for(U=S;U>0;U--){V=V.replace(new Array(U+2).join("#"),T[U-1]);}return V;},L=function L(T){if(!T){return ;}var Z=this,V=J.position(T.refNode||Z.refNode),Y=J.position(Z.domNode),X=T.position||R.RIGHT,U=0,a=0,S=9+(T.margin!==undefined?T.margin:0),W=" ";switch(X){case R.TOP:a=-Y.h-S;W+="t";break;case R.BOTTOM:a=V.h+S;W+="b";break;case R.LEFT:U=-Y.w-S;W+="l";break;case R.RIGHT:U=V.w+S;W+="r";break;}mstrmojo.hash.forEach(C(T,{left:U,top:a,contentNodeCssClass:W,visible:false}),function(b,c){this[c]=b;},this);this.set("visible",T.invalid);},A=function A(S){var W=this,U,V=S.errorCode,X=S.errorMsg,T=S.args,Y=mstrmojo.vi.ui.rw.selectors.EnumWarningMessages;if(S.invalid){U={content:V!==null?(W.generateContentHTML(Q(Y[V],T))||Y["*"]):X};}return U;};mstrmojo.vi.ui.rw.selectors.EnumWarningMessages=C(mstrmojo.locales.validation,{"*":mstrmojo.desc(11038,"Invalid"),invalidValueVIWarning:mstrmojo.desc(11935,"Invalid characters"),emptyValueVIWarning:mstrmojo.desc(11936,"Please enter a number"),notIntegerVIWarning:mstrmojo.desc(11937,"Please enter an integer"),minValueVIWarning:mstrmojo.desc(19051,"Please enter a value greater than ##."),maxValueVIWarning:mstrmojo.desc(19050,"Value is too large."),outOfRangeVIWarning:mstrmojo.desc(11856,"Please enter value between ## and ###."),noMultiSelectionVIWaring:mstrmojo.desc(11938,"This selector does not support multiple selections."),continuousSelectionVIWaring:mstrmojo.desc(13138,"This selector does not support non-continuous selections."),bigDecimalMetricSliderVIWaring:mstrmojo.desc(13230,"Cannot qualify on big decimal value. Please change qualification type to Rank"),unableDisplaySelectionVIWarning:mstrmojo.desc(13260,"Filter cannot display actual selections."),imageSizeExceedLimitVIWarning:mstrmojo.desc(14633,"Cannot embed an image larger than ##MB. Your image is still ###MB after compression. Enter a URL to the image instead."),imageFileTypeNotSupportedVIWarning:mstrmojo.desc(14636,"Invalid image format. Please use .png, .jpg, .jpeg, .gif or .bmp."),imageOverSizeNoCompessionVIWarning:mstrmojo.desc(14665,"Cannot embed an image larger than ##MB. Enter a URL to the image instead."),largeSelectionVIWarning:mstrmojo.desc(19052,"Selecting a large number of elements may severely affect performance.")});mstrmojo.vi.ui.rw.selectors.EnumWarningPosition={TOP:1,BOTTOM:2,LEFT:3,RIGHT:4};var R=mstrmojo.vi.ui.rw.selectors.EnumWarningPosition;mstrmojo.vi.ui.rw.selectors._HasWarningMessage=mstrmojo.provide("mstrmojo.vi.ui.rw.selectors._HasWarningMessage",{_mixinName:"mstrmojo.vi.ui.rw.selectors._HasWarningMessage",warningSlotName:"warning",showWarning:function G(U){var Z=this,b=Z.warningSlotName,d=Z[b],S=U&&U.lasting||6000,X=U&&U.offsetAlgo,Y=U.refNode||this.domNode,T=U.highlight!==false,c=U.closeOnClick===false?false:true,a;if(!d){d=new mstrmojo.Tooltip({refNode:Y,offsetAlgo:X,highlight:T,closeOnClick:c,updatePopupConfig:null,cssClass:"vi-warning vi-tooltip-V"});Z.addDisposable(d);Z[b]=d;a=Z.closeOnClick=Z.getCloseOnClickListener();J.attachEvent(document.body,"click",a);}var W=U.position||R.TOP,V="vi-warning vi-tooltip-";switch(W){case R.TOP:d.cssClass=V+"V";break;case R.BOTTOM:d.cssClass=V+"A";break;case R.LEFT:d.cssClass=V+"D";break;case R.RIGHT:d.cssClass=V+"C";break;}d.open(Z,A.call(Z,U));this.adjustPosition(U);if(T){P.toggleClass(d.refNode,"mstrmojo-Warning",true);}window.clearTimeout(Z._warningTimeOut);Z._warningTimeOut=window.setTimeout(function(){Z.hideWarning();},S);},hideWarning:function H(){var T=this,S=T[T.warningSlotName];if(S&&S.visible&&S.close){if(S.highlight){P.toggleClass(S.refNode,"mstrmojo-Warning",false);}S.close();window.clearTimeout(T._warningTimeOut);delete T._warningTimeOut;}},getCloseOnClickListener:function I(){var S=this;return function(){var T=S[S.warningSlotName];if(T.closeOnClick){S.hideWarning();}};},adjustPosition:function M(S){var T=this;L.call(T[T.warningSlotName],S);},generateContentHTML:function D(S){return E.encodeHtmlString(S,true);},bindWarningHandler:function F(){N.forEach(arguments,function S(U){if(!U||!U.attachEventListener){return ;}var V=U._validationEventListener,T;if(V){U.detachEventListener(V);delete U._validationEventListener;}T=this.getValidationEvtListener();if(T){U._validationEventListener=U.attachEventListener("validationChange",this.id,T);}},this);},getValidationEvtListener:function B(){var T=this;return function S(U){var V=U.value;T[(V&&V.invalid?"show":"hide")+"Warning"](V);};},unrender:function K(S){var T=this[this.warningSlotName];if(T){T.unrender();}this._super(S);},destroy:function O(S){J.detachEvent(document.body,"click",this.closeOnClick);return this._super(S);}});}());(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo._CanValidate","mstrmojo.css","mstrmojo.vi.ui.rw.selectors._HasWarningMessage");var H=mstrmojo.css,E=mstrmojo.validation,G=E.TRIGGER,J=E.STATUSCODE;function F(L){if((this.constraints.trigger&L)>0){this.validate();}}mstrmojo.ValidationTextBox=mstrmojo.declare(mstrmojo.TextBox,[mstrmojo._CanValidate,mstrmojo.vi.ui.rw.selectors._HasWarningMessage],{scriptClass:"mstrmojo.ValidationTextBox",validationDelay:500,getInvalidMsg:function K(L){return(L&&L.msg?L.msg:"");},postBuildRendering:function A(){this._super();this._original_tooltip=this.inputNode.title;},prekeyup:function I(L){this._super(L);var P=(this.constraints.trigger&G.ONKEYUP)>0;if(P){var M=this.validationDelay;if(M){this.clearValDelayTimer();var O=this._validateHandler;if(!O){var N=this;this._validateHandler=O=function(){N.validate();if(N._valDelayTimer){window.clearTimeout(N._valDelayTimer);delete N._valDelayTimer;}};}this._valDelayTimer=window.setTimeout(O,M);}else{this.validate();}}},preinput:function D(L){this._super(L);F.call(this,G.ONKEYUP);},preblur:function B(L){this._super(L);F.call(this,G.ONBLUR);},clearValidation:function C(){this._super();var L=this.inputNode;H.removeClass(L,this.constraints.invalidCssClass||"mstrmojo-TextBox-ErrValidation");L.title=this._original_tooltip;},clearValDelayTimer:function(){var L=this._valDelayTimer;if(L){window.clearTimeout(L);}}});mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.ValidationTextBox,{onvalidationStatusChange:function(){var P=this.validationStatus;if(!P){return ;}var N=this.inputNode,L=(P.code>J.VALID),M=this.constraints.invalidCssClass;H.toggleClass(N,M||"mstrmojo-TextBox-ErrValidation",L);var O=L?this.getInvalidMsg(P):this._original_tooltip;if(!this.useRichTooltip&&O!==undefined&&O!==null){N.setAttribute("title",O);}}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.fx","mstrmojo.Dialog","mstrmojo.Label","mstrmojo._IsPopup","mstrmojo._HasPopup","mstrmojo._IsMovable","mstrmojo.ui._HasUITheme","mstrmojo.Button","mstrmojo.dom","mstrmojo.hash","mstrmojo.array","mstrmojo.tooltip","mstrmojo.ui.editors.ErrorDialogContent","mstrmojo.vi.ui.rw._SupportTabNav","mstrmojo.vi.util.A11yUtility","mstrmojo.ui.editors.LinkErrorDialogContent");var l=mstrmojo.func.composite,N=mstrmojo.dom,c=mstrmojo.Button.newWebButton,E=mstrmojo.css,b=mstrmojo.all,O=mstrmojo.hash,Z=mstrmojo.array,e=mstrmojo.vi.util.A11yUtility;function Y(t){if(!this.modal){return ;}var u=window.mstrApp;if(u&&u.modalEditorChange){u.modalEditorChange(this.id,t);}}mstrmojo.Editor=mstrmojo.declare(mstrmojo.Dialog,[mstrmojo._IsPopup,mstrmojo._HasPopup,mstrmojo._IsMovable,mstrmojo.ui._HasUITheme,mstrmojo.vi.ui.rw._SupportTabNav],{scriptClass:"mstrmojo.Editor",title:"",allowHTMLTitle:false,help:"",autoClose:false,showTitle:true,openEffect:null,themeClassName:"mojo-theme-light",useRichTooltip:true,closeEffect:null,onEditorResized:null,previousActiveElement:null,focusOnOpen:false,useBrowserTab:false,firstTabNode:null,lastTabNode:null,markupString:'<div id="{@id}" class="mstrmojo-Editor-wrapper"><div class="mstrmojo-Editor {@cssClass}" tabindex="-1" style="z-index:{@zIndex};{@cssText}" mstrAttach:mouseup,mousedown,click,contextmenu,keydown>{@titlebarHTML}<div class="mstrmojo-Editor-content"></div><div class="mstrmojo-Editor-buttons"></div></div><div class="mstrmojo-Editor-curtain"></div></div>',titleMarkupString:'<div class="mstrmojo-Editor-title-container"><div class="mstrmojo-Editor-title"></div><div class="edt-title-btn mstrmojo-Editor-help" tooltip="'+mstrmojo.desc(1143,"help")+'"></div><div class="edt-title-btn mstrmojo-Editor-close" tooltip="'+mstrmojo.desc(2102,"Close")+'"></div></div><div class="mstrmojo-Editor-titleSpacer"></div>',markupSlots:{editorNode:function a(){return this.domNode.firstChild;},titleContainerNode:function m(){return this.domNode.firstChild.firstChild;},titlebarNode:function o(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild:null;},titleNode:function U(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild:null;},helpNode:function p(){return this.showTitle?this.domNode.firstChild.firstChild.children[1]:null;},closeNode:function F(){return this.showTitle?this.domNode.firstChild.firstChild.lastChild:null;},containerNode:function V(){return this.domNode.firstChild.childNodes[2];},buttonNode:function J(){return this.domNode.firstChild.childNodes[3];},curtainNode:function q(){return this.domNode.lastChild;}},markupMethods:{ontitleChange:function(){if(this.showTitle){this.titleNode.innerHTML=this.allowHTMLTitle?this.title:mstrmojo.string.encodeHtmlString(this.title);}},onzIndexChange:function(){var t=this.zIndex;this.editorNode.style.zIndex=t;this.curtainNode.style.zIndex=t-1;},onvisibleChange:function(x){if(x){return ;}var w=this.visible,v="closeEffect",u="none";if(w){v="openEffect";u="block";if(this.useBrowserTab){var t=Array.from(this.editorNode.querySelectorAll("button, [href], input, select, textarea, [tabIndex]"));t=t.filter(function(y){return y.tabIndex!==-1;});this.firstTabNode=t[0];this.lastTabNode=t[t.length-1];}if(this.focusOnOpen){window.setTimeout(function(){this.editorNode.focus();}.bind(this),0);this.previousActiveElement=document.activeElement;}}else{if(this.previousActiveElement!==null){if(this.focusOnOpen){window.setTimeout(function(){this.previousActiveElement.focus();this.previousActiveElement=null;}.bind(this),0);}}}if(this[v]){this.playEffect(v);}else{this.editorNode.style.display=u;if(this.modal){this.curtainNode.style.display=u;}}},onhelpChange:function h(){if(this.showTitle){var u=this.help,t=this.helpNode;if(!u){t.style.display="none";}else{t.style.display="block";}}},onleftChange:function G(){this.editorNode.style.left=this.left||"";},ontopChange:function I(){this.editorNode.style.top=this.top||"";}},open:function T(u,t){this._super(u,t);Y.call(this,true);},close:function j(t){this._super(t);Y.call(this,false);},unrender:function C(t){this._super(t);Y.call(this,false);},destroy:function k(t){this._super(t);Y.call(this,false);},preBuildRendering:function A(){if(!this.slot&&!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"));this._curtain_to_body=true;Y.call(this,true);}this.titlebarHTML=(this.showTitle)?this.titleMarkupString:"<div></div><div></div>";return this._super();},postBuildRendering:function Q(){this._super();if(this.accessibilityHook){this.accessibilityHook();}},getMovingHandle:function n(){return this.titlebarNode;},getMovingTarget:function X(){return this.editorNode;},onPreClose:function H(){this.hideTooltip();return true;},premousedown:function S(t){var u=t.getTarget();if(u===this.closeNode||u===this.helpNode){E.toggleClass(u,"active",true);}},premouseup:function R(t){var u=t.getTarget();if(u===this.closeNode||u===this.helpNode){E.toggleClass(u,"active",false);}if(t.getTarget()===this.closeNode&&this.onPreClose()){this.close();}},onclick:function g(t){if(t.getTarget()===this.helpNode){if(mstrApp.showHelpTopic){mstrApp.showHelpTopic(this.help);}else{var u=(mstrApp.isWorkstationPlugin?((mstrApp.helpUrl||"../help/")+"WebHelp/Lang_"+(mstrApp.helpLocaleId||mstrApp.localeId)+"/Content/"):mstrmojo.helpPath())+(this.help||"");if(typeof workstation!=="undefined"&&mstrApp.openHelpLink){mstrApp.openHelpLink(u);}else{window.open(u,"_blank");}return false;}}},onkeydown:function P(t){if(!this.enableAccessibility){if(this.useBrowserTab&&(document.activeElement===this.lastTabNode)&&(t.e.key==="Tab")){window.setTimeout(function(){this.firstTabNode.focus();}.bind(this),0);t.cancel();t.preventDefault();}return ;}this.handleTab(t);if(!this.exitByKeyBoard){return ;}var v=t.e,u=v.keyCode;if(u===mstrmojo.Enum_Keys.ESCAPE){this.exitByKeyBoard(t);t.cancel();t.preventDefault();}},suppressClose:function(){return false;},_set_visible:function f(z,w){var u=(this[z]!==w);if(u){this[z]=w;var y=this._close_handler;if(w){if(this._curtain_to_body){this.resizeDialog();this.positionDialog();}if(this.autoClose){var x=this;y=this._close_handler=y||function(v){var AA=N.eventTarget(self,v);if(!x.suppressClose()&&AA&&AA.parentNode&&!N.contains(x.editorNode,AA,true,document.body)){x.close();}};N.attachEvent(document.body,"mousedown",y);}}else{var t=this._curtain_handler;if(t){N.detachEvent(window,"resize",t);}if(y){N.detachEvent(document.body,"mousedown",y);}}}return u;},showTooltip:function r(z,y){var x=this,v=N.findAncestorByAttr(N.eventTarget(y,z),"tooltip",true,this.domNode),w=v&&v.value;if(!x.hasOpenTooltip&&w){var u=N.position(v.node);x.richTooltip={cssClass:"vi-regular A-center vi-tooltip-A",content:w,top:Math.max(u.y+40,0),left:Math.max(u.x+4,0),posType:mstrmojo.tooltip.POS_TOPCENTER};this._super(z,y);}}});mstrmojo.Editor.openEffect_fadeIn={scriptClass:"mstrmojo.fx.AnimateProp",slot:"curtainNode",props:{backgroundColor:{start:255,stop:0,fn:function(t){t=Math.round(t);return["rgb(",t,",",t,",",t,")"].join("");}}},preStart:function(){var u=this.target,t=this.widget;t.editorNode.style.display="block";if(!t.modal){return false;}u.style.display="block";E.setOpacity(u,60);return true;}};mstrmojo.Editor.closeEffect_fadeOut={scriptClass:"mstrmojo.fx.FadeOut",slot:"curtainNode",start:0.6,stop:0,preStart:function(){var t=this.widget;t.editorNode.style.display="none";return !!t.modal;}};function D(t){return function(){b[t].destroy();};}function K(u,AB,AC,AD){var t=AB.id||"mojoAlertx9",y,AA=AB.buttons;Z.forEach(AA,function(AF){var AE=AF.onclick;AF.onclick=function(AG){var AH=b[t];if(AE&&AE.call(AF,AG)===false){return ;}AH.destroy();if(AB.enableAccessibility&&AB.navMode&&AB.docModel){AB.docModel.raiseEvent({name:"dialogClosed",dialogName:"exportPDF",needFocus:e.isKeyBoardEvent(AG.e)});}AH=null;};});try{!!b[t]&&b[t].destroy();}catch(z){}var v=AB.cssClass,w=[];if(v){w.push(v);delete AB.cssClass;}if(AD){w.push(AD);}w.push("mstrmojo-alert");y={scriptClass:"mstrmojo.Editor",id:t,width:"475px",zIndex:1000,title:AC||mstrmojo.desc(11812,"Notification"),cssClass:w.join(" "),children:[{scriptClass:"mstrmojo.Box",cssClass:AB.boxCSS||"alert-content",children:[{scriptClass:"mstrmojo.Label",text:u,arialLabel:AB.arialLabel,allowHTML:AB.allowHTML}]}],visible:true};var x=new mstrmojo.Editor(O.copy(AB,y));x.render();return x;}if(window.mstrConfig&&!window.mstrConfig.simpleDialog){mstrmojo.notify=function M(u,AA,v){v=v||{};var AB=v.forceClose,z=v.callback||mstrmojo.emptyFn,y=O.copy(AA||{},{buttons:AB?[mstrmojo.Button.newActionButton((v.buttonText||mstrmojo.desc(8607,"Dismiss")),z)]:null,showTitle:false,modal:false,top:"42px"}),w=v.duration||6000;var x=K(u,y,"",AB?"ed-notify":"ed-toast"),t=x.id;if(!AB){window.setTimeout(l([z,D(t)]),w);}else{window.setTimeout(function(){if(b[t]){b[t].editorNode.style.opacity=0.75;}},6000);}return x;};mstrmojo.confirm=function i(t,z,AB){z=z||{};var v=z.confirmBtn||{},y=z.cancelBtn||{},AA=v.hot!==false,u=!!y.hot,x=AB&&AB.title,w=[c(v.t||mstrmojo.desc(219,"Yes"),v.fn,AA,v.cfg),c(y.t||mstrmojo.desc(218,"No"),y.fn,u,y.cfg)];return K(t,O.copy(AB||{},{buttons:w,onPreClose:function(){if(y&&y.fn){y.fn();}return true;}}),x,[]);};mstrmojo.warn=function L(v,t,u){u=u||{};u.cssClass=(u.cssClass||"")+" mstrmojo-warning";return mstrmojo.confirm(v,t,u);};mstrmojo.alert=function d(y,v,x,z,t,w){var u={title:x||mstrmojo.desc(12405,"Alert"),zIndex:z,cssClass:t,buttons:[c(mstrmojo.desc(1442,"OK"),v,true)],onPreClose:function(){if(v){v();}return true;}};O.forEach(u,function(AB,AA){if(!AB){delete u[AA];}});return K(y,O.copy(w,u),x,[]);};mstrmojo.error=function W(y,u,x){var v=y||{};var w=mstrmojo.desc(96,"Error");var t=true;if(x){w=(x.title)?x.title:mstrmojo.desc(96,"Error");x.title=w;if(x.enableContactStr===false){t=false;}}K("",O.copy(x||{},{buttons:[c(mstrmojo.desc(1442,"OK"),u,true)],children:[{scriptClass:"mstrmojo.ui.editors.ErrorDialogContent",shortDesc:v.shortDesc,longDesc:v.longDesc,showToggle:!!(v.longDesc),enableContactStr:t,allowHTML:!!(x&&x.allowHTML===true)}]}),w,[]);};mstrmojo.linkError=function B(x,t,w){var u=x||{};var v=mstrmojo.desc(11812,"Notification");if(w){v=w.title||v;w.title=v;}return K("",O.copy(w||{},{buttons:[c(mstrmojo.desc(1442,"OK"),t,true)],children:[{scriptClass:"mstrmojo.ui.editors.LinkErrorDialogContent",shortDesc:u.shortDesc,longDesc:u.longDesc,shortLinkMsg:u.shortLinkMsg,shortLinkFn:u.shortLinkFn,longLinkMsg:u.longLinkMsg,longLinkFn:u.longLinkFn,showToggle:!!(u.longDesc),allowHTML:true}]}),v,[]);};}mstrmojo.Editor.ButtonConfigType=null;}());(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.hash","mstrmojo.Box","mstrmojo.Label","mstrmojo.expr","mstrmojo.ValidationTextBox","mstrmojo.Dialog","mstrmojo.cookies","mstrmojo.dom","mstrmojo.string","mstrmojo.url");mstrmojo.requiresDescs(17,18,221,9772,11773,14028,16220,16227,14138,14139,14140,14149,14522,14523,14524,16224,14526,14527);var M=mstrmojo.css,X=mstrmojo.dom,I=mstrmojo.hash,P=mstrmojo.url;var D=mstrmojo.validation,G=D.STATUSCODE,H=D.TRIGGER,V=D.VALIDATOR,K=mstrmojo.expr.DTP;var c={intervalCtr:0,qrLoaded:false,maxPollingAttempts:80,timeDelay:3000};var R={mini_badge:"#ddd",mini_badge_icon:"../style/mstr/images/badge-placeholder-m.png",t_color:"#797979",appName:"",name:""};var F={firstName:"",badgeId:""};var J={duration:undefined,elem:undefined,callback:undefined,timerInterval:null,init:function(e,d,f){this.duration=e;this.elem=d;this.callback=f;},startTimer:function(){this.stopTimer();var i=Date.now(),f,d,g;var e=this;function h(){f=e.duration-(((Date.now()-i)/1000)|0);d=(f/60)|0;g=(f%60)|0;d=d<10?"0"+d:d;g=g<10?"0"+g:g;e.elem.set("text",d+":"+g);if(f<=0){i=Date.now()+1000;e.callback();e.stopTimer();}}h();this.timerInterval=setInterval(h,1000);},stopTimer:function(){if(this.timerInterval){clearInterval(this.timerInterval);}}};function B(d){d.sn=this.serverName||mstrConfig.serverName;d.sp=this.serverPort||mstrConfig.serverPort;d.connectionId=this.connectionId||"";return d;}function S(){this.set("expired",true);this.usherProps.qrLoaded=false;}function N(){try{var f=this.usherProps;var d=this;if(f.qrLoaded){if(f.intervalCtr>f.maxPollingAttempts){S.call(d);}else{clearTimeout(this.pullTimeout);this.pullTimeout=setTimeout(function(){f.intervalCtr+=1;if(!d.stopPolling){W.call(d);}},f.timeDelay);}}}catch(g){}}function Q(f,e,d){if(mstrApp.serverRequest){mstrApp.serverRequest(f,e,d);}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,e,f);}}function W(){var e=this,f=this.usherProps,g={taskId:"usherLoginWeb",pollOnly:"true",server:this.serverName||mstrConfig.serverName,port:this.serverPort||mstrConfig.serverPort,project:this.projectName||mstrConfig.projectName,connectionId:this.connectionId},d={success:function(i){try{if(i.status=="invalid"){N.call(e);}else{if(i.status=="success"){function h(m){e.onUsherLogin(m);f.qrLoaded=false;}if(e.rememberMe===true){var j={success:function(m){h(m);},failure:function(m){e.onUsherError(m);}};var l={taskId:"usherRememberMe"};l.deviceId=mstrmojo.cookies.getCookieSetting("usher_sso_device")?mstrmojo.cookies.getCookieSetting("usher_sso_device"):"";Q(l,j,{doNotHold:true});}else{h(i);}}}}catch(k){mstrmojo.alert("usherPollForScan:\n "+k.messsage);}},failure:function(h){S.call(e);e.onUsherError(h);}};Q(g,d,{doNotHold:true});}function a(d){this.userDetails.set("text",d||"");}function L(d){var e=this;e.loginButton.set("visible",d);e.loginNotificationBox.set("visible",!d);}function C(){var g=this.usherProps;var f=this.notificationTimer;var e=this,d={success:function(j){try{if(j.status==1){function m(){L.call(e,true);}function i(){if(e.pullTimeout){clearTimeout(e.pullTimeout);}e.usherProps.intervalCtr=0;g.qrLoaded=true;N.call(e);}var l=60*5;f.init(l,e.loginNotificationBox.timer,m);f.startTimer();L.call(e,false);i();}else{e.onUsherError(j);}}catch(k){mstrmojo.alert("Error:\n"+k.message);}},failure:function(i){e.onUsherError(i);}},h={taskId:"usherNotifyMe"};h.deviceId=mstrmojo.cookies.getCookieSetting("usher_sso_device")?mstrmojo.cookies.getCookieSetting("usher_sso_device"):"";Q(B.call(this,h),d,{doNotHold:true});}function A(){var e=this,d={success:function(g){try{e.set("notificationMode",false);e.reloadQR();}catch(h){mstrmojo.alert("Error:\n"+h.messsage);}},failure:function(g){e.onUsherError(g);}},f={taskId:"usherRememberMe",rememberMe:false};if(e.userInfo.badgeId!==""){f.badgeId=e.userInfo.badgeId;}f.deviceId=mstrmojo.cookies.getCookieSetting("usher_sso_device")?mstrmojo.cookies.getCookieSetting("usher_sso_device"):"";Q(B.call(this,f),d,{doNotHold:true});}function O(h){if(this.notificationMode==true&&!h){return ;}var f=this.usherProps;this.showQRLoading(true);var e=this,d={success:function(j){try{if(j.img){e.set("notificationMode",false);e.updateQRCode(j.img);e.set("badge",j.badgeInfo&&j.badgeInfo[0]);f.intervalCtr=0;f.qrLoaded=true;this.stopPolling=false;N.call(e);}else{var k=JSON.parse(j.data);var i=k.pnEnabled||k.isPNEnabled;e.set("isPnEnabled",i);if(k.code||k.proximityBasedLogin){e.set("notificationMode",false);if(k.proximityBasedLogin&&!h){e.updateQRCodeProximity();e.set("proximityMode",true);}else{e.updateQRCode(k.code);e.set("proximityMode",false);}e.set("badge",j.badgeInfo&&j.badgeInfo[0]);f.intervalCtr=0;f.qrLoaded=true;this.stopPolling=false;mstrmojo.cookies.updateCookieSetting("usher_sso_device",j.device_id);N.call(e);}else{e.set("proximityMode",false);e.set("notificationMode",true);e.refresh.set("visible",false);if(k.photoData&&e.userInfoNode){e.userInfoNode.src="data:image/png;base64,"+k.photoData;}e.userInfo.firstName=k.firstName;e.userInfo.badgeId=k.badgeId;L.call(e,true);e.set("badge",j.badgeInfo&&j.badgeInfo[0]);}}}catch(l){mstrmojo.alert("getQRCode:\n "+l.messsage);}},failure:function(i){e.handleQRCodeError(i);S.call(e);e.onUsherError(i);},complete:function(){e.showQRLoading(false);}},g={taskId:"usherQRWeb"};g.deviceId=mstrmojo.cookies.getCookieSetting("usher_sso_device")?mstrmojo.cookies.getCookieSetting("usher_sso_device"):"";Q(B.call(this,g),d,{doNotHold:true});}function E(){var f=this,i=this.registerButton,g=this.parent.badgeNode.childNodes[1];if(i.enabled){i.set("enabled",false);M.addClass(g,["anim"]);var d={},e={success:function(j){var k=j&&j.name==f.user.value;d={msg:k?mstrmojo.desc(14139,"You've successfully registered. Please check your email to continue.")+" "+mstrmojo.desc(16222,"Or perform a MicroStrategy badge recovery."):j.getResponseHeader("X-MSTR-TaskFailureMsg"),successful:k};},failure:function(j){d={msg:j.getResponseHeader("X-MSTR-TaskFailureMsg"),successful:false};},complete:function(){i.set("enabled",true);M.removeClass(g,["anim"]);f.set("regMsg",d);}},h={taskId:"usherRegUsr",server:this.serverName||mstrConfig.serverName,project:mstrConfig.projectName,port:this.serverPort||mstrConfig.serverPort,email:this.email.value,userid:this.user.value,password:this.pwd.value};Q(h,e);}}function U(d){return mstrmojo.hash.copy(d,{scriptClass:"mstrmojo.ValidationTextBox",cssDisplay:"block",postCreate:function(){if(X.isIE9||X.isIE8||X.isIE7){this.emptyText=this.hint;}},onEnter:function(){E.call(this.parent);}});}mstrmojo.UsherLogin=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.UsherLogin",markupString:'<div id="{@id}" class="mstrmojo-UsherLogin-Container {@cssClass}" style="{@cssText}" ><div class="mstrmojo-UsherLogin-badge"><div class="icn"><img src="'+P.getPlaceholderImageURL()+'"/></div><div class="dots"><div class="dot1"></div><div class="dot2"></div><div class="dot3"></div></div><div class="app"><img src="../style/mstr/images/badge-app.png"/></div></div><div class="mstrmojo-UsherLogin-badgeLabel"><div class="app-name"></div><div id="badgename" class="badge-name"></div></div><div class="mstrmojo-UsherLogin"><div class="mstrmojo-UsherLogin-QR mode"><img class="QR" src="'+P.getPlaceholderImageURL()+'" alt="" /></div><div class="mstrmojo-UsherLogin-register mode"></div></div><div class="mstrmojo-UsherLogin-userInfo mode"><img class="userInfo" src="'+P.getPlaceholderImageURL()+'" alt="" /></div><div class="mstrmojo-UsherLogin-notification"></div><div class="mstrmojo-UsherLogin-remember-setting"><div class = "mstrmojo-UsherLogin-remember"></div><div class = "mstrmojo-UsherLogin-forget"></div></div><div class="mstrmojo-UsherLogin-link"></div></div>',markupSlots:{containerNode:function(){return this.domNode;},badgeNode:function(){return this.domNode.firstChild;},badgeIconNode:function(){return this.domNode.firstChild.firstChild.firstChild;},badgeLabelNode:function(){return this.domNode.childNodes[1];},usherNode:function(){return this.domNode.childNodes[2];},qrNode:function(){return this.domNode.childNodes[2].firstChild;},qrCodeNode:function(){return this.domNode.childNodes[2].firstChild.firstChild;},refreshNode:function(){return this.domNode.childNodes[2].firstChild.lastChild;},registerNode:function(){return this.domNode.childNodes[2].lastChild;},userNode:function(){return this.domNode.childNodes[3];},userInfoNode:function(){return this.domNode.childNodes[3].firstChild;},notificationNode:function(){return this.domNode.childNodes[4];},rememberSettingsNode:function(){return this.domNode.childNodes[5];},rememberNode:function(){return this.domNode.childNodes[5].firstChild;},forgetNode:function(){return this.domNode.childNodes[5].lastChild;},linksNode:function(){return this.domNode.lastChild;}},markupMethods:{onqrCodeChange:function(){if(this.qrCodeNode){this.qrCodeNode.src=this.qrCode;}},onbadgeChange:function(){var e=this.badge||R,i=e.badgeFormat,d=i&&JSON.parse(i)||{isnull:true},g=this.badgeLabelNode,f=this.badgeIconNode,h=this.domNode;if(this.showBadgeBackgroundImage){h.style.backgroundColor=d.mini_badge;if(d.bg_4){h.style.backgroundImage="url("+d.bg_4+")";}}f.src=d.mini_badge_icon||R.mini_badge_icon;if(!d.isnull&&!d.mini_badge_icon){M.addClass(f.parentNode,"default");}g.firstChild.innerHTML=mstrmojo.string.encodeHtmlString(e.appName||R.appName);g.lastChild.innerHTML=mstrmojo.string.encodeHtmlString(e.name||R.name);g.lastChild.title=e.name||R.name;g.style.color=d.t_color||R.t_color;this.linksNode.style.color=d.t_color||R.t_color;},onexpiredChange:function(){M.toggleClass(this.usherNode,"expired",this.expired);},onloadingChange:function(){M.toggleClass(this.usherNode,"loading",this.loading);},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";if(this.visible&&this.canRequestQR()&&!this._lastVisible){O.call(this);}this.stopPolling=!this.visible;this._lastVisible=this.visible;},onnotificationModeChange:function(d){M.toggleClass(this.containerNode,"notificationMode",this.notificationMode);},onproximityModeChange:function(d){M.toggleClass(this.containerNode,"proximityMode",this.proximityMode);},onisPnEnabledChange:function(){this.hideRememberMe(!this.isPnEnabled);}},qrCode:P.getPlaceholderImageURL(),badge:R,expired:false,onUsherLogin:mstrmojo.emptyFn,onUsherError:mstrmojo.emptyFn,showBadgeBackgroundImage:true,usherProps:null,serverName:null,serverPort:null,rememberMe:false,userInfo:null,notificationTimer:null,loadQR:false,notificationMode:false,isPnEnabled:false,init:function T(d){if(this._super){this._super(d);}M.addWidgetCssClass(this,"");this.usherProps=this.usherProps?I.copy(this.usherProps,I.clone(c)):I.clone(c);this.userInfo=this.userInfo?I.copy(this.userInfo,I.clone(F)):I.clone(F);this.notificationTimer=this.notificationTimer?I.copy(this.notificationTimer,I.clone(J)):I.clone(J);},destroy:function Y(d){this.stopPolling=true;clearTimeout(this.pullTimeout);this._super(d);},canRequestQR:function(){return this.usherProps&&(this.loadQR||(this.serverName||mstrConfig.serverName));},showUserInfo:function(d){this.refresh.set("visible",false);this.refresh.set("visible",false);},updateQRCode:function(d){this.set("qrCode","data:image/png;base64,"+d);this.set("expired",false);this.refresh.set("visible",false);},updateQRCodeProximity:function(){this.set("qrCode","../images/WaitUsherRadar.gif");this.set("expired",false);this.refresh.set("visible",false);},handleQRCodeError:function(){this.set("qrCode","../style/mstr/images/msgError.gif");this.set("expired",true);this.refresh.set("visible",true);},showQRLoading:function Z(d){this.set("loading",d);if(d){this.refresh.set("visible",false);}},postBuildRendering:function(){this._super();this.registerForm.set("tabIndex",-1);},toggleRegister:function(d){this.registerVisible=(d!==undefined)?d:!this.registerVisible;M.toggleClass(this.usherNode,"show-register",this.registerVisible);this.registerLink.set("text",this.registerLink.texts[this.registerVisible?1:0]);this.registerLink.addRegisterLinkHandler();if(this.isPnEnabled===true){this.hideRememberMe(this.registerVisible&&this.isPnEnabled);}},hideRememberMe:function(d){M.toggleClass(this.rememberSettingsNode,"hide-rememeber",d);},reloadQR:function(){if(this.canRequestQR()){if(this.pullTimeout){clearTimeout(this.pullTimeout);}this.usherProps.intervalCtr=0;this.usherProps.qrLoaded=false;if(this.visible){O.call(this);}}},children:[{scriptClass:"mstrmojo.Label",slot:"qrNode",alias:"refresh",cssClass:"refresh",text:mstrmojo.desc(14028,"Refresh QR Code"),visible:false,onclick:function(){O.call(this.parent);}},{scriptClass:"mstrmojo.Box",slot:"registerNode",alias:"registerForm",regMsg:null,children:[U({alias:"user",cssClass:"login-username",cssDisplay:"block",hint:mstrmojo.desc(17,"User name")}),U({alias:"pwd",cssClass:"login-pwd",hint:mstrmojo.desc(18,"Password"),type:"password"}),U({alias:"email",cssClass:"login-email",dtp:K.VARCHAR,constraints:{validator:V.VALIDATE_EMAIL,trigger:mstrmojo.validation.TRIGGER.ONKEYUP},bindings:{visible:"this.parent.parent.usherRegistrationOption > 2"},hint:mstrmojo.desc(9772,"Email")}),U({alias:"confirmEmail",cssClass:"login-email",bindings:{visible:function(){return this.parent.parent.usherRegistrationOption>2;}},hint:mstrmojo.desc(14149,"Confirm Email"),onpaste:function(d){X.preventDefault(d.hWin,d.e||d.hWin.event);}}),{scriptClass:"mstrmojo.Box",alias:"regMsg",cssClass:"register-msg",bindings:{regMsg:function(){return this.parent.regMsg;},visible:function(){return this.parent.regMsg;}},onregMsgChange:function(){if(this.domNode){this.domNode.style.color=this.regMsg&&this.regMsg.successful?"#42C31E":"#f00";}},children:[{scriptClass:"mstrmojo.Label",alias:"msg",cssClass:"register-msg-txt",bindings:{text:function(){return this.parent.regMsg.msg;}}},{scriptClass:"mstrmojo.Label",alias:"icn",cssClass:"register-msg-icn",onclick:function(){this.parent.parent.parent.toggleRegister();this.parent.parent.set("regMsg",null);}}]},{scriptClass:"mstrmojo.Button",alias:"registerButton",cssClass:"register mstrmojo-WebButton hot",cssDisplay:"inline-block",text:mstrmojo.desc(11773,"Register"),bindings:{enabled:function(){var j=this.parent.user.value,g=this.parent.email.value,e=this.parent.confirmEmail.value;var f=j.length>0;if(f){if(this.parent.parent.usherRegistrationOption>1){var i=g.length>=3&&e.length>=3&&g.toUpperCase()===e.toUpperCase()&&this.parent.email.validationStatus.code===G.VALID;if(i){if(this.parent.parent.usherRegistrationOption==7){var h=this.parent.parent.usherRegistrationDomain.toUpperCase();var d=g.substr(g.indexOf("@")+1).toUpperCase();return h.indexOf(d)>=0;}}return i;}}return f;}},onclick:function(){E.call(this.parent);}},{scriptClass:"mstrmojo.Button",alias:"registerCancelButton",cssClass:"register-cancel",cssDisplay:"inline-block",text:mstrmojo.desc(221,"Cancel"),onclick:function(){var d=this.parent;d.parent.toggleRegister();d.set("regMsg",null);d.user.set("value","");d.pwd.set("value","");d.email.set("value","");d.confirmEmail.set("value","");d.user.domNode.focus();}}]},{scriptClass:"mstrmojo.CheckBox",slot:"rememberNode",alias:"remember-me",label:mstrmojo.desc(14522,"Remember me"),onclick:function b(){this.parent.set("rememberMe",this.checked);}},{scriptClass:"mstrmojo.Label",slot:"forgetNode",allowHTML:true,text:mstrmojo.desc(14527,"Forget me/Switch user"),onclick:function(){A.call(this.parent);}},{scriptClass:"mstrmojo.Label",slot:"linksNode",allowHTML:true,text:'<a id="proximityProblems" href="#">Login via Phone</a>',onclick:function(d){O.call(this.parent,true);return false;},bindings:{visible:"this.parent.proximityMode"},},{scriptClass:"mstrmojo.Label",slot:"linksNode",allowHTML:true,text:mstrmojo.desc(16220,"Use your ###MicroStrategy Badge## app to scan the QR Code.").replace("###","").replace("##",""),},{scriptClass:"mstrmojo.Label",slot:"linksNode",alias:"registerLink",cssClass:"register-label",allowHTML:true,bindings:{visible:"this.parent.usherRegistrationOption > 0"},text:"",texts:[mstrmojo.desc(16227,"Don't have MicroStrategy Badge? Click ###here## to register."),mstrmojo.desc(14140,"Display your ###QR Code##.")],postCreate:function(){this.set("text",this.texts[0]);},ontextChange:function(){this.text=this.text.replace("###",'<a href="#">').replace("##","</a>");},addRegisterLinkHandler:function(){var d=this.domNode&&this.domNode.querySelector(".register-label a"),e=function(){mstrmojo.all[this.parent.id].toggleRegister();return false;}.bind(this);X.attachEvent(d,"click",e);}},{scriptClass:"mstrmojo.Label",alias:"userDetails",cssClass:"user-details",slot:"userNode"},{scriptClass:"mstrmojo.Button",alias:"loginButton",cssClass:"mstrmojo-WebButton login-button .mstrButton",cssDisplay:"inline-block",text:mstrmojo.desc(16224,"Login with MicroStrategy Badge"),slot:"notificationNode",visible:false,onclick:function(){C.call(this.parent);},onvisibleChange:function(){var d=this.parent,e=mstrmojo.desc(14523,"Hi ")+" "+d.userInfo.firstName;this.visible?e+="!":e+=mstrmojo.desc(14524,", please approve on your device.");a.call(d,e);}},{scriptClass:"mstrmojo.Box",alias:"loginNotificationBox",cssClass:"login-notification",slot:"notificationNode",visible:false,children:[{scriptClass:"mstrmojo.Label",alias:"timer",cssClass:"notification-timer"},{scriptClass:"mstrmojo.Label",alias:"notificationFailure",cssClass:"notification-failure",text:mstrmojo.desc(14526,"Did not get notification"),onclick:function(){L.call(this.parent.parent,true);}}]},]});}());(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.TextBox","mstrmojo.Button","mstrmojo.HBox","mstrmojo.EnumAuthenticationModes","mstrmojo.UsherLogin","mstrmojo.string","mstrmojo.cookies");mstrmojo.requiresDescs(17,18,221,11804,11863);var F=mstrmojo.EnumAuthenticationModes,D={};D[F.LDAP]=mstrmojo.desc(1947,"LDAP Authentication");D[F.DATABASE]=mstrmojo.desc(1948,"Database Authentication");var L={LIVE_OR_HL:0,PERSISTED:1};function B(){return(JSON.parse(decodeURIComponent(mstrmojo.cookies.getCookieSetting("lastMsgID")||"{}")))[mstrConfig.lastMsgKey];}function C(){var Q=this,R=Q.stdLoginInfo,O=R.user.value,N=R.tsvCode.value,S=R.pwd.value,T={taskId:"login",server:mstrConfig.serverName,project:mstrmojo.string.decodeHtmlString(mstrConfig.projectName),port:mstrConfig.serverPort,authMode:mstrConfig.authMode,setAsActiveSession:true};var P=B();if(P){T.msgID=P;}if((this.authMode&(F.STANDARD|F.LDAP|F.DATABASE))>0){T.userid=O;T.password=S;T.tsvCode=N;}mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(W){if(W&&W.sessionState){mstrApp.updateSessionState(W.sessionState);if(mstrApp.sessionManager){mstrApp.sessionManager.restart();}var Z=W;var Y=Z.servletState;if(Y){if(mstrApp){mstrApp.servletState=Y;}if(mstrConfig){mstrConfig.servleState=Y;}}var V=W.resCode;if(V==L.LIVE_OR_HL&&(mstrApp.isVI||mstrApp.scriptClass==="mstrmojo.OIVMApp"||mstrApp.analysisID)){mstrmojo.xhr.request("post",mstrConfig.taskURL,{success:function(){var a=Q.config.callback,b=a.success;if(b){b(Z);}},failure:function(){mstrmojo.form.send({evt:3010,src:mstrApp.name+".3010"},null,"POST");}},{taskId:"docXMLResults",sessionState:W.sessionState,msgID:W.msgID,resultFlags:33554432});}else{var U=Q.config.callback,X=U.success;if(X){X(Z);}}}Q.destroy();},failure:function(U){if(Q.authMode===mstrmojo.EnumAuthenticationModes.NTCREDENTIAL){Q.set("visible",true);}mstrmojo.alert(U.getResponseHeader("X-MSTR-TaskFailureMsg"),null,null,Q.zIndex);}},T);}function M(){if(mstrApp.sessionManager){mstrApp.sessionManager.gotoLogoutPage();}}mstrmojo.LoginEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.LoginEditor",cssClass:"mstrmojo-LoginEditor",title:mstrmojo.desc(11804,"Log in to"),btnAlignment:"right",help:null,config:{callback:{},taskParams:{}},authMode:F.STANDARD,usherEnabled:false,init:function K(N){this._super(N);this.title+=" "+mstrApp.projectName;this.set("authMode",parseInt(mstrConfig.authMode,10));if(this.isUsherLogin()){mstrmojo.css.addWidgetCssClass(this,"usher");}},isUsherLogin:function(){return this.authMode===F.USHER;},onvisibleChange:function J(){if(this.visible&&(mstrmojo.dom.isFF||mstrmojo.dom.isWK)){var N=this.stdLoginInfo.user;window.setTimeout(function(){N.focus();},50);}},onOpen:function E(){if(this.authMode===mstrmojo.EnumAuthenticationModes.NTCREDENTIAL){this.set("visible",false);}},onClose:function G(){M();},destroy:function I(){mstrmojo.dom.detachEvent(document.body,"mousedown",this.stopPropagation,true);this._super();},postBuildRendering:function A(){if(this.authMode===mstrmojo.EnumAuthenticationModes.NTCREDENTIAL){C.call(this);return ;}else{var N=this._super();this.stopPropagation=function(O){O.stopPropagation();};mstrmojo.dom.attachEvent(document.body,"mousedown",this.stopPropagation,true);return N;}},preBuildRendering:function H(){if(this.isUsherLogin()){var O=this,N=mstrmojo.insert({scriptClass:"mstrmojo.UsherLogin",alias:"usherLogin",onUsherLogin:function(){mstrConfig.authMode=F.USHER;C.call(O);}});this.addChildren([N],1);}return this._super();},children:[{scriptClass:"mstrmojo.Label",cssText:"margin-bottom: 20px; line-height: 1.5em;",text:mstrmojo.desc(11863,"Your user session has timed out due to inactivity, and you have been automatically logged out. Please log in again.")},{scriptClass:"mstrmojo.Box",alias:"stdLoginInfo",cssClass:"std-login-container",bindings:{visible:function(){return this.parent.authMode!==F.USHER;}},children:[{scriptClass:"mstrmojo.TextBox",alias:"user",cssClass:"login-username",cssDisplay:"block",hint:mstrmojo.desc(17,"User name"),postCreate:function(){if(mstrmojo.dom.isIE9||mstrmojo.dom.isIE8||mstrmojo.dom.isIE7){this.emptyText=mstrmojo.desc(17,"User name");}},onEnter:function(){C.call(this.parent.parent);}},{scriptClass:"mstrmojo.TextBox",alias:"pwd",cssClass:"login-pwd",cssDisplay:"block",hint:mstrmojo.desc(18,"Password"),type:"password",postCreate:function(){if(mstrmojo.dom.isIE9||mstrmojo.dom.isIE8||mstrmojo.dom.isIE7){this.emptyText=mstrmojo.desc(18,"Password");}},onEnter:function(){C.call(this.parent.parent);}},{scriptClass:"mstrmojo.TextBox",alias:"tsvCode",cssClass:"login-tsvCode",cssDisplay:"block",hint:mstrmojo.desc(13825,"Usher code"),bindings:{visible:function(){return mstrConfig.features["is-two-step-verification-required"];}},postCreate:function(){if(mstrmojo.dom.isIE9||mstrmojo.dom.isIE8||mstrmojo.dom.isIE7){this.emptyText=mstrmojo.desc(13825,"Usher code");}},onEnter:function(){C.call(this.parent.parent);}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-LoginEditor-authMode",bindings:{visible:function(){return this.parent.parent.authMode===F.LDAP||this.parent.parent.authMode===F.DATABASE;},text:function(){return D[this.parent.parent.authMode]||"";}}}]},{scriptClass:"mstrmojo.HBox",slot:"buttonNode",alias:"btns",cssClass:"mstrmojo-Editor-buttonBar",children:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Button mstrmojo-WebButton hot",text:mstrmojo.desc(26,"Login"),bindings:{enabled:"this.parent.parent.stdLoginInfo.user.value.length > 0",visible:function(){return this.parent.parent.authMode!==F.USHER;}},onclick:function(){C.call(this.parent.parent);}},{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-Button mstrmojo-WebButton",text:mstrmojo.desc(221,"Cancel"),onclick:function(){M();}}]}]});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.Dialog","mstrmojo.Button","mstrmojo.HTMLButton","mstrmojo.Label","mstrmojo.form","mstrmojo.LoginEditor");mstrmojo.requiresDescs(2699,7773,11812,11865,13380,13381,13382,16420);var E=mstrmojo.desc(13382,"Your user session will time out due to inactivity in # ##."),A=mstrmojo.desc(16420,"This session may have timed out or the connection is down. Please refresh and try again."),U=mstrmojo.desc(11865,"Your sessions is expired."),T=60,N=false,H=null,B=null,I=null;function O(){return mstrApp.sessionState||window.microstrategy&&microstrategy.sessionState;}function L(X,W){if(mstrApp.is508){for(var V in W){X.setAttribute(V,W[V]);}}}mstrmojo.SessionManager=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.SessionManager",cssClass:"mstrmojo-SessionManager",width:"370px",title:mstrmojo.desc(11812,"Notification"),msgInterval:1,checkSessionInterval:20,zIndex:10000,maxSessionIdleTime:600,timeBeforeSessionTimeoutWarning:60,remainingTime:60,sessionTimedout:false,buttons:[mstrmojo.Button.newWebButton(mstrmojo.desc(13381,"Stay logged in"),function(){var V=this.parent.parent;if(B){V.keepSessionAlive();}V.hideMessage();},true,{onRender:function(){L(this.domNode,{tabindex:0,role:"button","aria-label":mstrmojo.desc(13381,"Stay logged in")});}}),mstrmojo.Button.newWebButton(mstrmojo.desc(13380,"Log out"),function(){this.parent.parent.hideMessage();mstrmojo.form.send({evt:3019,src:mstrApp.name+".3019"});},null,{onRender:function(){L(this.domNode,{tabindex:0,role:"button","aria-label":mstrmojo.desc(13380,"Log out")});}})],children:[{scriptClass:"mstrmojo.Label",alias:"message",cssClass:"mstrmojo-SessionManager-msg",text:"",allowHTML:true,ontextChange:function(){if(mstrApp.is508){this.refresh();var V=this.domNode;L(V,{tabindex:-1,role:"alert"});window.setTimeout(function(){V.focus();},0);}}}],postBuildRendering:function(){this._super();if(mstrApp.is508){this.msgInterval=10;L(this.editorNode,{role:"alertdialog",tabindex:-1});}},updateMsg:function D(W){var V;if(W>60){V=E.replace("##",mstrmojo.desc(2699,"minutes")).replace("#","<b>"+Math.ceil(W/T)+"</b>");}else{if(W>-1){V=E.replace("##",mstrmojo.desc(7773,"seconds")).replace("#","<b>"+W+"</b>");}else{V=mstrmojo.desc(11865,"Your session is expired.");}}this.message.text="";this.message.set("text",V);this.remainingTime=W;},showMessage:function G(V){this.updateMsg(V);this.open();N=true;},hideMessage:function K(){if(B){window.clearInterval(B);B=null;window.clearInterval(I);I=null;}this.close();N=false;},popupTimeoutWarning:function M(Z){if(N){return ;}var X=this,Y=(typeof Z==="number")?Z:X.timeBeforeSessionTimeoutWarning,V=Y,W=mstrmojo.now();if(mstrApp.enableWarningSessionTimeout){if(!this.hasRendered){this.render();}this.showMessage(V);}window.clearInterval(B);B=window.setInterval(function(){if(V<1){window.clearInterval(B);B=null;window.clearInterval(I);I=null;window.setTimeout(function(){if(mstrApp.enableWarningSessionTimeout){X.gotoLogoutPage();}else{X.sessionTimedout=true;X.closeSession();}},200);}var a=Math.round((mstrmojo.now()-W)/1000);V=Y-a;X.updateMsg(V);},this.msgInterval*1000);window.clearInterval(I);I=window.setInterval(function(){X.isSessionAlive();},this.checkSessionInterval*1000);},warningTimeoutTimer:function R(V){var W=this;window.clearTimeout(H);H=window.setTimeout(function(){H=null;W.isSessionAlive();},(V-this.timeBeforeSessionTimeoutWarning)*1000);},isSessionAlive:function F(){var V=this,X={success:function(Y){var Z=parseInt(Y,10);if(Z!==-1){if(Z>V.remainingTime){V.hideMessage();}if(Z>V.timeBeforeSessionTimeoutWarning){V.warningTimeoutTimer(Z);}else{V.popupTimeoutWarning(Z);}}else{window.clearInterval(I);V.popupTimeoutWarning(0);}},failure:function(){mstrmojo.alert(A);}},W={taskId:"isSessionAlive",notRestartSessionManager:true};mstrmojo.xhr.request("POST",mstrConfig.taskURL,X,W);},keepSessionAlive:function S(){var V=this,X={success:function(Y){if(Y){V.warningTimeoutTimer(V.maxSessionIdleTime);}else{V.sessionTimedout=true;mstrmojo.alert(U);}},failure:function(){mstrmojo.alert(A);}},W={taskId:"keepSessionAlive"};mstrmojo.xhr.request("POST",mstrConfig.taskURL,X,W);},closeSession:function J(){var V=this;mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(){V.sessionTimedout=true;}},{taskId:"closeSessions",sessionStates:O(),notRestartSessionManager:true});},restart:function(){this.sessionTimedout=false;this.hideMessage();if(this.maxSessionIdleTime>this.timeBeforeSessionTimeoutWarning){this.warningTimeoutTimer(this.maxSessionIdleTime);}},start:function C(){var X=mstrConfig.lastMsgKey;if(this.maxSessionIdleTime>this.timeBeforeSessionTimeoutWarning){this.warningTimeoutTimer(this.maxSessionIdleTime);}var W=function(){window.localStorage.setItem("msg_recovery_notify"+X,1);};if(window.addEventListener){window.addEventListener("beforeunload",W);}else{window.attachEvent("onbeforeunload",W);}var V=window.sessionStorage;if(V){V.setItem("msg_browser_not_closed"+X,1);V.setItem("msg_user_login",0);}},openLoginEditor:function Q(X){if(window.mstrmobile&&window.mstrmobile.onSessionExpired){window.mstrmobile.onSessionExpired();return ;}var W="LoginEditor",V=mstrmojo.all[W];if(!V){V=mstrmojo.insert({id:W,scriptClass:"mstrmojo.LoginEditor",config:{callback:{}},zIndex:10000});}V.config.callback=X;V.open();},gotoLogoutPage:function P(){mstrmojo.form.send({evt:3008,src:mstrApp.name+".3008",autoLoggedout:true,Server:mstrConfig.serverName,Port:mstrConfig.serverPort,Project:mstrmojo.string.decodeHtmlString(mstrConfig.projectName),loginReq:true},null,"POST");}});}());